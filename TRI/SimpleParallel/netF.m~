function netF = netF( q, P, params )
% netF.m
%   Determine the net force and torque on the central element 

[L_l, B_l, N_l] = deal(params.L_l, params.B_l, params.N_l); 
[L_r, B_r, N_r] = deal(params.L_r, params.B_r, params.N_r);
K = [params.kelast_l; params.kelast_r];
load = params.load;
[s, w] = deal(q(1), q(2));

J_l = [pi*(B_l^2 - 3*(L_l+s)^2) / (2*pi*N_l+w)^2,...
       pi*(L_l+s)*((L_l+s)^2 - B_l^2) / (2*pi*N_l+w)^3];

J_r = [pi*(B_l^2 - 3*(L_l+s)^2) / (2*pi*N_l+w)^2,...
       pi*(L_l+s)*((L_l+s)^2 - B_l^2) / (2*pi*N_l+w)^3];

J = [J_l; J_r];

netF = J'*P + K'*q + load;


end

