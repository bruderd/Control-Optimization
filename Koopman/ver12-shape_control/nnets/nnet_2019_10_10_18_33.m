function [Y,Xf,Af] = nnet_2019_10_10_18_33(X,~,~)
%NNET_2019_10_10_18_33 neural network simulation function.
%
% Auto-generated by MATLAB, 10-Oct-2019 18:33:01.
% 
% [Y] = nnet_2019_10_10_18_33(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 8xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.328467178422582;-0.911048438302258;-0.234011224382851;-0.073243651031802;-0.234037138681609;-1.07546003026704e-12;-1;-1];
x1_step1.gain = [2.87695026827503;1.55373290187769;4.89056550653878;11.6697870896223;5.72628250700984;773830090669.184;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [3.3920090501759858626;1.8226505682293485666;2.1350719293567310686;1.9780082181785776374;0.57550461376458561524;2.0294328225290283463;2.8335113370219437989;1.7013235757763272016;2.1516850347709386426;1.3498432729967249077;-0.27178010370671401574;0.79097075567187258294;-0.63662824198432432787;0.7179041362139944038;0.31203256462609868516;-0.4797194090842694103;1.524884204414924227;-0.24597650498682815945;3.08838714183851204;-0.93069056694602414481;-0.52210136771798187905;0.73719958369667193399;1.2262296521632107815;-1.8617340989257755712;1.5352503186546713199;-3.153290656185207208;0.85492692282307225504;2.7430704402792569496;-2.9706201982483779744;-2.34954434360390918];
IW1_1 = [-2.5210776289055432109 -0.16521011315872391467 0.78563541529901892435 -1.8271219183568354616 -0.58486984659297835965 1.9237873711715240965 0.11864196726157535955 0.086169310689257289093;-2.8916064846321392068 1.4274526051033844531 0.60704655262479045863 -0.91483130361640663253 1.6189537815453851621 -1.5868975538380702961 -2.3770945091849267072 2.0904280511077466542;1.4646851396868088013 0.45459351190532876208 1.472808748190073791 0.29223763638902788831 -0.22370528635750872026 -1.1975940105435400884 1.0955713969952503017 0.73801880463193891835;-0.53516675579664563234 -0.093321163920139948988 1.1525275517184334628 1.17588780550994354 1.2587109082647636171 -0.044817843657146055891 0.17092597634091391545 -2.439178980507108907;0.51563148777158895886 1.698503333298432727 1.0666008022039086267 0.64508283140004007983 1.2181059991612002147 -1.4663419324357531703 -0.99952658194914267842 0.25701182445036069302;0.58908403657967101097 3.056536982093032595 1.2317270199283281151 0.21823557267067905663 3.3699196933474580007 -2.6021699605712189651 -1.969970141726747892 -1.1087293737724865927;-0.62958353073146666734 1.3999037604069917151 -2.5403956837375289979 1.4149776190137353105 -0.35875956048210766447 0.68482216051372157839 -0.70912132407240446863 0.64944565836724943431;0.69880313340060795646 0.14693793014887654436 0.94566220500530007165 0.44161405151841326422 -0.22813906186451374247 -0.13786313399864766338 2.7333153803053704678 -1.2773006294702946573;-2.8264002197982334152 0.30356769534292360468 2.1746977594357783659 0.3790279163842079635 0.54356876398028930453 -0.86311972498041256152 0.37694921006172366074 2.5193648154402805694;1.6713642699224520172 2.4836017908910288376 -0.55323788638043858157 0.25065685390469594207 0.36039600483156220001 -0.40540784615233077526 -0.12027177554879441013 2.5595624795789468919;1.401844050834689881 1.3141181795899039564 1.4880209142607818684 0.040686539089170942196 0.51191576359264767682 0.39727461363617538881 1.0703433574202523282 0.58971700074743438336;1.4609389783272854757 -0.066385852723634092287 -1.8250409885460328052 -0.48374314752461294864 -0.014770725431726984198 0.41392532753559702074 2.008971213231570907 -0.052903425775294520006;-2.438245797371522805 -3.6022707193593053177 0.11965235588468921268 0.77845544547771550192 -1.7185375013964732105 -2.2933692449182037087 5.7535759737472620401 -2.213000994776769037;0.48223277089948679563 -1.6881248171402518654 0.39926074250462512127 -1.2936078263024548551 -0.1672653361355761481 -1.1505124206984655988 1.0344979913431422425 -2.3752737511237214107;-0.52996588783874853945 -1.5673543816116850547 1.5074025880194690252 -0.27308006420333430508 0.14455996076127564098 -1.4762395059930979446 0.71900877261066542534 -2.3011065739064635594;-0.78795932690101821994 0.85500694376855901346 1.112479185787685676 0.5078142575247811541 -1.5818984486615987883 -0.042651837460440350513 -5.0676534749281465508 -0.61320697823342185107;-3.7007007233089388443 -2.030366660425304115 -1.0793741712419200329 -0.5843554422803401982 -2.1547243765244323832 1.3550066341421220795 -2.7494014807910009957 2.0739299465507179399;-2.8948101010151994217 0.61487303034208695696 1.2449757883478151932 0.51290786295889245761 -0.59672156578637292057 -0.83997271624871094886 -1.4730464467060333522 0.74747345693318723026;5.3405349672044106768 1.7648658768278653319 2.0507615441127202693 0.8194154847792438634 2.3567493122294878027 -1.5095735388456241743 -1.3847995172600633396 2.5461004532405553391;-2.2860882871439089925 -0.92544337491398065421 -0.027057415117979016772 0.24670811215237986591 -0.16962179938455534955 -0.40618455980873702238 3.8987044233915528757 -1.1634678220977807683;-0.4694501292443630236 -1.9929300013209636511 1.1896060028845703016 -0.68922381225109563552 1.2171749175388493214 -0.84263685982292901855 -1.8946139625869327094 0.21860291087774327834;-1.345826854164698938 0.20985768529109488645 0.042097794104958660699 1.3363752578690639705 -1.0508230115759995549 -0.43283533174244470665 0.72489906335018028383 -2.5776050919724000643;1.8765856766450506043 1.2332177824945271816 0.71444924296493483862 0.75784206449453117571 -0.31401654034588644127 -1.3552805497199971185 2.106579479110372688 -0.12705411108990463664;-2.120008154011549184 -1.8603926367467424896 -1.4880362691615587334 -0.39768531832395703773 -2.5644408579555664218 1.0242893311247323052 -1.5849760540894826111 0.11034406308030571264;1.6703064096055881826 1.32283338998054667 0.62546555247113633236 0.35903115407989266705 1.9751128918206282137 -1.9045251885145531023 1.5622170037849176794 -0.19417699383093209309;2.1279560241673647347 0.70503993720962565561 -1.7934653608690416249 -0.78827711161458502431 -0.11416838202109248768 3.3924171924165449354 2.4514321719973741764 -0.64918939391227781233;1.1534195826917523764 -0.46220947442142362727 0.23061026303386752967 -2.717609494489121591 -1.4438367134367924294 1.0322240204944514996 -0.2397005223414770958 -1.0232769322543793233;0.31391703408833337985 -0.61197495268897417198 -1.6080714659368950947 1.1527868371220617583 -0.41709637966852819435 -0.98449529033575111647 0.62296030690459736068 -1.9785809981062385532;-0.95374030668163189972 0.9432454669966005012 1.1228593402314721583 -0.82663802182656287432 0.10768684780983948934 -0.67628528954554290031 -0.59329393219206938426 1.4962580403590228784;-0.9095541533698776604 -0.28367482570389374041 -0.96672360331466877792 -0.45476310614304765734 -0.49033499069032276951 0.84742346064929963134 -0.47560660300364332453 2.4283274912210250918];

% Layer 2
b2 = [0.31813150957419505938;0.0592615546922229397;1.0333268937309518787];
LW2_1 = [0.36161883559489610418 -0.26575245848590839381 -0.67421415883234425692 1.0130425101330635673 -0.57230310726094701934 0.33577320100578078588 -0.42454567885784549874 0.81706773773411323081 0.78547181585674186177 0.13428325081894876281 0.70355387899264498763 1.2055919063079150177 0.30909934157881846506 -1.3174665739800226483 0.50592327027338279688 0.44044915234976134144 0.10393990416656180564 -0.48483109070165136822 -0.39014322329873507567 -0.27596328779543449761 1.2575543418333325896 0.55567177900903819143 -0.77767181125978457334 0.62249231106141722503 0.7866783851780325687 -0.16866447894149982911 -0.05851665390623890517 -0.90195127182742451666 -1.2431364428414897194 1.230316599328511451;0.055650718303244930962 0.14597715395203231248 -0.73540832571145509089 -0.94457968448998363975 0.31068190820636804039 -0.41571968536495629287 -0.068039703983939950338 -0.6038924018279856476 0.34108531663469776607 -0.062053282449259693221 0.3663140921900623348 2.0092371071146386541 -0.010675038974820999504 1.9132488460356316118 -0.41284999807095396074 -0.12864220254023148171 -0.17589751944347759016 -0.046637623434181540993 -0.57315989938894074118 -0.29877528244704504301 1.9131355142952364279 -1.1784525323606933611 0.26598343018175002461 -1.4046534057816779661 -1.5120054763099841644 -0.54965621783536577905 0.5053608497114759901 0.138142400807764687 0.41724240836219700368 -1.5245444106146393004;-0.11508060853874493845 -0.053255325554794182008 -1.8051327492012012588 -1.0818009159951169629 0.28828493792231035808 -0.1909689010534764142 -0.80133648688546776917 -0.32480517117211771261 0.4793277546904606834 0.64314752461844226783 -0.77958533137122820733 -1.9199029741504318736 -0.20610262939861623277 0.88789943663224746295 0.25203569984218521238 -0.24926031391434300133 -0.28665435290281499059 -0.46812311226443570344 -0.21674555292977998322 0.06329679132573340361 -1.4684536540915364977 -1.177483647355975771 1.0707397694677931455 -0.075951278667439517389 -0.29762230926787491825 -0.25129602497484454515 0.42405144554900697784 -1.8870330109063706558 -1.5248543054435987898 -1.8212581629671593664];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
