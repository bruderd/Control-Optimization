function [Y,Xf,Af] = nnet_2019_12_08_15_55(X,~,~)
%NNET_2019_12_08_15_55 neural network simulation function.
%
% Auto-generated by MATLAB, 08-Dec-2019 15:55:20.
% 
% [Y] = nnet_2019_12_08_15_55(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 15xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3.58533396388774;-4.4616651654306;-2.65558334896116;-2.71497817801072;-2.32616747615757;-2.04973514505869;-1.27968356322654;-2.35345157112537;-1.54805520338312;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.237522747745971;0.226692802992136;0.380139464645545;0.355865390357814;0.398767986282185;0.482917461991736;0.760801386462768;0.514401696808047;0.586289393469825;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.5951188735129717688;2.0799944717834306651;-1.0246529261574250924;-1.6753336151403823706;1.5159937459116645808;0.62204018495458290872;0.96091419546209011493;-0.76542953704452432184;-0.68027698551384230274;0.5163174215918178156;-0.82235028325633907631;-0.9433014576676743701;0.41842269718408436896;0.59152220491975415761;0.1206861707833405406;0.023543827064951037414;-0.66455886728319968348;-0.83231774048604001415;0.99156562349113963606;2.1473786583960801089;0.79276781692194753237;0.36026080865002430009;-1.711995640690752829;1.0047941968888949305;0.72022092163702555734;1.7084069851437033716;-1.7434564211673453382;1.3733117628349729156;-1.260242097127121319;-1.507105179161678743];
IW1_1 = [-0.32853108553728072039 0.52217748285386866858 0.4557092617158932657 0.27393409319583761352 0.59385479718931721838 1.2339245151300926029 0.13787264260147552575 -0.34428171678811464451 0.50292794695738118893 0.16946918634752231037 0.60435302394619039301 -0.33844664437246685385 -0.40303806548104798013 -0.33476160388690229253 -0.68072394314681272665;0.64362123543697646877 0.4750477607137278957 -0.12325063388563581301 1.1321495104019252409 0.93278828648489764408 0.87739512965246868603 -0.19765949820577682905 0.97714889921976322285 0.13783432250761085136 -0.73829748372917780586 1.0560418073216102375 -0.33430452784176861725 0.3031264858555267061 0.28542298253307185618 -0.092585029394535889313;0.63871430628167602528 1.1630833638183266654 0.59189600422367649735 -0.20885753708190710198 -0.41328073623985606133 0.00020724107080763529837 0.0018608783305964133638 -0.153029923601228246 -0.12399772057091293376 0.26512086954523461646 -0.17739418552432828502 0.35595713946334767153 0.11393070167274149673 0.6556875024038005817 -0.5804926842114959129;0.097316770382570916276 1.2452241506727688147 -0.1175723507194298828 -0.30467873595102679118 0.48224342146893439676 -0.68204502408511513689 -0.43749801110192204634 -0.76244407600288677251 -0.19171365876613172263 -0.69485163168296371072 -0.45165048715575206728 0.44081155478309091977 -0.062679784025970936012 0.61268957209066043923 -1.0324427349620943772;-0.81504345007790779398 0.46892563303527345919 -0.058259543921353823537 0.16863352601128392405 -0.14882474452180435853 0.65698195805430203986 -0.12336949361929572255 1.0665014736299727183 0.89249888025828871818 -0.44700033695117669108 0.2264952828277024266 -0.22396238865629641834 -0.24104648182125382183 0.70123431464039764904 0.86232736628218331632;0.21510755149550644938 0.63074651991982266797 0.32177653131067562864 -0.57241675554704918305 -0.19166754091866072818 0.69739265735650379785 0.29069559612244727509 0.10859060488422574153 0.48359282034117784255 -0.25321124383348520004 -0.84236246872966458188 0.67994247226991821886 0.57621847578109952615 -0.5079355810036759733 0.31096426272919319711;-1.723394945994961569 0.60343332846435293604 0.56828923711658363427 0.20499359184158830183 -0.05688633219271384267 0.36199826061941992039 -0.22481174465482131608 -0.6130723824128567756 0.37689791846194192759 -0.35042258242417184677 0.20719418765890584844 -0.09901178675996949452 -0.71220738111433234963 -0.48152684380147409149 -0.33668900158637837805;0.67900541365715705311 0.65310650658310420713 0.572497846338665628 -1.0301481351611894155 0.65104590040999221756 0.51228297604084094274 -0.0078931806919352101581 -0.24940797094984581972 0.18390168067719125933 0.75527119743247095318 0.070709853315196635748 0.35863004182901542238 0.54078864995841413599 -0.77790720785726874542 0.9501929678802636392;0.4980719375240255653 0.66261049115283576771 0.41891354362728489003 0.24172933203506144495 0.67173869466138991235 -0.30689927912331804727 -0.10830337760372822642 0.38125274966192518322 -0.46767580945785064417 0.25987169070802762505 0.22534450658846147397 0.12818193607932623634 0.0045693910462509257364 0.029257708273453447712 0.23755922812988677917;-0.68415325514446356792 0.491846474458912164 0.54739383537484753717 -0.12127193697301952291 -0.13224404123949543011 0.35319404090100858795 -0.2839927329031449732 0.13167932677188753932 0.86824371305232761475 -0.055798487760704167104 0.33522310999758597738 0.13256568550433869835 -0.64141245834673465964 -0.0090970807877952079845 -0.38234005951856397942;0.38660522404337938074 0.0048072264941793774878 -0.52370900916865348318 0.81730692559633644212 -0.2038875381512626761 -0.31670344736809641351 -0.10575353576513002452 0.75152099420878959446 0.056599914730069852964 0.26550329409090772659 0.83270136600441124752 0.37017841713443172535 -0.27725257249472129439 -0.14698471732118226218 -0.50334321566968331929;-0.30968100446860552521 0.16855721161927453289 0.26420087434665556758 0.94334598488942622563 0.23944854977093460446 1.2075677476200474825 -0.44446180564834547599 0.094088664741693792126 0.44236399759705902213 0.082527767522041536874 -0.16910764735843927808 0.32886806737519114208 -0.41124342992663454055 0.56327354224545023165 0.2346669904328421985;0.036998418527426066293 0.1505662545643590422 0.26817682355568850383 -0.87617484743822515725 -0.38807132805305227796 -0.45198606565695509385 -0.21955537274360509281 -1.0298748097837422399 -0.58897420452083626419 0.38362959528422874156 0.20425074358408382147 0.36179267202171233597 -0.12472786547845311766 -0.33598287760508560584 -0.0073721663381799418246;-0.19666443413643314164 -0.72041664475358468955 -0.69454208910133785615 0.10705237974634511378 -0.7682342599888883905 0.1446148979720220662 0.33510996756461153279 -0.40691284583314724088 0.10662603040115060937 -0.27951880784732657803 -0.36544763872267560512 0.29414862283748527405 -0.24618781943790302158 0.1092362929939144911 0.12821764607204638731;-1.0421328978732520287 1.485409303100647449 0.83334669849763609584 -0.69701974737166882967 -0.63854249631718462688 0.089803247484141701662 -0.18839965190409851958 -0.60144032562868920966 -0.25218237640392049403 0.63443464026227280872 0.072034831777472732584 0.74503966732219828462 -0.40622325727171421095 -0.35958387233094357693 -0.66409028081010235134;-0.7774947208857012626 1.0250228552599809362 0.71287803057119347727 -0.17671081374496450112 -0.05468021321052328465 0.4608100663497326499 -0.37005128861906799731 -0.34534596415809848402 0.83094358461971451479 0.068912197673345373938 0.0018253696248753221391 0.13462278364471572112 0.072107987832491254876 -0.55613645546257484131 -0.33436757823244511734;-0.6107267928250987854 0.41835274301510466666 0.19916573739156165357 -0.47091459037165817048 0.10247931261113281398 -0.11160447531915231034 0.024981655604896402245 -0.62568074615758573209 -0.23786889503509572874 -0.2074807758935717783 -0.72362125339954141978 0.19116488402385273249 -0.012529116614978899266 0.54472479854720134984 -0.22855873548439481491;0.04677371958330705376 -0.68367169847172926112 0.51352524728149973043 0.42601881994970086653 -0.098356989582734977162 -0.45574648884112894942 -0.29685956626829018701 0.75638849437835686818 -0.73288883564809426119 0.71619416781827993645 0.33040887500125343257 -0.41752822566865455123 0.0019505731016563766095 0.05101503783842083195 0.39124031108586665439;0.81596942041770992304 0.11029221786953187501 -0.01087423844948070227 0.71453548430532320968 0.93085584641143082063 0.5892428314000506262 0.23258268006882451551 0.74347882481469984572 0.2199448380388661084 0.28864236828240347199 0.57567064134253009833 0.97236345994015960237 -0.076976973008535481968 -0.3592278039908886611 0.0091983068386336103162;0.96491974820038195482 -0.76155511871311365457 0.331521095729834403 1.2755397854906798116 0.15418728212712029535 -1.1003224586258850692 0.37608492385973091299 0.69224168838995492337 -0.49757535537855668295 -0.90001677374908173324 -0.40353827032398592589 0.36129034828033101956 -0.11471167929234676874 0.11721962543030421677 0.17092624766515279733;0.25586880000280315395 0.4698007240011380925 -0.13902797117559145823 -0.6182703127794171305 -0.33859070865059576194 0.73348969108878636636 0.12617042509928805272 -0.24546917390788913771 1.495492038941668822 -0.56634243117700577841 0.26543905063959366553 0.422642482924213303 -0.65697962720506197787 -0.088462651646196779898 -0.14115682764665982152;0.22527815599688505444 -0.40780425709806511492 1.5262308627693750296 -0.11592520967044396552 -0.17219482265020030765 1.4071254605046497055 -0.19468508826074815143 -0.26496029004625520908 0.58018641632607703684 -0.029064179788746556665 -0.13883925075991851439 0.38592285998114306267 0.42994994976261763364 -1.4105536902431718982 -0.12400385669166660851;-1.0559628612568121575 0.70377453236940723524 0.27073292125853137824 -0.27026669047752632791 0.3297420863901200927 -0.51147924184421578175 -0.06443301853632973919 -0.60423363579656219624 -0.72545343350914737179 0.1672278651220880652 -0.20651357748215368182 -0.084896118513289584029 0.42627030220857514697 -0.22431945787976817486 -1.578299581590578482;0.0052857093036574945288 0.28501491377517562675 0.84250169453553813703 -1.2999867335108894473 0.78734620263119525774 0.41846703623481845691 -0.30607432487199448534 -0.20888206235667355903 0.76609929699494361266 -0.66194333993353060563 0.1784585642958464724 0.3713785136981541668 -0.046623406229213973373 0.14984886726637464127 -0.11686824987791664954;-0.33230277503128285987 0.34074617009911245535 -0.22139951294396661985 0.45681914830595726773 -0.98389216688516856202 0.45312553846319847395 -0.061489886326004696004 -0.32736403336436148415 -0.2765739233455499213 -0.33549571899671337682 0.13186182853957287286 0.47694254974576771877 -0.63018454991572570023 0.27304328329117100171 0.44781807456975719628;1.0612248163728177364 -0.49151946723492001556 -0.27055459924797531368 -0.63357304153929117074 -0.56016639457253170065 0.34521443105515436933 -0.35087319472023970057 -0.65547571124664205655 -0.37082637683899088987 0.34831729198058414276 -0.18271365386059207347 0.22725514479437175508 0.91561088548665670039 -0.060770878894679851434 -0.071095053776096331366;-0.088131524186766035944 -0.5986493140981276051 0.16214780623484470468 0.11268739431537035112 0.74541106156309866471 -0.60520538988447381001 0.11993850241761447317 -0.05817030869561337636 -0.64935125491758649563 -0.5649049724229168179 0.2230867824044803216 0.25551013854132315073 0.90195574639619802149 -0.39407910044942778827 0.071524589955903453142;1.4418574881548100741 0.16748390070257784812 0.57050683782403699418 1.3716629021127595411 0.32403667012383641222 -0.59846328043167673627 -0.67139429870540079381 0.031978512754925164652 0.19064563827152580799 -0.05541631696249275929 -0.14119944665477185408 -0.84401970302036588567 0.98220827432257651335 -0.11262229904829050564 0.63232987166417020664;0.048472322336258449882 0.88879482149516686462 0.14317164307877874863 0.73970354830617779385 0.12009176622947977109 0.76852563178939015121 -0.13884102360506989093 0.70184150864372552014 -0.40938796683358247286 0.92168401043923486871 -0.49988096361798223244 -0.35113973721996505351 0.20678349854648581108 0.0057718467013302713828 -0.084483112797298767771;-0.56372990013931423281 -1.2406270187441499342 -0.19559620006509151335 -0.56646005704999269348 0.63737235204210718198 -0.56400707365389790571 -0.2468662959362676601 -0.71500748420735626976 -0.63918866645147531802 -0.58912031641315465436 0.19971848232137495716 0.211551674972315501 0.0016696829614519393542 0.027601422061976386285 -0.93418391685418689097];

% Layer 2
b2 = [0.061151816471303792333;-0.51542764767512261326];
LW2_1 = [-0.84321477039436198986 -1.4168181803235360139 0.054799685286584659538 0.62024186605914932713 0.74134280182936940218 1.2570674762003761771 0.74418686527078714565 -0.21254851335419128189 0.48988186551220197495 1.3285415915987450752 0.24360412145697871167 0.53473405898591919172 0.90455238415463901092 -0.91118169079747257655 -0.72275376163913873651 -1.1052116225584411868 -0.90390353362711084451 -1.0658007010489514155 1.1176410925716384615 -0.895324930972852151 -1.0037177797972292037 0.6862784395574662577 0.39237808630507842178 -0.71208670976029264654 1.1041155894306375895 -1.1546101254056519991 -1.056104517110114438 -0.21209735052489886442 -1.5920500633003835667 0.19338390085455930967;-0.46283406709036201132 1.4751602397756089502 -1.3707400156597178142 -0.86723912476713971298 -1.144518038146006722 0.39487448318588014295 0.18647274322762838472 -0.2680391570804625534 2.234933364612915252 0.91025142681353299334 0.67854646413602082156 -0.2745127282820200576 0.71748869679492599527 0.64591581636683403911 -0.19788047781713172246 -0.04730031356725730024 1.1927765059742438947 -0.24657833997918707225 -0.55573819038654803659 0.90520298264789200715 0.26664494999491406002 0.27088197237872718715 -1.8370324543212663837 -0.24561591193796949995 0.53346049691893127065 0.03338041835819340053 1.0984412290749163699 -0.57797369215711291712 0.34154958520553196921 1.5078629079049039596];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
