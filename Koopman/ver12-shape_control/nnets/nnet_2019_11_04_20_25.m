function [Y,Xf,Af] = nnet_2019_11_04_20_25(X,~,~)
%NNET_2019_11_04_20_25 neural network simulation function.
%
% Auto-generated by MATLAB, 04-Nov-2019 20:25:08.
% 
% [Y] = nnet_2019_11_04_20_25(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.979760528962744;-0.0967493271686649;-0.123235760701103;-0.232445808105878;-1;-1];
x1_step1.gain = [1.79921859849069;2.40876684978895;5.00906977894087;4.1712236562878;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.2756724111140611555;1.5610496181088679979;-1.9221246588433662517;3.2734790184258537593;-1.737622573751475441;2.481190726368991406;1.6058940210107053304;2.4171976455957318031;-1.2311981119813244501;-0.64018148998407498063;-1.508840669289102987;-0.51045698717739140804;-0.79014049837495137218;-0.60698672985893853404;1.4667285517229931013;-0.57764211314952729204;-0.53341474415642287088;-0.52170017071175689427;0.51249956976564936539;-1.2439065670727627033;1.1895024402412925912;0.96647671157622283555;-1.8082142261427716079;1.5153609577849429524;-1.9560920391204064117;-1.4834681485762710729;-1.2014355836192147642;1.7479807929812041234;-2.4884947331901958734;1.5712854509747926635];
IW1_1 = [1.4321239831085872396 -1.4760950997183197586 0.53630547018730745368 0.57104922854483253225 1.052014545994081951 -0.56317696352285362416;-0.72430310910220652154 0.54692846286835028469 1.3880822446699956352 0.91661718716458717715 -1.0283603262173970361 0.71349092077221698549;0.44149779471031386224 0.92301746250652394465 -1.8266304158473654073 0.56137995312900235145 -1.2357584523837628065 1.6186714579962038218;0.16606015508680138648 1.4078070974009455618 1.2069013492874369753 -0.35593182294697689461 -0.38753083131000404249 -2.5595435065883211934;1.4790753209600338014 1.3077202190066334886 -2.171938551673945117 0.15554052003186699671 -0.2645363328060570951 -0.39504875508853598554;0.20076513771254042573 -2.2480288792927503039 1.1422508403112010544 1.6368040811142003932 0.99871678946214015316 -4.8424717269633932304;-0.3847963595325444297 -0.9574452538417611569 -0.66345667335026881073 0.55061496659653019758 -1.5986715821464787535 -2.8505043544800594546;-0.39183278973125362787 -0.88135664762868004551 2.0932445182987304833 0.058984888374418412149 1.4720272846621569318 -3.3508906267735083517;0.73978625709359013829 1.7591847848649457831 0.81392293455345332553 1.1275505189382704074 -0.58617570643799410401 -0.76266413807427979599;0.26717879885007922436 0.70400486206251511323 1.0747202364209171854 0.96773191183640205892 0.17300442908581542545 0.37948220866522158756;0.32538244928573434311 2.9207116007794931001 -1.4873409995069044598 -1.3793339943968607741 0.37261225160771582754 4.4156796285518522538;0.029650164414165850607 0.48785818835276834049 0.50941911310532239643 -0.72791834083213002859 0.90818931094933108561 0.788612672954198346;-1.9768568464241045302 0.5703796783514016866 2.408816385300205809 -0.91183363124620364637 -0.54592189879740127267 0.16053987489540308409;2.2000758052176494495 0.88186345542399724451 0.70983929725092864693 0.59778617639536080208 0.083288413492680901662 0.51230206636452502167;1.1970217472341388998 -1.1775457978217178656 2.6744901351097860598 -0.94046279255175291301 4.6462781399923231973 -3.8766771647237470155;-1.5928723484070683725 1.1396514705489007024 0.14243115132796591027 -0.50528055620018419436 -2.065690975844150401 2.4900320018274615386;-0.38909224582411738869 -0.86596697938770306191 -0.43233732520735779215 -1.4561117918034909291 1.331226529283004556 0.23641452783151314931;-0.38346688392357614061 0.71425354981785715847 -0.10916408436214242172 -0.90137545687569231578 -1.7884095755234026281 -0.77157473396542330946;0.098552204184283398458 2.2717438479315359423 0.38591869369315223715 0.2005849928663517856 -1.7055191860522229685 2.321779763826450349;-1.0294699635099944235 1.3253297067476044191 2.0656378006461366681 -0.45688840958834087136 -0.13009809462118659962 0.89234129015448482303;-0.06007410837514908647 -1.541970234983792043 0.53580834213652195341 0.7245245353420938228 2.1871817764258962846 -0.13653642799214427139;1.7202848478952084132 -1.8619818684380169405 -0.54842520281108908531 1.9764400546555027649 -0.19048105368296047724 -3.7421844332639744302;-1.6068971032724888026 -0.0074780557433727842809 -0.4472049990947585818 -0.47682214061515276748 -1.5854830020751897734 -0.27191171727428642413;0.89474371851932776867 0.96548955912056966255 1.4692654175395929439 0.90095176113837505127 -0.51025659576515991489 0.52186169539476945367;-1.1194541336155194866 0.8786291989154553228 -1.3122867243080655886 -0.66550984567313531404 -0.050977412844722604091 0.7959532673058329344;-0.92111746576284447841 1.0140804077545975126 -0.082622366588530199438 0.77713179044601021772 1.5469783146932978291 0.5967842075845969374;-1.901651027893632051 -1.1120918935332224642 -1.1854908358056770457 1.0409461430903710344 1.6918392930080929926 -0.16964871616538457211;0.97891150239134772093 -1.6428241803079204342 0.85617189017942896267 -1.7424310296596854375 -0.88816802941544337191 -0.87422173318433404887;-1.207131029358940344 -0.57137515961369933493 -0.47893305350577047852 -1.4224285558981455413 1.1543008561983618687 0.021831106807940842129;0.68925534270950339355 1.8742358241172014655 0.98310968913190066587 0.85333779013406863001 -1.2926156397076136173 2.156590984994689375];

% Layer 2
b2 = 0.30171388713881353016;
LW2_1 = [-0.74395882160160731189 -1.1754515168252357427 -0.60043932369074126676 3.4631445454377676185 -0.89535538663060909581 -1.9503194850692422424 -1.1385414215817233341 -3.1677039155784396662 -0.51841270064854372279 -0.70132685283038576074 -1.2710158929424648644 -0.27186910663081864659 0.90103711316311840829 1.1842973126081077773 2.3436704707177602458 -2.7794658368035980445 -0.65399767297568178748 -0.079778641091535443253 1.556280698060523271 -1.2080018167535828688 -1.7375602434859676038 -0.97263062457429716456 1.4852506775436873365 -1.2133194828234226126 0.036000293140993074037 1.3371773736941792166 -0.30949947485242057521 0.61202773601314253149 -0.032952592405754696503 0.13227342162466176889];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 1;
y1_step1.xoffset = -1;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
