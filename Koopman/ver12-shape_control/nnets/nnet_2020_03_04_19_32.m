function [Y,Xf,Af] = nnet_2020_03_04_19_32(X,~,~)
%NNET_2020_03_04_19_32 neural network simulation function.
%
% Auto-generated by MATLAB, 04-Mar-2020 19:32:13.
% 
% [Y] = nnet_2020_03_04_19_32(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.47883821636515;-1.57471159847232;-2.0507004846736;-0.733858556423685;-1.03476510080661;-0.736809981580588;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.22794637973365;0.26108636783693;0.729436562443487;0.598241612432556;0.780907887318368;1.0483147588166;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.3648414392238623627;0.9557070789977499814;-1.4740692799935444235;-1.6328486879832655454;0.92045745061202477455;0.86378120699135707561;1.1391708140468750354;-0.35510405348250989599;-0.49385455230342784061;2.8552171925233928995;-2.2001200462493071264;0.41949383890744762482;-0.28858796244890200233;1.5078805991392973951;-0.96569924569877241272;0.48982473601791265416;-0.28842051392201378812;0.39654610507267207264;-0.1202063734833023062;-1.0068887622606326193;0.53383533386297754575;0.18217077306177681395;-1.0743767919104687536;-0.42067949395367526533;-0.080857584288714673404;1.8378599074803820823;1.9824473653368475112;-1.6580325181093822362;3.0628223921138251207;2.634324169488208689];
IW1_1 = [0.62440557329562540456 -1.3705867553218165078 -0.20690488742066270866 -0.47222182524200900788 0.10535258134060035418 0.07172332672976450274 -0.51428737773152710666 -0.36479837854971186584 0.84779411729194487091 0.80109240717396501541 0.72094949098271576826 1.2868305750811537269;-0.55872515470713102204 -2.2262587728718243874 -0.31378156940111645579 -0.47656477318591228265 0.4991947326857121281 -0.14268364872235952956 0.20529119110557256245 0.76899623094986702121 -0.90941222307189950591 -0.9304779910191446346 -1.136447461866348263 -1.3655239307520929959;-0.12215195666224613891 -1.9741675875168176457 -0.67739137958448703003 -0.59884393437076144373 0.73686653582294669995 0.00072771485967579058879 -0.45653956921100669053 -0.22645204129355306355 -0.048626966277798937266 0.86562062790458349504 1.2432447318078041487 -0.41488772355011993564;0.9446096248423050401 0.35829527303914243674 -0.047778933703853235238 0.58895143810536665363 0.46150340916313264961 -0.01966758175283640428 0.76677191686639867285 0.7411608042885077241 -0.2560455911794494166 0.73348116920487793635 -0.14096359491956866883 0.21835933446553140724;0.40169909158415328942 -0.72759118451799897898 -0.17061064963116334692 -0.31508540366737058935 -0.051512170145599674165 0.35833749186302987777 0.071607938583703359403 -0.31179991324800637731 -0.72828858078600910986 0.2097122908274686448 -0.92420448564106338907 0.71344947797795044142;-0.6806385171634443676 -1.513128376780317641 -0.11030259431721339825 -0.52304140326990233856 0.12113517324621872473 -0.056586626832651233665 -0.53215525004875763315 -0.11445264805555663279 0.91796737475445044918 -0.22367935851998432817 1.4535722652425215884 0.21591357877339387161;-1.6015429921068593533 0.44862061887978987862 -0.99694962785919150061 -0.64527151534726234772 0.56934271114662893254 0.74854581634026762238 -1.1487595472885114845 -0.14480149668900374471 -0.16939792734475780933 -0.98401969853873072491 0.34878941408212821296 0.26550516647443317408;1.2940579557056755 0.31464290055793792122 0.4169319843115283919 0.047817260607710333764 0.28172448086692630786 0.87917358602473416607 -3.1852541690278677322 0.99432910352162673373 -1.6132877602250426108 -0.62634703217023957045 0.77685637894495662703 0.32654165006055746456;0.93559376774306624025 0.17978757745749421315 0.11765752788364890191 0.13406871905020853464 0.22665919790666838596 -0.60690796635079080623 0.22148046675769283986 -0.21396052045438088141 0.70693357943164658597 0.16196702742673213526 1.0053305417585629566 -0.48745131051121437515;-1.0070074055555580106 1.0406642592164312422 0.01794151895072472469 -0.5632100625314105935 0.49521005854875038699 0.74469913789045627528 -3.3056192275746250075 -2.4041625152449870306 -1.1764664648799474378 -1.1501595555550574446 0.63824248938442373902 0.76210229189510203529;-0.010740715027913476723 -0.63648606194741796926 0.060040366653282002674 0.99693281642237130402 -0.25913882365588686296 -0.61288626044605443166 0.47754421331991525612 1.799510442615066319 0.80436786464411813569 0.43068261985468564434 -0.23499077684465508042 1.4523466037819288132;1.8019494927633084025 -0.16314975991070024275 0.16265536853185480481 -0.56619805168121650762 0.088188163247524709032 0.13504822153473838853 -0.29401625692832683567 -0.64374640467666777166 -0.35326836653466114901 0.49604413806017216837 1.1333595778997385128 -0.075070689641742585629;0.7175785230112764479 1.2844892612308562718 0.20182484414609708212 0.13209690797497722348 0.22564296148298040867 -0.18791024584776686024 0.42755513243661036338 -0.18375779822566426502 -0.84850764727357352868 0.25940084010506020418 -1.233012217963139312 0.33334705976089828994;-1.610991607593937891 2.5181624119015353358 0.89493082492614139944 -0.35923860008471969474 -0.31714307480940878703 -0.52801750183710793873 -1.1991272817457352406 -1.2511330221409977526 -0.07030588275723259617 -0.12124208046137398276 0.42927352575576194216 0.0623477904507244024;0.37600384271518044743 -1.3035311985630924081 -0.14372536815660041931 -0.83568900288359027062 0.27440713121761983739 0.22769283332210715765 0.7940311633590966256 0.34999767642662704681 0.17784244707272386932 0.78118128171955991679 -0.10460318302826536463 0.41760764842040809519;1.6159602569641118297 0.10219162144480922749 0.60296583193658037647 -0.46411910109440462913 0.37833142308859263325 0.58069536616268757623 -1.3029059113603091991 -0.36852755730882952312 -0.85769414960000311954 -0.31914104132448883888 0.25831302204357120544 0.34236476628081441431;-2.19541376513334896 -0.71265812892461521955 -0.15039092701820158671 0.40472115926980312128 0.094319155673649457405 0.25913178402729292182 -0.80459622281584286529 0.43064078092786362006 0.70648493280744595335 -0.82497219563652490759 -0.035306615450022608982 -0.11781823912748003169;-0.39375034896362792747 1.0783757069647403881 0.23831627660766135923 0.14860046008677246787 0.50159858368510268356 0.20300661969346364688 -1.0034070381338699995 -0.59243465351000312857 -0.51869290120083777484 -0.24110318537126848581 -0.34332452725783352276 0.53450473154142130738;0.51211118473925931749 0.41243792668901585463 -0.19598035967886628939 -0.79587422939857865867 0.16530017902629287607 0.16377390678584183292 -1.8790153762807746407 -0.50890183963450119631 -0.13081277811541255907 0.040617570543598449651 1.2796064214635698431 -0.33054137359056862122;-2.1328585527843206826 -0.79560688969673454274 -0.39946938415913568754 -0.77600009206818043594 0.71953066997390335846 -0.31607990009911418605 -1.5632656782075597945 -0.31775875598938491118 -1.0049901262524520984 -0.026320559937093750136 1.1836187822554886662 0.36908462944320213905;0.80202171247565889889 -0.20303849374956242646 -0.62818726496857091313 -0.38996893577637326 0.045209442401022655045 0.28317361110853611628 -0.30148592295168008537 -0.11393549027297471266 -0.059903792822809637242 -0.57434595229892160262 0.22698182282505655061 -0.31866613241271313228;-1.2193064160978350774 0.56135847455946386031 0.10649889649061018704 0.56723267189779658093 -0.52705079081722583378 0.59965587381232554609 -0.76518638638004587982 -0.090699746462053268403 0.69400620634760967764 -0.73306051750305423198 -0.20334569444457659126 -1.1431520179648808622;0.12489834053973347672 0.90967858556869407582 -0.92735483302202204037 -0.099728501773938355024 0.59611113274213833879 -0.02907276690743303138 -0.97729093560697044563 0.79510457534235390309 0.71209396824916704194 -0.7005187287313927591 0.92076222018583386841 -0.21545224782715113876;-1.2971018137816550109 -0.7884147577679566643 -0.26681171158180311265 0.57125953362223003129 0.66788102398415327698 0.15455499368438749275 -0.37440777306046185702 0.27442557939658535071 0.22247029998815132101 0.79155921606476709051 1.2774536106706475547 -0.70583932369209723134;-1.1878316975719975801 -0.63483402428617552449 0.24427635211767714796 -0.20412738448532233293 -0.18023894926131736605 0.23224674063887229547 -0.094178708279202591469 -1.1848395721301809846 -0.48819732894720174743 -0.14401042579111755781 -1.1491132786788065268 0.88861751072956107755;1.0170066686939835954 -1.1765252140239617074 0.093556339874694929848 0.53731361080937367625 -0.6128702955922114004 -0.79483076200390057053 -1.944702553872265316 1.2178741159506529801 0.24194500687871872691 -0.1194289719408050815 -0.13426472860577717827 0.19695870560031586427;0.12048508920150982626 1.2726737145379378724 0.63639058589356722884 -0.008063096039337927512 -0.10278728798428979352 -0.12043459109792868655 0.24102661499473568285 -0.29394086053468726494 -0.64395755107310681531 -0.56139679993470736896 0.87997930424106962644 0.50860283166494202334;-0.55173610035552911324 0.42588618881498391255 -1.0797497194964043032 1.0304382288398306056 -0.74062359842661451559 0.6926859598283592323 -1.0337319380364617949 -0.26438006605961122952 0.16885593120589945104 0.07307141678552399322 0.75003220412587079391 0.33548049082700281964;-1.2793492458880728613 0.19911285560316110965 -0.37415486960389127136 0.18834552445632884998 -0.34645221012262622517 -0.20505600488999786712 0.24385035237202809522 -1.8901689341505754083 0.17503815998479485549 -0.56993625944963699492 0.032610345184826777798 0.039978195214256627421;0.78014246282310184544 1.2845711532379178177 -1.301990313032266533 0.35621134606114063237 0.06120118777034593005 0.25678451128698681627 -0.14921555987853749037 1.1447427984424314307 -0.55468141907643786492 -0.33648242517486509628 1.0065207596093470599 -0.47160164085524519662];

% Layer 2
b2 = [1.350232647961207455;-0.84702063982934672204];
LW2_1 = [0.5382614301903101417 -0.25108170087635611756 -0.52249540014580653224 -0.86959969069994313973 -0.39187805160087946232 0.209100092976878843 0.082004782091175162928 1.1661221977634266267 0.16307255673972215204 -1.3755184953550201321 -0.16674779285624713454 -0.91253468998610276497 0.23689184035393706651 -0.48557148989407122874 0.49845897836357577759 -0.5685205797480061829 -0.37553515403548143325 0.15630766341723756341 0.52593262186396538826 0.51374806378605297752 0.3970798460860787138 0.18393411089530992131 -0.42002459153132953862 0.13359451623248672081 -0.06534742690944506105 -1.211092552238965725 1.3394244195326636682 -0.26580653193715014782 -1.570475155846521087 -0.092620747182067406089;1.7530161349585406949 -0.25703432913999529896 1.1682931177691000535 0.65524135252109072525 -2.0848095129349388799 1.8506948351408685216 -0.35060435402176848285 -1.2656051384784807734 -1.1764746564385444305 1.5745119509433305183 0.13030939262453444805 0.9354573392664030651 2.5194893869660406338 0.46852520864902669206 -0.62721078924380868624 0.8192714726522581925 1.0319631119671421882 -0.63644479344957116673 -0.89902509704704969273 -0.72179120032742849489 -0.97193519075578926891 0.7230037685461135899 1.2190875949659145672 -0.74523179720576782081 0.57781495129622484352 1.4614320746435098819 -0.84737596144754234739 -0.52989724161601814423 1.8064879996146065988 0.71478373008410267531];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
