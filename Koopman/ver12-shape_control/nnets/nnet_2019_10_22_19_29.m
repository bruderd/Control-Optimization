function [Y,Xf,Af] = nnet_2019_10_22_19_29(X,~,~)
%NNET_2019_10_22_19_29 neural network simulation function.
%
% Auto-generated by MATLAB, 22-Oct-2019 19:29:52.
% 
% [Y] = nnet_2019_10_22_19_29(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 41xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;-1;-1;-0.191938841701931;-0.977757159387536;-0.330699140489181;-0.944499386459058;-0.525501261894528;-0.95447973670038;-0.978420275444412;-0.992985256117295;3.49569796904475e-08;-0.999326565801823;-0.998977495286934;-0.729246203123805;-0.735898832926071;-0.743503997712305;-0.793661125847864;-0.981255615696935;-0.999860043018678;-0.927844339790739;7.91468611666479e-08;-0.98993030917831;-0.982803002287391;-0.955588153678851;-0.943691443969067;-0.768238783136198;-0.756571572910682;-0.980301589821299;-0.993448164175481;-0.948224906190454;-0.87234284391791;3.21791580762197e-08;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [1;1;1;1.67805402099271;1.02316745290951;1.5245028566448;1.07946615812833;1.34055425538846;1.08962567283268;1.03349853301001;1.00454439995514;2.00000006991396;1.00940635723366;1.00529390153578;1.3270313754346;1.43752657002269;1.26400189499705;1.3375359422696;1.01564173376411;1.00851511247128;1.10087722389686;2.00000015829374;1.00685429605195;1.01156827405995;1.02803487667978;1.03155845454911;1.2851301630427;1.31932891791261;1.01061971699182;1.00468453505042;1.0703180188121;1.09085504482728;2.00000006435832;1;1;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.8305511310647613055;-1.6238906941966586572;1.4665606774314641214;1.1556878122825344768;-0.8399117084369978059;-0.96209215543302661899;-0.71655179820153702686;-0.46701523562331742623;0.34629605666301060962;-0.50300119547957455879;-0.45632207615041736615;-0.23899296091425153987;-0.35788098988914485155;-0.017231859737443032399;0.18544664387591811017;0.094858770127201993971;-0.24814165419546022062;-0.015721373821948519955;0.43851282197518320904;0.30261435716442275368;-0.54376228827233208385;0.60163744176015687692;-0.44176550572156036978;0.87058758410460346244;-1.014907240023086743;0.82791191001570829666;0.8920818062030743123;1.2279291642645431271;1.4938634803543651142;1.8337396809267283437];
IW1_1 = [0.22609799401473568148 -0.13335111902314542021 -0.21490970972030748465 -0.00025642788954980392417 0.00028772216922991525855 -0.20907180702065597533 -0.066467508406599359883 0.3540611308860553974 0.097618792124469527804 -0.15402533112253169456 -0.036189423449240691599 0.0097459859203521594789 3.9082306141242269541e-05 -3.1279596831820378046e-05 0.069282319975942002754 -0.11729690401052474125 -0.10803507899461964326 0.1910068945124318851 0.045026450167092300914 -0.086616175747167220567 -0.015949674726649688827 -0.00082167905997056634587 -1.7935232804022000645e-06 0.00010670520022126460565 -0.0035678624774780039533 -0.24015415565233061423 0.003987752343887861553 0.28427598512081597715 -0.0015332370717653742535 -0.12765162681916472631 0.029372353581607384132 -0.016783948205907762985 -0.00089409005026199275552 -0.0011210353544263006349 0.0033828124710702919473 0.073574529668023358475 0.096675725542094526066 -0.10907818335863579684 -0.1396397261826846925 0.036747828327358872391 0.048049923983015004059;0.1548569798223616012 -0.14193569410078285542 -0.34499049083429561557 -0.011398756970266554073 -0.012372735819574228952 -0.072033761328981177341 -0.17915036750628834938 0.14523946229785933415 0.26760957198391160938 -0.061630740577505706279 -0.097520974770280974275 -0.051779427496348187643 -0.0093327789176280775973 -0.056219693899796141512 0.1241918276267765936 -0.085048932503169694108 -0.13920968238001366069 0.18174803468564443287 0.063133967370321883439 -0.07592872248648803446 -0.1436038990952806238 -0.073637017879292360201 -0.075291074320197187708 0.011262442938602058168 -0.04342942142939328759 0.076398350437539203073 0.14173432389127418873 -0.08755826713182196519 -0.044531914155936463962 0.041654919036153606471 0.0076319857161370107876 -0.17144265686062393206 -0.14398945221853484688 0.0001708412600708818761 -0.01013047174941509275 0.27208092423352242539 0.20067873484610096457 -0.36091157523310657407 -0.3192422720806883385 0.11626231076093407335 0.1139588308257925009;-0.020699292722641496334 -0.0030813840318371973209 0.25185060589142055365 6.9530720146089239082e-05 0.00011364316042299153721 0.057570392336145519152 0.064909057816278856179 -0.097498094805943139041 -0.097298625834363161591 0.042465492494774118026 0.03598974410383062178 0.001411710296877373861 0.00030775879989957386808 -0.00020818042961759619354 0.15169125320592311001 -0.055604479365320577666 -0.23743402268443566938 0.090573155660812545986 0.099241019212035139208 -0.041035610551398690737 -0.012396503344812966063 -0.0019948933527531584678 -0.00017112347692394781133 0.00057295626734809397464 0.15308810777835235584 -0.29915344629652751429 -0.18172462127714625324 0.35341968004982643459 0.077497047422648485115 -0.15875291398272164956 -0.010235111753777377183 -0.0053162136627591463633 0.0092755125641530034725 0.001836848183199558688 0.0031186869677330866617 -0.15669118839624490702 0.044437823406849430441 0.23375803010774998114 -0.070932341166563175894 -0.078624250043280025091 0.024242410846074709252;0.028952966114575467288 -0.26061235044994535137 -0.16347619659925458069 -0.052953531532903143353 0.0092654290411325126997 0.1622420661978203893 0.10519414530868305413 -0.15370851130965945686 -0.20793029023775946862 0.10894526546157179414 0.1106448578653314585 -0.089205667681151651349 -0.028698735814591373045 0.11898918160027739666 0.091775126438409626584 -0.036759505524484974159 -0.0098749878530670562315 0.042494106097239671416 0.019887969947078545929 -0.078728045633708221285 -0.11548197371588647675 -0.043920095269843362207 -0.096879146075185759712 -0.14888476476688281003 0.075793953876408359793 0.095332245693380571194 -0.029478906428641749732 0.020136720909857110107 0.042326313541684236486 0.011031468463604037974 -0.0097062946642766032013 0.078195328334310365559 0.041829073254620104116 -0.11204397168231909621 0.21296487228052649043 0.066900422795963240818 -0.12906401700943764821 0.41568892338363044869 0.13166406751392847885 -0.22951038927326133932 -0.066313830547933383386;0.085869625420842754515 0.12939563043553792276 0.096166152871521706769 -7.8199332339799304233e-05 -0.0003099085164363091509 0.050214346605251647393 -0.017828511334858451742 -0.085035247578786263278 0.026895238854358145125 0.037031201130484060757 -0.009959970359762747652 0.00056278123493359952928 -0.00023146847554473791984 -0.00015241833401287094036 -0.024035041280153140314 0.062799463197715482687 0.037369632264320412629 -0.10219557519964302117 -0.015680844944228906207 0.046366500946515162851 0.01233737189557124192 0.011354078351294392968 0.00039196217548693833418 -0.00013225031203306273448 -0.10415541711842037087 0.045758385912615745506 0.12350339885716328514 -0.054224603970938207997 -0.052767457768619602243 0.024362112540642865549 0.0012891957811876017265 -0.0080066074016331145735 0.0039079583451576650407 -0.00061046902313375628942 0.00042862655806613593132 0.12045443895970620041 -0.1178087055456533 -0.17819767356475749165 0.18004120331323800186 0.06001300587230560396 -0.06175963170818411091;-0.10607400113243573014 -0.31037724307171676852 -0.07667237040087956923 0.0004815305712391559456 0.00069191540616053606293 -0.23389073699236026527 -0.10162387007196220512 0.39716245151294793381 0.15105255824430788292 -0.17298841071467285779 -0.055577654655195402045 0.0057419063453035537256 0.0011181531865122609163 -0.0036602907060431246443 -0.010968270115819380578 -0.11940623642247975844 0.015502699143982220237 0.19365349921525892851 -0.0064829400334986062027 -0.087630076741665730022 0.025238728524048327506 0.021706354452424365953 -0.00071766120536060815614 -0.0007921771293640903237 -0.076585410305791828955 -0.26652335981646613217 0.092087797728559017685 0.31518240952132781096 -0.038521688654574379185 -0.1414068881832143687 0.0034398119952402544421 -0.020901858877897156602 0.010147322389928227146 0.0017288968419907147292 -0.0030401047920915265539 0.060665186313255743678 0.086836253026592202797 -0.094239199502067813596 -0.13156781883337301253 0.03172125864194578343 0.045264489109936453803;0.14092132882964991669 -0.049181387479948414365 0.097134449267097480729 0.00023532311688649897074 0.00039287967187557010316 -0.15501690592655756329 0.25995290096217144038 0.26257540240206711513 -0.38974278239942483637 -0.11428381989783674422 0.14457729513096390095 0.0061668212557045992694 -0.00023413242862566980207 -0.00035268000902600088508 0.058008679725017296691 0.17600271911372017408 -0.090890005985151164913 -0.28596609116405830031 0.03801089436486259493 0.12974365985745978103 -0.0058884961935015993004 0.00079392837428527329897 -0.0008133507278168877145 0.00028015668748166414536 -0.23182747174759010811 -0.20102749169366807003 0.27691979690574031192 0.23737375043258643337 -0.11814662909828918536 -0.10663750690530229837 -0.0012012401981130532095 0.0011397641462666436869 -0.0032593212746166171263 0.00062433725650210859792 0.0057699194762371175393 -0.065366651196122824152 0.0066019843700019995025 0.096023432512207962386 -0.012885619090649438542 -0.03226597747994550125 0.004275748710743941354;0.15935817193380585888 -0.075605043972390706397 -0.0075257854187329607451 6.7123952948842721265e-05 -0.00038116978511591249109 -0.015269452997012248133 0.077172484219351120127 0.02589640394805910531 -0.11537021864686322625 -0.011277445565911738135 0.042803406578821853734 0.00057643675009715338465 5.7607740375603773886e-05 0.00017231814385132017777 0.14508851268226824471 0.17805486747955023841 -0.22687223822214952484 -0.28953384190642511564 0.094762356053024590641 0.13139583467944709883 0.00024527065667630780109 -0.00060750085437438836999 0.00013517871236499559074 4.6306355076820458413e-05 -0.27214715351819523947 -0.071963285175068711363 0.32419003008592983672 0.085082356754063628856 -0.13835383974331724732 -0.038238576007228013143 0.00048947281832231227545 -0.002301752389950249833 -0.0034307222180905341119 -0.0016386717591401821041 0.0013514975743915472444 -0.097940096953108193856 -0.21156794151203159315 0.14562102964671136407 0.31962373245594405402 -0.048830138228415628787 -0.10934824248135989466;0.31219687871330065176 -0.12336399862178712428 -0.048064448812540024047 0.01314881334243521091 -0.16244726852519003613 -0.029759769752460172448 -0.0037565460473402171801 0.26310571624855788597 0.2672367750550347365 -0.14071343014908888058 -0.17127228085338186414 -0.091519848898370184664 -0.27484146430283223905 0.055006891080119857396 0.16408451678278823671 -0.046991348790165178573 0.20662625800808179233 -0.087080928042638131026 -0.014358102209788340536 -0.045491568780588340082 -0.048445090460664974596 0.20848823938772448328 -0.17202051533357401447 0.22094884055165375791 -0.048515184802566974076 0.14127869042974397495 -0.21116859236655141641 -0.26124175978651265062 0.057314553531065265402 0.12637984415653250037 0.3686949525533376737 0.19902551982734645319 -0.0093660240947171357478 -0.014064705859834047974 -0.18774559718757544147 0.058279175664141438795 0.1464061230144015624 -0.088639458207216553776 -0.14600236840193991927 0.078718824374788692877 0.015400001318552090923;0.11991102180974926028 0.67170259369606888367 -0.027209372659325891525 0.075750173478856541731 -0.053761436173406645933 0.056302814845599166715 -0.21585841881652700902 -0.083477587432220223818 0.31395674088859926165 0.087444487220450284326 -0.067201929919328634577 0.05157306217845766122 0.053861018938199639594 -0.061078704490980358088 0.12595751856690898252 -0.052853487521567814322 0.010831461309217024075 -0.063448038861478775474 -0.11072241987888443993 0.027887495390980631543 -0.19346818560670789311 0.12262831632128252946 0.1299448859548859303 0.0394671646168467255 -0.083693461709069369436 -0.018607632692658266499 0.11518512892437411665 0.092761120097171606558 -0.13431515715677649903 -0.079536948564625356561 0.16854631267692776753 0.089777206865846614914 -0.14990591960152929718 0.1082286930948646031 -0.093972000927592003183 -0.23004274588226808484 -0.080121419826301942813 -0.15460795166290480784 0.2597766506399891151 0.14588541610577079877 -0.020039829851876297256;-0.049913262730020890867 -0.18397636338729841943 0.046312303823644991596 -5.4244087387244675313e-05 -0.00020921134736184843206 0.031768412035383726544 -0.28190845557818849931 -0.053973964566637326612 0.42247781753587648756 0.023506022956247152322 -0.15682541809838701496 0.00057686667107431069314 0.000114979995748455761 9.5330924457951294985e-05 0.17347159392713515369 -0.11012232483130503236 -0.27154421846328025136 0.1789091312826720237 0.11344896818268561389 -0.081176824438274133855 0.0032336074550782557824 0.0014278815928646028822 -4.3789473415248765531e-05 0.00021254382343420183399 0.0952435262713563352 -0.011415375829953836734 -0.11344064558120107999 0.013373970758471123363 0.048324257896192060469 -0.006101831457899041869 0.0035158265502987038481 0.009481453029509406133 0.0029439175464070280186 -0.00090433062081408108809 -0.0014070698316220695435 0.17977782987931459346 -0.10005788734433028464 -0.26727252778053195437 0.15175892262707257885 0.089541295065818232723 -0.052054568272637449788;0.033163567497236257076 0.017022037079021296729 -0.16607174284794379293 5.1982966243051295275e-06 6.3082088760302402011e-05 0.046279578256497908018 0.22375501680791004544 -0.078415249294076200259 -0.33535299948002023074 0.034127273709399490176 0.1244353001638808659 0.00035384408710284590048 -1.8090342513936749608e-05 -3.5634206223185790246e-05 -0.083689475473550337115 -0.0034307663192017778808 0.13085361730229094768 0.0056562115201286931182 -0.054659987468005384603 -0.0025697109114478323619 -0.00015124311430252522395 0.00042283785589317292178 -9.1212772552807893007e-05 0.00019177565407068553819 -0.15699527297800250358 0.054869642330604942448 0.187150548520099963 -0.064975562956648844071 -0.079891403951456066435 0.029221207645458695951 0.0023481556483310570167 0.00077041196834832733915 0.0030285765136872345137 0.00013072683483820459697 0.00078028145360257094264 0.034341083404758172837 0.026219444316530858552 -0.051513525407182923777 -0.040265404930830299424 0.017084466836252705513 0.013850185026446304448;-0.1321088105409118918 -0.028141451193989096974 -0.13827924144788925065 -0.040613397673411620603 0.0688640175327223103 -0.076745178637714114855 0.1591392017393804259 0.15676346176222138995 -0.22479838340965715981 -0.091391774430841329901 0.098141112383663298147 -0.048766526427037791558 0.10181914601828907785 0.058443992524632039365 0.026616545409435313913 -0.099832414083130774363 -0.17863123860502461149 0.18220014927893307677 0.029478126952385767801 -0.089058366430519231294 0.036988872973260263077 0.092062279327247878435 0.00457363716770050905 -0.012153267299590486683 -0.22100546028892409378 0.10578614112364385924 0.35463793828558776156 -0.093623057699838432844 -0.15542556599766885195 0.037358614637758032206 0.03491133625279133762 0.0160051417155862713 0.030402400387279857052 0.10154660995761700948 0.10243712080255353014 0.059336111220559838164 -0.23734477374838366948 -0.078231006957752730058 0.12715263051589786869 0.026187124026316364878 -0.095995069882506889325;-0.032904861350391216568 -0.066904656883228330599 -0.044260408382706450947 -0.0031141095487801379732 -0.0032808860637683827204 -0.096281299789762506136 -0.078712640984494999796 0.16701927573602826094 0.12518801830342521364 -0.071857196022562588866 -0.046516191056136753368 0.005822090348963317695 -0.0061531036374752020104 0.003098535872576255526 0.029137770867724132468 -0.20735902193625163625 -0.048900668876401501284 0.33649536024433585046 0.019121601204430790227 -0.15439142884075232609 0.00062766090222177758472 -0.0055160996372143776198 0.0020315317544333873385 -0.0013903769393387146926 0.06369841350702533378 0.074981030468090806296 -0.08008558929428832851 -0.084495425362937887082 0.033002785504837491015 0.039570952395436793936 -0.0055007357209795855815 0.051240356126718088203 0.0013967607000617012457 -0.0045169056937674964547 0.0067151379541618349753 0.012778544498016750422 -0.054889298332035853234 -0.015796923007859845628 0.080985289972786492219 0.0042038025202176211234 -0.024057663136500016116;0.11539444628766158674 0.29293842598856079107 -0.10883572749703247784 0.02633826397957890128 0.018651370300173126388 -0.16587443035555773929 0.11886508224556567581 0.36206489415595466408 -0.093056883642647608701 -0.16448179046623512267 -0.00017201202814987647861 0.0018806171173912189336 -0.065706900973628273865 -0.09356318630037076256 0.057263962586781499975 -0.018363974053047037172 -0.13079971649924543309 -0.018290464720598732795 0.088837241109653977689 0.02633035911541506055 0.075831249027357494619 -0.037657219033470627767 0.032866451093758693169 -0.066913379100979761271 -0.067713866662331034796 -0.29453883387238588565 -3.6647303811925829192e-05 0.36883528177220997746 0.0086983767779254487357 -0.17065875799927940348 0.20977799814729333749 0.01333245185780166514 -0.13526422205977023383 -0.10517827186738816503 -0.096531818242183917156 0.1343884076233696212 0.18471654306184720484 -0.11560116064845173123 -0.028534421495730894619 0.03707660431565377307 0.041567474428779810358;0.067715704405044777059 0.1471130207138754975 0.052797124290953893755 -7.3650015003214641435e-05 -6.047741448433969e-05 0.11763754441188377375 0.036144745002964391578 -0.1992261559032261764 -0.054127490235437211719 0.086740123822897988171 0.020105778846502057183 -0.00027535710418867564465 8.3895545957617841657e-05 6.4564163509461152454e-05 0.078015205458779060543 0.04978928029322429033 -0.1222569103712590477 -0.081109122186404022936 0.051056272002367383833 0.036762432908406736387 -0.00033999241414988502037 -0.00048640132222054285752 -1.1185036070841582539e-05 -9.7077550173225410661e-06 0.26241674649312163314 -0.071331107191375253684 -0.31276980917460472931 0.084402404575639272677 0.13348986321601971627 -0.037896651420155268164 -0.00023709291584564134905 0.0034163000175540720639 -0.0012719257011657850772 -0.00041152766678980698184 -0.00042689962436814909465 -0.10546314494439210097 -0.050038016020070207046 0.15723760851370818803 0.075651468720816281155 -0.052839225635918612989 -0.025843751715240788347;0.010059816480021528673 -0.0087437230965559994272 0.16289404891028028133 1.3067854264725983434e-05 -5.0557282402086264287e-05 -0.0052858853282041120408 0.0080287953265349328025 0.0089188659972518676694 -0.011966811954630576786 -0.0039119057336377965894 0.0044250729076159385153 0.00035338669615320026556 3.6516501398557114216e-05 -1.8114193317046174664e-05 0.17319850032115227667 0.16182424268595352324 -0.27089883270950826377 -0.26304802981070551926 0.11314180488787957402 0.11938735414224448117 -0.00043806311639170159846 -0.00053904004729374407814 -7.0379948205604554116e-05 0.00010749649498769007984 0.18480493198826319912 -0.16159325369253285665 -0.22011170300596819005 0.19099812661328782748 0.09398298881929263715 -0.085810764053336388568 -0.0042966870861617474306 -0.0010841097572708655733 0.0027463073728702129192 1.429483281240835621e-05 0.0011839533172832707956 0.14147469976286985993 -0.01310480802429330946 -0.21158752348209192151 0.019326215970588620646 0.070830217731706016093 -0.006588067998743746094;-0.54818593102099422154 0.44618905508537842763 -0.20715557305953544165 -0.047084638407003401306 -0.051810994410076159633 -0.20097868127217599632 -0.40467502750894146502 0.077118354920383797024 -0.082400689142914873564 0.056637149470967429465 0.15341960241727961578 0.13405534215643385987 -0.37267457445405566263 0.21287931872203755268 -0.075840533678411106711 0.19304898776413334516 0.03962352335614493376 0.29478683309676467772 -0.14667104262958385874 -0.20094968290953535428 -0.3534194592968221138 -0.18604912769447365384 -0.018262204314150105866 0.13644922041872678542 -0.034599484798545979136 0.16967305584348371661 0.024117278649380288064 0.31538143486821351713 0.14956913664716162127 -0.28859744885924337732 -0.10541357715372198789 -0.31709146345361943764 -0.026802835699186837448 0.17600033141220827737 0.092687710508127796327 0.087600427259274957215 -0.34144380580927585767 -0.20751758406401968338 -0.065121895754390077271 0.21963559224254189384 -0.0086409278573033841686;-0.12698376391340568392 0.39124714542495098168 -0.090778408212940808752 0.080446068814793006418 0.050179256311039782679 0.022980676319502589544 -0.0489527974138103672 -0.1413525385051109251 0.071519827047893960725 0.048018308902138227834 -0.013385148928823887085 -0.021155322376545208918 0.061902612326825590117 -0.040962075090973361358 0.014641774575225627308 0.16960022129116428258 -0.042612328841988081352 -0.27432713952152437686 0.013117272107352579216 0.10503755159980739109 -0.19414794137446808597 -0.035375003705401003584 -0.0054857859624727594444 -0.11916520207134319309 0.014538003642730367923 -0.10806857905898994976 -0.075164646557824510431 0.18136927685605902516 0.045082106064724958294 -0.078437330136364780131 -0.28961772069635738358 0.10225570557982724407 0.038093499511132118684 -0.14956680492679852446 0.063191167347885837668 0.23309270329875869665 -0.2079184819126940198 -0.33940720181516614851 0.42073975024666399047 0.10375013871927461773 -0.14742150112198992851;-0.21199971427921504574 0.06451743553662593611 -0.00084322653439410164954 4.1116424648915800538e-05 0.00084562485164359874838 0.2216931283468032976 -0.135816323802360861 -0.37569926736544889678 0.20345473169725877827 0.16356958793977377509 -0.075534166860355245188 0.0032389964907063532179 4.6231983162384666681e-05 -0.00032703553091702132656 0.12848773042611569273 -0.045933775358219040841 -0.20076248626193285429 0.074836201156559797876 0.083889649983284297896 -0.033931129915580927892 -0.0033452725090509158323 0.00046320483520100323889 -7.7753404398857959711e-05 1.0922913269775386474e-05 0.22023486890873461563 -0.13549792674096206024 -0.26259749710940261114 0.16014978140008939711 0.11205123061922632466 -0.071976477537806504703 0.0069145653998568526108 -0.0063513074518775176555 0.0035538769560190704155 -0.0032110210509927574266 -0.0020880378813081766631 0.25361738038049652655 0.017610733144330002753 -0.37713578935332287001 -0.02600639533218695662 0.12642893975153463026 0.0091335487688511129978;0.031664384356800877318 0.023267184164585185541 0.096950052580990528361 0.00013986097340988059255 0.00097109125970986406428 0.079402720415015448641 -0.040969310446604421949 -0.13401244719266267036 0.060238385911221555002 0.058251776151598232134 -0.022101436494278120515 -0.0028474978752365339048 0.0014754407923981477033 -0.0012127724663481668794 0.021236358167163776195 -0.00062273404355512099444 -0.035144482159481203742 0.00019077416274978104558 0.014746912936604997593 -0.00035730394345097912876 -0.041976531059876968921 -0.033617800045716440815 -0.00030481458575612468834 -0.00015357589648396237467 0.16809457696888166489 0.010970793841292845669 -0.20035423419979506154 -0.013317675748393197413 0.086209808458277997767 0.0061702869624451275876 0.0029820025083621562803 0.012439623695285121491 -0.0020226061960042104014 -0.00015967954113788076207 0.0039200697880336782264 -0.0017246374272346161761 0.074670969320306063155 0.0031189938938842938672 -0.11418130415110358533 -0.0012784386059608409802 0.038689723397961457707;-0.059816070321653369568 -0.30298210207152376228 0.25448836391401963297 -0.34308839198138790794 0.073575868441015962462 -0.37297938180792883367 -0.22057336348767209167 -0.16434534753909846305 -0.14765639588370746416 0.1140196407481378349 -0.19159650156992666381 0.19386414583434624648 -0.32316863037195514563 -0.22219215285692486828 0.13829814141706744945 0.28117409057561404406 0.17700313880307225189 0.038664076173731798391 -0.036178870266972133762 0.2109046814993189578 0.25568361264965561164 0.14596218074127162434 0.06756304707686343336 -0.10986142851629163153 0.19339334119368156717 -0.15610910887686771376 -0.35549392826440301407 0.030614656502305753055 -0.016145947084906905195 0.23515518042225086459 -0.0081862919454641150385 -0.23899598860978671366 -0.023684237895768022603 0.31272541101568757105 0.00080580375818887454032 -0.25426884109651232135 -0.21132634408380027158 0.27627658239196384304 -0.20882210478998119996 0.22181813647928411148 0.32942088022466559094;-0.096834305580572502259 0.050541656512565452664 0.0073896742977956533099 3.4835391034160246464e-05 9.4783315666929312919e-05 0.16474957220751246245 -0.049343263610259237295 -0.27917072018316962945 0.074023811831905941827 0.12153477487885458452 -0.02748217677452990601 0.0024725384826125977079 3.2243537684460890551e-06 -8.1159191554079361162e-05 0.24970664804904871281 0.088084569869873688419 -0.39069799702751101256 -0.1431942468549281533 0.16316992506330713075 0.064957081472809818923 -0.0019833895387108705158 0.00042554374127193349883 -8.6912305192357697616e-05 0.00026782887838628337144 0.27183681461678377289 0.014457488969810220955 -0.32396976069859362291 -0.017249217333716412859 0.13827606646418716396 0.0077672181487289885388 0.00071090467784443254345 0.00038985482601929503542 -0.0042663241357773114271 0.00036202388673814824092 0.0030773310351325001977 0.15287865040974951691 0.079903405955662212823 -0.22863526842318562804 -0.12209912641412459799 0.076713915111330369112 0.041722356485120085101;-0.16350002796450796572 -0.20785979551144528887 -0.10404532418344070166 0.18421935138478906513 -0.16156584842405893876 -0.024418446179532603962 -0.39131271286154545308 -0.27712706292265604224 0.25867042836122544625 -0.13485934133559823733 -0.18026571102894822785 -0.098942355366462578226 -0.18730828986830264093 0.16962509712215578794 0.084926476880141585357 0.29777309389971307052 0.18511875552470311024 -0.24511774798517799168 0.12515601885253002656 -0.24710350905212080663 0.074085577527418775001 0.063305796604366443292 0.14867992595969714564 -0.20420030502694214158 0.12433963556015560636 -0.14159447333957270176 -0.025340602426789263918 -0.22037361345794628797 0.2748788668903359711 -0.37679607732135073084 -0.41597185853789331311 0.19508723791051699181 -0.1620414674424151269 -0.41912358155058054843 0.32566315298990466953 0.40172121200708038602 -0.347063191111674052 0.30258593702011604698 0.097266515785149512685 -0.15454341380690986285 0.12176633569527889334;-0.18352427953744690492 -0.36923209685348573617 -0.27088634080572471241 -0.18345713649751235752 0.30815716068265380789 -0.01763919627832319717 -0.05733133744741229082 0.15133691073831012641 0.27493422356202601442 0.093242217339054356273 0.072177419232045764153 0.24878958880906829054 -0.14652911374592969551 -0.20993373449277435983 -0.42148964412082595699 0.17846195088237892801 0.14900275759903172657 0.18857307224559136105 0.0082456898733015392133 -0.32092019120759174289 -0.3016557580645542469 -0.091161399607572024539 -0.0068088802720403527116 0.33492090616803060765 -0.10901829783768571258 -0.039709813281826773779 -0.21862608037301239916 0.075985026537886773967 0.2833036532683858022 0.10123146990447041971 -0.055632568596798798177 0.15441307746817645175 -0.1925446482237460899 -0.25257479083868267233 -0.29429722206018371633 0.17788719623183654739 0.066388751807701998353 -0.27702711365931431686 -0.28721257659172888532 0.14397374439866303386 0.36086643253600264591;0.18677529605553691572 -0.064742412945797064849 -0.010650627433185087811 1.9595940346206078351e-05 -0.00056319747596859958457 0.17267274956579006795 -0.031573166021610435394 -0.2925355274226744684 0.047617473622704679925 0.12733650993660022843 -0.01767060645085570883 -0.00035031117205825421448 -2.9748052594720422303e-05 0.00015268307221155680417 -0.08593081480941003325 -0.10369683887568723057 0.13431680310034754822 0.16852602091478532942 -0.056114674378443196723 -0.076474517820808149415 0.0011786923274461793935 -0.00087893874493274158372 -9.7320793442482245237e-05 0.00022752871515029074651 -0.17227476853207829288 -0.18447094178671194498 0.20537619105195931146 0.21800823602653734978 -0.087620910036392316012 -0.097921566762817269236 -0.0019497587964596217822 0.0020686755180240102604 -0.0072639073490530598962 0.00077843174174156205304 -0.001239492753849176683 0.11846195258195291178 -0.027298899697263106362 -0.17681714812516460822 0.041974741656091017761 0.059339999630040114742 -0.014489460432956020874;-0.061656184553715139007 0.083036117713871260282 -0.091939277611589778627 -0.00010949507845893076646 -4.6428723657871029818e-05 0.090428494493176803104 0.13416141021069769024 -0.15319127001921756248 -0.20089451064211261144 0.066702268198939040911 0.074490225661652309519 0.00019386612618171769314 -0.00020926455867066438453 -0.00030542480257401949904 0.095588614159563475847 0.0084048990559916249288 -0.14977627113484090482 -0.013626529124851372368 0.062573346610076199803 0.0061699545774199105602 -0.0028039572816132996708 -0.0014184240770678912917 -6.4621016248980503948e-05 0.00059239122451609272941 -0.047845997570950350719 -0.091130349383313449807 0.057541663024290513884 0.10708850580229901939 -0.024532787052606475076 -0.047972490761944479309 -0.00054179893027829050933 0.00089545838139855132246 -0.015192451219296999876 -0.00083040823383502559724 -0.0025902102923196917983 0.041214624531215007797 0.1712492414783769179 -0.062190516313291727135 -0.25681139521847751173 0.021091727916177461372 0.087011086395106324032;-0.055703268198574441838 -0.080659659843654460398 0.23472600766118911775 -0.00024241519524173066281 0.00012554548556464076 -0.079367789751595876901 -0.0580836652150367172 0.13472757650151148678 0.086704016130731906276 -0.058593085268769537488 -0.032095964537945609329 -0.0023412673782102783743 0.00013211709375399307642 2.0466321952019951905e-05 0.012788268711291172 -0.15595857989746944594 -0.02023328905485894183 0.25352264113016986791 0.0083916960887509793598 -0.11495554628202908631 0.0031569015778148681525 -0.0036684314813458288561 0.00011661475480079271506 0.00068906745635617249086 0.10271936166508063848 0.26615729930532333602 -0.12296730266193174608 -0.31552885022479293387 0.052552045968277873167 0.14154673998523509271 0.0016961270168553202724 -0.0057361826727141736887 -0.019347717412491131916 0.00053007396012406103082 -0.0019606138605803603847 -0.010156734438287714009 0.047544690988268301091 0.013470572631870693023 -0.070394629774927899857 -0.0042612056648350382648 0.022663170587170183845;0.059399084506476178269 -0.05594509303148367807 0.28098224070357158411 0.15292866827290510501 0.16500953531553103071 0.050186596034251830523 -0.12763465887365441076 0.18912427611053575505 -0.22828171419184636881 -0.14939682177354515757 -0.16632629244880853259 -0.52320559069917149664 0.16710903539865432088 -0.18868189169145380135 -0.27512278964444275564 0.15049507747244481037 0.31957680076464184404 0.23510083881524232452 0.031617045709790021768 -0.33648556256592959679 0.31263534950171784077 -0.21292285873183758316 0.16297170158234108861 -0.21162553854973811807 0.2490238174416257444 -0.35057216975027272188 -0.16970305434163823755 0.36396753389651148591 0.12660492903235986972 -0.28079013970335903183 -0.00073991145492265564167 -0.097351675673040719006 0.066072556645956487253 -0.28551019379513131735 -0.0041724483664584196413 -0.21312187355898948304 -0.053546132616496051881 0.30086029548041004489 0.15574341739200242563 0.12216081201067688355 -0.17125692139033923955;0.25388234606982268415 0.27885477037620337581 0.30854409389015702292 -0.0017788162602209299946 0.0030792425006450491187 -0.059249155126846905772 -0.2236755275197957471 0.12373947661347529936 0.31499322351690911548 -0.057582738901196743597 -0.11720348582501233237 -0.0448751991949736459 -0.016595332661826087822 -0.049663627409027015502 0.18958533724729073611 -0.084798726552336167739 -0.27060061574586913302 0.13805916883917626614 0.10297730785238930207 -0.057531892418534465172 -0.10100032899893710003 -0.24160176240384209634 0.061256180142069786843 0.046457132560963891599 0.1130222829591878142 0.16361689247997057706 -0.19965401638616364632 -0.24305250643720940906 0.079189558227661993595 0.11031679405702281282 -0.18688652958437623752 -0.065514183422318239547 -0.029025875173356589093 -0.0025692304924072100966 -0.024859662605395457108 0.14863378370532284722 0.28759104907704458043 -0.19499570471586488707 -0.44598157668427385047 0.060831200807643585893 0.15111469625437171094];

% Layer 2
b2 = [-0.20239136338709193264;-0.049665103330713965268;-0.68493142198087053618];
LW2_1 = [0.34773378598171161835 -0.00053262505998927559513 0.43983099484155868675 -9.0418321603129585187e-06 0.46151445550272812701 -0.054296834666140152137 0.77631605040614215518 1.8044273716594783075 -3.4850681257869038647e-07 1.0083267504267438318e-05 -0.32294893844784650083 0.81315035050919659554 2.8909416632105819735e-05 -0.017093840718949572521 6.1681792941323138079e-05 1.6783891768339267436 0.0035017972705182016588 9.2190560757121543556e-07 1.8274752504281632955e-05 -0.81208779058855151689 -0.1121526705092965176 5.7183662434672978683e-08 -2.2995461483954198201 -3.6362610083236929341e-07 -8.1117351283050184013e-07 1.6590146783284398513 -0.26243160365145995483 -0.11920719470490472036 3.4628928826202285795e-06 0.00039232376553104147563;-0.19040970453474975743 -0.0018748264782820077586 -0.10887299304628332564 -1.7704565420132140736e-06 0.97875194240013985159 -0.13786288691945722262 -0.1141120618841987705 -1.0184527404407606177 -2.6380998498720678266e-06 6.4842025347055663566e-06 -1.2524150151566342259 0.78658426764723932134 -1.2682662490799942805e-06 -0.091625367851604799796 1.7197269485117281269e-06 3.6992022410381388831 -0.25569747263708708651 2.727400601808377633e-06 2.5126948374697322699e-05 0.24917591318571952197 -0.28666153179295755793 7.5135219791767109135e-08 1.0626415153540413883 3.4441914683790329076e-07 2.4890405773354969732e-06 -0.80743807196734806997 0.25942374900452935815 -0.1537894527890625862 -1.3615604583048481548e-06 0.0016468577541571003189;-0.090142130529686809171 -2.9501366168292892376e-05 0.78673635548014453356 4.3639819499904310867e-06 0.29632943022849939085 -0.018984710147150220955 0.26174187884876454202 -0.40040710870642293173 2.0964864677715308623e-06 4.2821093485037860517e-06 0.15437363574896051377 -2.8627905845085721559 3.1630505286217930274e-05 0.020150326822312339403 -4.8686217052496684303e-05 0.74901384485930255774 2.5916968788582837036 1.1839399737134321945e-06 -2.7730315859975941515e-05 -0.07166361229878824568 -0.02570822222456158046 4.5377829678824038081e-07 -0.88676255729240749393 -8.3912481680548308181e-07 7.7389606348800704801e-07 -0.52756683981860408306 -0.54157903451265965167 0.43718120435152457715 -6.5469966054359037224e-07 -0.00013762176237255770465];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
