function [Y,Xf,Af] = nnet_2019_10_10_16_33(X,~,~)
%NNET_2019_10_10_16_33 neural network simulation function.
%
% Auto-generated by MATLAB, 10-Oct-2019 16:33:42.
% 
% [Y] = nnet_2019_10_10_16_33(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 5 6 7 8 9];
x1_step2.xoffset = [-0.785234286691865;-0.551725629936658;-0.334975625612578;-0.0798838227834168;-1;-1;1.99013064737702e-10;-0.546889646064646;3.55320079659861e-09];
x1_step2.gain = [2.07123298072529;2.16330109667472;4.96759392731474;15.5536161694306;1;1;2.00000000039803;1.79918877457037;2.0000000071064];
x1_step2.ymin = -1;

% Layer 1
b1 = [7.4518357731668718458;0.79218231656820647935;4.3038177011850615727;0.71672623506587485043;2.3736471915945664968;-5.728189670250070975;1.1514486217891160003;1.534590160605176834;-0.51430511795871947101;4.8730111913910629795;-0.040281745308135739891;-1.0226070167236118724;-1.9265297192191126463;-0.60442879052659859163;0.84375096557525064433;0.21569901994850829152;-3.0710317000887448202;-0.15612755337820150014;1.6603397943878326348;-3.5127267486868172242;-0.79718458007458392611;-3.7132105139404578686;5.395637174700521399;8.028475259882691617;1.9143964945223426177;-1.5213624738399398328;1.621308929383687536;1.3350089957680613129;6.8391680435868149601;-4.7902973335174170444];
IW1_1 = [5.8697074653061696026 11.325647136138499604 -4.968029849103573703 4.1483070231509469039 -0.22874314282043103908 -1.4581161206985504553 4.5267383693051135296 -6.5195276116767972852 5.8240274303187247185;-0.61895642744780654532 -1.658385987696274988 0.1484673050853022036 -0.82115497838427498056 0.18477947288430271455 0.52915349584241000436 -0.59394633883287195619 0.73231121543719757128 0.19298272350689926746;-1.5163764799248964366 1.3522526657502049741 2.4329724810502919574 -1.6852288444800433975 3.4596611794983345156 3.9995892460866437901 0.78832090832394319246 1.0781669548456636054 1.8338749240163243481;-0.95746052451538454786 -2.3021783693047694896 0.26058086204399133479 -0.086548358311064485515 -2.0651213532417349583 -0.13592678389335843825 0.62569020177794076876 0.14754137381000867468 -0.91301131543276980995;-5.6421538402611810525 0.77537939516565346221 2.2880060190144009269 0.97860067530647154577 -1.469843338653091136 0.15385271710102105258 0.14523395809590755601 1.8092526884678010735 -0.36571755888625628872;4.5123021205371429687 5.7995689121672677757 -5.2203862845092521283 3.1511007274244251519 -4.2202162018749573846 6.7294743200361750723 -0.22748389862234361103 1.8931207297675669565 -1.6390628529015167647;-2.6032009809516245546 4.5684938614022998493 0.58230542408858843029 -0.23201496670206564477 -0.78022059409277089159 1.0540564873833104809 -1.1704332084495281396 0.95727305409049368023 1.4002467184128795097;-2.4195092221111598185 -0.18372709334012171656 0.02829771590050042876 -0.68842917759786192988 3.1076188109442481888 1.2805354053630964017 -1.3470081121713739503 -2.5890848296897712721 0.93825423795384343961;0.14345675029758678254 1.4731837779230396723 7.9782603783575725132 -5.159158300709031586 -4.1619539172765103174 3.3603765009493256066 2.1943421970553811384 -5.5800577781407163513 3.4181873397578068641;-5.6205783021530590915 -8.0774261106812357269 4.1600545706502458643 -2.4873967409916386551 1.4204877087577436612 2.0089719544808475327 0.52795858856859012587 -2.5814564997811246805 1.660275042552537883;-3.8748104042710997952 -17.721932890889700474 7.5629803643103130639 -7.3819052757732235293 7.9238114689741685481 -1.3320737497937180649 1.1611650600206973039 1.5430848171235256316 -5.020035486029017946;0.77261116462480761147 -1.8333970185348982262 -0.75332180266723181017 -1.0321117739819731796 -0.65160001424869051778 -0.26605827695655404064 -0.44091252697770277891 -0.76503197007963785747 -0.31541370339387009292;5.5836385111183268748 10.58623066158203585 -3.8902939461453942549 4.0429734810820532331 1.5272388473722042779 -5.8052155793849884446 0.68700390799360322447 -0.39261545502141176334 0.22638981707204869354;-4.4890649875165582472 -0.89774091333293959405 4.7375052729618740699 -2.2561584499368247947 2.0928827121707915815 0.35444252775760026752 -2.0237507790077509107 0.76817874404208119632 1.035495182513339385;-2.5754027675048964952 -10.915671274419395331 5.5505309224609664653 -6.6845612624708321547 2.9040947264740313294 4.0203649668091383518 0.78203136827061281444 -0.1697825252590187961 2.0215917163144050406;-0.84219589911874193078 1.3017188974641515919 3.347788651930954984 -2.1918956267511218172 -1.6670811961974432158 2.0913638973980397395 0.90610882133428527485 -2.07436597118268784 1.297317107186223728;3.1645554180406496592 7.3042123103640310688 -1.986419581730688444 2.2202682161174007724 -1.1497017231359578648 -0.50633745071068236854 -2.3079584313820014074 0.52671135141812697178 2.2832507540290398751;2.5602112417243576559 1.8853804321297180646 0.019278556076294774829 -0.23368870690252060984 -2.6927855329602738976 1.1192284827932135194 0.98440749964139151462 -0.24123624461939233155 -0.062551346580798111718;-1.3537273731959666989 4.2215538240813597071 0.64502157682124849902 -0.83606695615469228677 -1.286058116386402661 -0.96414900950690618497 1.0083166918966972592 1.4942385854109050403 1.0599430011304156185;3.704117691672651258 5.4332612245484330771 -2.6650678852982681022 2.645091994027994442 4.1387046391374857635 -5.6608007055424787168 -0.19125035528544492847 1.6062076911873475193 -0.36770306987354373085;-1.115984656175805112 0.096288535210467582348 1.042472308068357556 0.25275391849345291151 1.5742778234376419988 1.1322086405143700905 -0.65940119283159248642 -1.3983218403971635624 0.28089740603104451644;-3.5595264312078551683 -5.4664298355187677103 4.6107979436759505276 -3.3798236113915538503 -4.8069586119599536644 6.2485754462035583146 -1.2151202147887725236 2.2267550589264746286 -1.3785593231714663442;-1.1353529618427185 -8.1110004361960630348 -0.35534280897726044923 -3.4979341741332095062 -1.7228266644749883341 -0.77197994417950566159 3.5458603143429630045 1.1187227650299478299 -1.5529957534598377578;3.1213219354997310262 -1.2459304274296256754 -0.15878219582859959269 -2.4872846378104438436 5.6670312161137603724 1.8232273775577263475 4.7521176958386401878 -0.095908056515821613064 3.5580661389249108595;-2.1316783158657868213 -3.9392297213454843252 1.6288225489517378364 0.9356121120413177783 2.0174986733028954511 -1.9120541159838517764 -0.10089234549103064109 -1.54557392564934859 -0.10245312174377899095;-2.4396229454921050106 -5.9524042262769656375 1.6701784605159799568 -1.3593714647205397128 -1.7782511776845184581 1.073641263743459362 -0.86860405924738826045 -0.89448110109531830947 -1.9805511489637845912;-2.5066421097448281508 2.018848995255571932 1.1164018477417601005 -0.96948560920726734036 -0.061536731309984896154 1.0424596221209156965 0.49007462006387458864 -0.83483516970503468535 0.3797416622775487971;0.19215123269820066909 -1.9071934245926476237 0.52412196973905145203 -0.37823297845158027064 1.3282013149795772744 0.72626830398676411882 -0.093172381357586264716 0.19529075684224189713 0.53045788422501127801;-2.5870637456006977395 -2.4604938592311786927 3.4432825285944335114 -1.4670229793482849612 -2.0010187674744939201 -1.0647970863945213083 3.4655455042851270875 -5.0509535210914515702 2.154457135566434367;1.7000667191699254666 2.226532831345469976 -1.3025198122303289772 -0.50474325355513116609 -0.13111066871070944928 -0.31789801531555578196 -2.2088900626701888363 1.204610704988914982 -0.52918397132240824199];

% Layer 2
b2 = [-0.76437000348193806509;1.8135413615470692417;-1.2378329370476086613];
LW2_1 = [0.12638655348164121173 0.64413692539654066049 0.38083531632887157592 0.80069421129593720821 -0.080683564883665306877 0.418057490306066315 -0.22288398439689396935 -0.18031568105207035346 -0.22914453641749391033 0.28067207706553115587 -0.12089367513081074323 0.46826889395117227144 -0.22042110115005553173 0.11048363886242761056 -0.14347923112389990297 0.60382610523945656755 -0.19780447437314185866 -0.16059415101642160462 0.49649393160793769963 -0.0036999613825815548529 0.50239070102306171428 -1.0185874289424323713 -0.18839577363475548677 0.2758251246131816492 0.16343939518486580442 -0.57759375542209301369 -0.22174414687979907002 0.17359033725884617794 0.75183554151831155643 1.0871527024881870727;0.76570177922780935376 -2.1427310554754326333 -0.65075992209980260128 -1.995735224969053867 1.1522017267837865173 -1.015573719781155404 1.0134067298738629326 -0.587633549736637395 0.48488121713597476248 0.95919132859226330368 0.60834595142498548714 1.860210432579209261 1.1549032035350625947 -0.33552808904461783879 -0.11185807976542633257 -0.92294228733026617562 0.89053093861766297046 0.49121971816879611561 -0.64515481622001769058 -0.69955760635368979816 0.5442295733749998865 1.2220976504413707531 0.65218284627221168037 0.071618445681461667673 -0.63298049674921985641 0.68900156150256564036 -0.49503655159385667739 0.16665216632051452206 -0.65263399936048871464 0.097836553884755775301;1.9307986599908724124 -0.19243404341820172232 -1.9953936381228774 2.7161133010831051138 -1.179904130234430859 0.32521158964547847159 -0.47349674323912283036 -0.60989133233744075024 0.27921527987272543037 -1.1609433141789899935 0.59893566851103408055 -3.7332768663812991861 -0.19146857848491405374 0.96017059293539985809 0.50118807958152911119 -1.5360635810135496726 1.0288190240223469285 -2.3037577183759876398 -0.6162592674865546849 -1.1929550356580842507 -2.1300312756524579783 -0.10524469307412886998 -0.18814929560044704737 1.1181540874682629472 -0.79099157523827046123 1.3251011452349508168 2.6161863251458647994 5.1209192683480608821 1.1036449194072437407 3.6850041820387633429];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
