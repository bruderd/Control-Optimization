function [Y,Xf,Af] = nnet_2019_10_10_19_09(X,~,~)
%NNET_2019_10_10_19_09 neural network simulation function.
%
% Auto-generated by MATLAB, 10-Oct-2019 19:09:22.
% 
% [Y] = nnet_2019_10_10_19_09(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 22xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.68923562226234;-2.55976353340512;-1.66744596351216;-1.41306720917566;-1.72853430894893;-1.68470125555624;-1.54419014043967;-1.19832179942337;-0.920880747885855;-1.33378765856646;-0.903705156859326;-0.769375349371132;-0.921590453724966;-0.51752555129145;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.444678795156591;0.407242451512966;0.618934517403837;0.719788697180273;0.575604344039423;0.566071617817766;0.759413227382855;0.849990639275185;0.721977894999954;0.767034804683409;0.984427595895331;1.50655383017289;1.08895222364963;2.05283111745513;1;1;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.057984591780255279;-1.0272299340585240301;-3.419677071171348004;0.88591656219545855677;-0.81955316058170646354;1.8063952011091388705;-0.67042838109849167694;0.56166422122359904723;1.6077209643827889973;0.1571456421905763623;-0.043037604653853540893;0.88223516922528666395;-0.25396756441369183754;0.090052060347472581703;-0.2411395462350786334;1.1340615171854644405;-0.42644780620656880243;-0.80223237453811313546;-1.3105194481353727998;0.45891007996686011827;-1.1777429772726912827;-0.28628198790053893674;1.1415875601156391106;-0.52476388385717953611;-0.16040654442652343969;-1.9758586387276362295;-0.56749034366459649714;-1.2325548538367814277;-0.90753668733683146019;2.7999949991409613936];
IW1_1 = [0.12763915681299231597 -0.16951493154086669235 0.23577947515268957157 0.18616301543212551706 0.20689498256321053882 -0.34863175434289794818 0.29868484241873072271 -0.0010789519663160261967 0.16975604147636635943 0.14874441382587313965 -0.1890390621814571348 -0.0023539625084518923763 0.20661659299432891257 0.04084822159946421144 -1.59796747431327546 0.30758045582204579516 2.2375153786013513013 -0.64617191339655621896 1.3312031437616129725 0.11254123392192570685 -0.28555846775729437637 0.35199664114582707164;0.26281287639952960467 0.0059179728374952472736 -0.036362719426866488281 -0.02344475596401864384 0.16823147093604773339 -0.11521252605897054633 0.068866066782886661835 0.098940100169003605823 -0.11922294303231742441 -0.12873525480740080629 0.12066600317224329686 0.40232252454644074069 -0.10971707365009027157 -0.10266515071692008942 0.7023950509208538584 -0.49517875691996204868 -0.94276198351977724688 0.40896148322263486952 -0.78158650240331872805 0.46951640591468302155 0.17135802771716651671 -0.1812431834829606736;0.47478258700317321761 -0.56976468088238496623 -0.81116325729798754995 -0.060370725676661310399 0.22832329116759528254 -0.18754290346199692374 -0.90122807898072632149 0.061474790710841498154 -0.44440463393684986881 1.0375076887414544924 0.73813201100379344233 -0.8885499221723227592 -0.36875656526929218026 -0.55321328103330913439 0.90420535031539006621 1.4488616366698476856 -1.6181955194140056342 -2.5843251488485741163 -0.51528667939448313806 -0.7891702802345464951 0.51669683858815840249 0.56398272923651460165;0.098438514966939602568 0.067100198633738672438 0.0044043685945817550101 0.042899481679680960544 0.057888543651169480087 -0.036028914647437605689 0.082451047809134980771 -0.0082231442836003098423 0.027789552935263514555 -0.01634694439354237791 -0.19166939956206816009 0.10163181080327898798 0.059799706016637428629 -0.082391182045499847253 -0.74138039078523798597 0.27522709476889245517 1.1023304475767230493 -0.67841004782050706723 0.60740696278781991513 0.3036802243505691834 -0.031022444254594955942 -0.1100553819763785135;0.18894054671765486697 0.023636309900062289768 0.30225254937566098379 0.045087249581370988927 0.23040585389842674346 -0.15319842523925195077 0.21006691442380917567 -0.12990990022372439494 0.064475548847724814538 0.0092486381452119518359 0.16058184537417347082 -0.10121685769844016023 -0.086321049642134814461 0.054407443273927255656 0.26035536463962966058 -0.19826361490391458675 -0.34553025903230283333 0.31655017056550743826 -0.21211743660474033368 0.19491373515820101248 0.30823614037103214125 0.2671222044533315132;-2.5113446206384288928 -0.054791679747168080261 1.2612923235791007048 -1.3552924317774792673 -0.060566004387452104796 -0.043583644154867977327 1.1283570245558669498 -2.2728770529491391095 -0.29585082416475949607 0.85131861102159567256 -1.4466152469265036729 0.059101558653387738229 -0.52070641357466596055 -1.1016152662648543981 -0.60358010312029541922 -0.38282521835233929153 -0.94486939834968008967 1.380324673472985042 -0.80508711552602207906 0.89331498639438833287 0.36880006479446481027 -0.27513310043545569084;0.44215240623274831844 -0.70934342103994985074 0.10385394494638416907 0.33402900314578704011 0.28938360446741268062 -0.5550956033285877611 0.37828928130118555373 -0.12980857325681924297 0.080403207472227539165 0.12940395455237338473 0.35864995721987041888 0.5349577712289348419 0.15173823179458348354 0.090730187969567430151 0.87170513234243274248 -1.6014565868846695196 -1.1168016655986998664 2.2354696148566914893 -1.3215742844029985115 1.3777111490238422853 -0.97755672546812433232 0.29465069100268770352;-1.3843182389897006335 -0.08640948539642009929 0.046717394400965048251 -0.95078038287970156883 -0.57377925109188454567 -0.29632759803815461597 0.69612568457424617296 -1.4844139203784176839 -0.896970740458548077 1.1346219675310069697 -0.79834249232842435795 0.065275544662604184643 -0.087922506678304770955 -1.1826477864180442445 -0.40735414870033442858 0.11301295212758229181 -0.23696162506279166982 3.0606640793789021693 -0.46885077013724713035 1.168647407881658884 0.23396610510774604186 -0.31650160581517433611;0.10147061722485727076 0.2060169769324211031 -0.26391174233311792685 -0.15062573081277247367 0.026213882509308342877 -0.072020201489175983411 -0.054101262946187007874 0.21746003170434524687 -0.13058828551099033177 0.10749153578633677264 -0.024297118817468339041 -0.13345824542962303472 0.13201864690808257086 -0.02057515885928176691 0.57131061155716544864 0.88177096525056875009 -1.0420486527173693503 -1.3163908257930097001 -0.097473683526307461356 -0.81156610140139773257 0.3529042052162573162 -0.1758766363765609797;-0.5407076401917059183 -1.0051036637533865559 -1.0746099697667603756 0.055682318921266155121 -0.92061733318088634359 -0.49223343224451732159 -0.16674355671672994039 0.27988507662369377371 -0.38759280382396588127 0.051219948937574477643 -0.39285889573278165443 -0.52602189813869792978 -0.0074509027114395076988 0.097012218818796819297 0.8460439170408647902 0.69781354986281884933 -1.3256270789079029893 -0.8765107481908427367 -1.0804270124170261003 -1.5591590538092896523 -0.42764680822308520636 -0.46925410075299606172;-0.27972422184956330371 0.18241453078918862252 0.41140806928096723682 0.37163052570477211889 0.27938046703549018757 0.04249627441386422122 -0.067647381740735298972 -0.04177460700371853769 0.42736663606120262049 -0.17030550401618804734 -0.17100160314795073702 -0.12107035787705516805 0.027839130420046050152 -0.020637502772669451268 -0.94621052447868880808 0.30917028012814645743 0.337482908608387977 0.19820163253299991069 -0.19185343144755079292 -0.53327587386426689164 0.086648456352912101019 0.20320845477895227438;-1.4579437257110345882 -0.0601386015055262943 0.11318010047878951374 -1.1505730647986522897 -0.48153339550901369526 -0.27697109520377177772 0.63005421223008695186 -1.7593292728499965172 -0.74584486149535644817 1.0677291331723395285 -0.83663626223552600703 0.079222368754998967466 -0.070067104735645202584 -1.2194211203846385683 -0.53331637503437401282 0.084933457140887375081 -0.35435092198378292938 3.278019366371784038 -0.20736050204974923461 2.0289468754790944693 0.16236108966477286186 -0.60069685483160983885;0.11846001959881294341 0.34026029293856552282 -0.12141961656118814561 0.65425390458642496139 0.047129138704669712445 0.068694683616941198956 -0.0064029559156328101285 0.27584542288347124739 0.086993368958463351825 0.33125925358021518496 0.16468625839320924498 0.25946625621888791402 0.29125966767552508019 0.3892238956776132297 -1.4448923715469146334 -0.06991017520371746452 0.12747975564782929037 -0.15622058715150574648 0.038988534506242102096 0.17316243731824920715 0.0023746063253619366373 -0.065655166682451013282;0.58736304597771216152 -0.086552896484861141513 -0.55257123814800990225 -0.19599623828317255803 -0.29445716090465973158 -0.18272475186541120573 0.20483449824486421598 -0.011118075477725374717 -0.52580567746336648316 0.43292900606518114337 0.28474685249739467574 0.12735047104305127763 -0.1105877196159049114 -0.20227497603306163199 0.94112321996425030157 -0.48873397209121116624 -0.19136088584917801403 0.49837505897204187333 -0.35797672927457813152 0.37694742750548992927 0.090995541942085977904 -0.16015141934453311356;-0.59151357389946412901 -0.51666441135554719288 -0.77966810472302905399 0.32866624486850926079 -1.0280179854174982257 0.11599192980695946509 0.47751504246723930347 1.1800725538022902583 -1.602218869952227287 0.83876433535517558315 0.28439485101766243114 -0.14973353344651188501 -0.11227089707767171078 -0.63000838009758808322 0.022236748675223169669 -1.0317776985482263186 1.6003186642796922712 0.77611380402416618729 0.84466251724547525281 0.50775551641189553553 -0.5149277498181202839 -0.17822364357844822091;0.13412470162362655213 -1.3718418568646082445 -0.63030570821029097139 0.51038126554596829898 -0.64770466002681470474 -1.770135426643548282 -0.50706429106326600387 0.17115529493821268758 -0.55565458496830932855 0.240243854486131031 -0.29351930882067056583 0.68253060181995550693 0.096703718799286311758 0.39342918971983492638 1.605602031615109393 -1.2821691958338601314 -2.416701536029619124 1.3801711943059025156 -2.2841819142488368755 1.1012249605638508854 -1.2340075360875220056 -0.19744048638803965434;0.54942012110150439952 -0.2775793700064064784 -0.58283251600924423919 -0.64825481887231128919 -0.42938489024912129821 0.0027331407340304009201 0.10969766903826538851 -0.20023826103108338659 -0.49777187860601856961 0.44836976422802210518 0.2083915615111582853 0.094035000315732558684 -0.068539509363283443455 0.0014237416182147051916 0.93401636293241541154 -0.11601232439741132607 -0.30263801792082589692 0.052706908439842159453 0.22567955044198714787 0.10843218291324754898 -0.094065863875484725942 -0.048582990268748724172;-0.35086288381321800722 0.034110484088191464491 0.2797166634540723118 0.19214796354780053211 0.1959983309497539683 -0.065594579183695558844 -0.037809904482150553939 0.34632045626920338055 -0.037372665748282497822 -0.34360715292680149568 -0.0051282169901972918941 0.1088568769159776739 0.043819014792294164184 0.028343009604033620602 -0.16885229273089494284 0.0010300145437003055838 0.24202638672741685899 0.024810913375631949568 -0.41030211505150288032 -0.15183931623380825249 0.12951162037428406992 0.056025659499121978346;1.3791467005570783311 -0.11110115772203715823 -0.73260402827482229426 -0.84119211901416413024 -0.086686366432315212216 0.40219506512604580317 -0.3973245826660302682 0.53602068832052984781 0.1538854319368732626 0.02973526839661898985 1.1369165576886230973 0.07652693054882832302 0.25096176745673065556 0.77107759471359205161 1.2737508182393604272 -0.5812472070696587112 -0.4903124316714105313 -1.4263457806077990409 -0.8612762960541188173 -1.086971877822752397 0.14258450023048557798 0.28277095200475027559;0.051028064546274939928 0.083106760880232444233 0.29709861629135941863 0.20079954481016074053 0.28892801196611689329 0.0082553308565328636925 0.17109014465896871249 0.0024116468482207617866 0.11207559825456663016 -0.052166304588626893901 -0.18149405169609614252 -0.14147551351512246964 0.029517788202002126496 -0.067022689708296181998 -0.96507361606519859176 0.34379499115753664462 1.5115229798604274958 -0.73626135764922895355 0.66146944359826997939 0.31944401960295892851 0.16041744748230460371 0.28466992614388109128;1.289748853248050775 0.9257471953488523031 0.57466113042970345948 0.3707613757704658064 1.5043773296080269475 0.77485308385516726837 -0.79928003234051558934 -0.58812450281040573596 2.4733644105188461459 -0.89276297042848373753 0.75636366032902557777 0.65342353392060847916 0.23622936221638413112 1.5715499677326627559 -1.0660641731604936222 0.10784260768100777106 -0.2436014889481073753 -3.6862901753655465953 0.16289087617100680982 -2.4814783598962080191 -0.11189722084975226024 0.69817896984274230299;-0.28481813224563656828 -0.56587349922435448146 -0.36130430460707058105 -1.3127900830569070312 -0.7743565157179268521 -0.42882244760229570879 0.19032266040785264516 -1.1746020254701170504 -1.0030023505957785801 0.86102033461142124526 -0.64140113648573737759 -0.25322081825449982428 -0.19667668493411463726 -0.93449008091233676243 0.79072114687997874238 0.12280397961425734699 -0.98068740409520249734 3.2152087145922161326 -0.85983579007068411393 2.2443510968066546774 0.37347641004553672195 -0.6846302572310973833;-0.5009499266834384068 -0.29875399259396540064 0.23414858402443053387 -0.56276333982813564472 -0.083420543773909838769 -0.24586221892616874629 0.23464799855721299449 -0.3143257291285836974 -0.22355250809127447109 -0.022615370239564221849 -0.064695888988329466884 -0.055804003113764169552 -0.38497308279195163738 -0.085710588021739753106 -0.50071580087667499903 0.42638527583268348575 -0.76816796133885545395 -0.31359781137036618626 -0.20022792216028401091 -0.28899143330603654922 0.12954186454962227093 0.13718584168059960726;0.10524955661094513581 0.32031959500142453967 -0.062632422906247153804 0.74753888928047396156 0.068264679183506357663 0.017440883995896258596 -0.020597135637179755929 0.34442479953545890314 0.037586397081717945468 0.26986913045765337227 0.12843914414057241991 0.18207710877642793723 0.23571547705347292712 0.2850879281411248245 -1.4408121941795899446 0.18047247750019326795 0.49543851319897924679 0.094056329793591172961 -0.47530221644930259473 -0.28246906311347491636 0.17700987734261625084 0.10602546829455883337;-0.56069476883960378544 -1.4112115367973059321 -1.1777381687707511038 0.1869323107773054049 -1.0425772754081570337 -0.7728034368458848169 -0.18911160989492928342 0.29134574987985567551 -0.32920477413729626326 0.078936385415956489275 -0.3469528830415550269 -0.6688752641264309462 -0.012133320875301844416 0.058865480446532551795 0.81787485040391960656 0.88171473527278132476 -1.3253403911915453417 -1.448414039090796912 -1.2125023159516599147 -1.3285773767399113865 -0.63508108910165184113 -0.65210506110735921848;1.7191790218595399686 0.010718845224697223784 -1.3900315947163053298 0.046809298475131239092 -0.49386660305224794332 -0.18816776642108981599 -0.0190835827872668784 0.69677737682417839604 -0.89655859644785984575 0.57444242942996548429 1.0367003513047796659 0.56507871524384889472 -0.18820724021614274046 0.43266636562542193367 0.88339663437780613364 -0.45875270505383697328 -0.67513141590714154106 0.92955341837108651504 -0.060506519283020018807 0.62948109855668077373 -0.035201710513922047918 -0.2504935425957701689;0.74181144090470063635 1.1147435919491144318 1.2690972888929419327 0.02417970684092092537 1.2392880536585315632 0.49703230906895090602 0.28971659876306221637 -0.32733189983139743262 0.56219902810732469423 0.030062688859514855727 0.50650247213426236037 0.58867982641481864103 0.076920137270932026352 -0.093102257119043310696 -1.1616142677378775705 -0.80028755104036453094 1.5978700393276386027 1.407391847779312366 1.5930190381542093103 1.1507465551956717054 0.36464198796461116947 0.88542737995313625099;-0.14301022642779642746 -0.57943711949531284677 0.13954356017855040761 0.36681474671514674446 -0.062519938149600023936 -0.13382670479209687886 -0.21343849536065706562 -0.18572875601102939447 0.22117893662051760217 -0.081223779276578131348 0.010715628352428856543 0.12161917757252739547 -0.044383757301974781362 -0.023427204620908297084 -0.27392942704048645064 -0.54793508543210189821 0.49556905873648854355 0.84959080816721654905 0.046244390746954126825 0.55686627474703587204 -0.64712008656111441596 0.33540768200290499435;0.16341966237966112918 0.22139957701955711999 -0.25791856580995681236 0.23222949312472951355 -0.17030470926534399534 -0.013767623173697259367 -0.064648773060311429117 0.12176365760291385509 -0.17608335299852037603 0.23655944340902171352 0.13111132229834895901 -0.13769139901629298683 0.13444355595821397276 -0.015040874383463666286 0.055440591822757422091 -0.54885146062831347002 0.070664041963768117749 0.92120952953641488392 0.84573821500667845097 0.30821952775577032835 -0.32571221823852158916 -0.12311583114729401922;0.52993607466492431701 0.20540367217400609667 0.18792093156801900622 0.82648756659472155661 0.54844968308885433395 -0.20210278791292513034 0.057636284309716470653 0.52144841646385764466 -0.0048715620283703939958 -0.31147173713242093385 -0.057185875119112446197 0.63814979780561520428 0.092678392405922307984 -0.19900145037254141078 -0.56936696739608405604 -1.8824965286691131006 0.15080976993583281032 1.2104189404698457722 0.24506741650244365238 1.1695128136465171576 -0.13813348304290695712 -0.45968489753805025222];

% Layer 2
b2 = [-1.9377504042271600504;-1.450018529607279838;-2.0631770608184196725];
LW2_1 = [0.020105742391688725956 -0.068594488503866596352 -0.0052193834631644626942 0.010533182423432379746 -0.03139534036406597256 0.014323678506396580329 -0.0016842450578684459422 -0.064876552672701134905 0.01368086658812970452 0.010109426141187987866 -3.4211055527318361413 0.047936808048461239384 -3.1212800877148980661 0.039686722395254059315 0.032987900333453133717 0.0039017405120501049039 -3.0433885330658374535 -2.1293672925305404675 0.046121141538083401668 0.023630311449104126481 0.0010305045159181044738 0.011618443864984831157 -0.19023837012921265832 3.8014365764851367757 -0.001977533355487321072 0.17801331115894161727 0.009709178003056503567 -0.0059870269896079653452 -0.29698495454326545584 0.11916339704385289777;0.057174189795750056386 3.2897314521350784489 -0.053599250629179473471 1.4544328065753404644 -0.16625552936955215189 -0.80562651840049015473 0.0010840057918678437307 3.0227567154909662506 -0.14478870490204617805 -0.093558851795690498032 0.7942679457078043459 -2.5060877819036253555 -0.46883985170302650003 -2.9133352515649462156 -0.44720844452050001472 0.0068586176480950169013 2.1720467423507869853 -1.8039523126607317494 0.92720031138403047333 0.025963076356018230384 -0.58879629835510927105 -0.65614028268483226558 2.2855537153598799449 -0.51894326227516407446 0.0479279575285771961 -1.9846086905303790271 -0.048180145684843432574 -0.077975578594255995357 4.1064639133469666987 2.5102225630612786667;3.3824694476803789378 0.57452730200273594008 -2.4919448442731462201 -8.1633943936232551408 -4.2985458471396009728 0.18684575444601173033 -0.66418295565763707522 -0.045421826422503273901 -4.032600571346069529 -7.3372454913908446983 1.5841100404594647966 0.086318985144648779917 0.40583001679278740692 1.647596717664709276 0.081885314073875919982 0.49195251827552644031 -0.25704775369166388277 -0.28499221556975956604 0.20939138226985321012 3.1528840479309487854 -0.04375355500341300552 0.0075803172351706646706 -1.5361173505325957933 -0.48017235347756970221 3.547140169885312222 1.4807225087610114134 -3.364065317432773039 -3.6950096427640235497 -2.4996475390910406489 -0.86270625522780097771];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
