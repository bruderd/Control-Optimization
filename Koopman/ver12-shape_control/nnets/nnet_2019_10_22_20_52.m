function [Y,Xf,Af] = nnet_2019_10_22_20_52(X,~,~)
%NNET_2019_10_22_20_52 neural network simulation function.
%
% Auto-generated by MATLAB, 22-Oct-2019 20:52:28.
% 
% [Y] = nnet_2019_10_22_20_52(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 22xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.68923562185917;-2.55976352764815;-1.66744595493019;-1.41306720234763;-1.72853430470702;-1.68470124822749;-1.54419012603737;-1.19832180182087;-0.920880750180581;-1.33378768429983;-0.903705148758009;-0.769375356764508;-0.921590452260902;-0.517525552348087;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.444678794681692;0.407242452141652;0.618934520080224;0.719788700875025;0.575604345071666;0.566071618910878;0.7594132340494;0.84999063747477;0.721977894496726;0.767034792829403;0.984427608258322;1.50655381729089;1.08895222470763;2.05283111042465;1;1;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.58867601692364790456;-0.897312464623820083;-1.1044790385000011756;-0.62392708141627295504;0.99256274351713202897;0.87474855271800955325;0.64167892995275022106;-0.84601680428401060396;0.99817433335163086028;-1.0060058792184727317;0.0094932787076447699981;0.70517516845455174845;0.45279651163968076544;-1.4112158339872964419;0.42113284947581819395;0.52738829837467293693;-0.55882995109710453807;0.40674199968391316906;2.3320518146942412763;0.4333648962329939569;0.70638688194410481636;0.60052520211048365795;-2.0177832678053313487;0.87503694616510985238;1.3563005151065141707;3.1657782884903347131;-0.87735221228957971373;-2.1956845817451093872;1.5595215758045608556;1.7503590933970820664];
IW1_1 = [-0.0041119905036382017188 -0.12454052572907105267 -0.04142799705679754696 -0.08769766955579380574 -0.016518874867267989426 -0.085698131576816327648 -0.12459539970216831906 -0.26134494559712595496 0.14410045982006741694 -0.081596276674848075561 -0.05877629640478385098 0.028303918871458232792 -0.050217120391165256943 0.033714622040844077766 0.53191908443591495725 -0.24720084214099008468 -0.52844960591003442563 0.31822033285743051012 -0.62612465130911920674 0.28883771913707634305 -0.058559776580180578076 0.031580986019703119472;0.19175524676688407433 0.055215145570298572453 0.23348772045611579373 0.039669610781632211327 0.21063258208196825039 -0.016772417637937544338 0.16923576800128875552 0.05254687633193861479 0.092953062343797632217 0.12122547459427379657 0.10878461983415883829 -0.040123859111319833126 0.13829998882586364006 0.0086544251345300488715 -0.2359922447435016668 -0.1155563233875847029 0.45058939260514918601 0.43764867700417015017 0.11896890216812477936 -0.23242091906474535157 0.52067337678220915187 0.075099696504982868528;0.045777384328421960591 0.0090925873762523808791 0.097371051964667540424 0.11076051260918293173 0.16246036900404989267 0.081913746330278522367 0.027342232443632274314 -0.01533111139602411771 0.17198673654646265407 -0.081908096358535881221 -0.096354613924494625365 0.22412629655014185137 0.022285798788502505369 -0.089969483038382605522 0.81212031458054523281 0.050191204211730164331 -0.33575886306269842052 0.22183402630905277308 -0.16351419538431774536 -0.48835586651287982152 0.05531874491090624929 0.12584073129463319018;0.26787543727757950895 0.042304702460134013808 -0.20208571066167327346 -0.01365534310879452061 -0.10774162699740311155 0.13923536539444014704 -0.22632741650184945437 -0.061819431989116227499 0.25151314898768883932 -0.040647968734751155351 0.19126623165146772187 -0.35880234250549009056 0.052066027809956838546 0.34353059739122510097 0.4753840396281616143 -0.46041893120827942498 -0.25274843347907860469 0.16629052075681458045 -0.52550107838942194949 0.53269512041507371958 0.16015408213520879177 -0.21081203697409861553;0.2587687951700171074 -0.059641875077699156582 -0.42166881704036451861 -0.14564325927878274403 -0.38283418204361879811 -0.1252859398791145995 0.006779276289664600344 0.082326558662630333618 -0.41909755313490648643 0.43292682410862820541 0.35187033238441606242 -0.1530588098323574231 0.026196574278346821535 0.2096421855009638624 -0.94043110316947919891 -0.077454258707474799017 0.42140828952988768075 0.084935070949686788944 0.21586215137063971548 0.14152462050906824964 -0.070893677362554044508 0.0037067665098000600332;-0.0038606224580623018164 0.46723492208199440823 -0.42207672304971838306 0.17192974163886076688 0.13817267450966341791 0.50871233634189971795 -0.054037304358778445734 0.22615501789257888565 -0.3494638354542762837 -0.13383550509184416466 -0.18721430726691648538 -0.13802724234587948615 -0.076893778390358019648 0.2628138262119488755 -1.1734906429244129633 -1.0978520498819168694 1.4314207252895772005 1.4479346810091748843 1.3683008389076922739 0.9953333209150101446 0.58889588948952109604 0.65111383213944507009;-0.32890025619504803522 -0.001578630552041659918 0.030146955806341770717 0.078414488624960879126 0.4940928120737577145 -0.99232493173633684602 -0.14931883908206841638 -0.1368724750816677771 0.41638461013726818516 -0.20223946312943691384 -0.13648568250538001267 -0.13372097504951269142 0.29167538641992180048 0.11341964963301258418 0.81206239691725246033 -1.0393057399201508506 -1.3541085505423133828 1.816080908864749599 -0.65355295250638356652 0.91027583646283261043 -0.89779800863508485431 0.62527791952741818005;-0.3105136327530573781 -0.14034362566975325248 0.33853137264634475256 -0.24447845888430816408 0.17211345677663361653 0.096315542708371185143 -0.087989540739926083712 0.12076164923047195965 0.18586263567216243509 -0.54068518730403158923 -0.24971863156841930809 -0.16215945785320412531 -0.010042551640042812408 -0.14055088820428346397 -0.2682412556207932619 -0.39063663805136494833 0.09923219218124632035 -0.22076146575650051895 -0.27120998980131927336 0.14776475129337604542 0.084442463683926952123 -0.045814436413497500178;0.071884122662481689248 -0.088502745143666627925 0.063033160962478657074 0.086835074705079048907 0.087560975299011148398 -0.085212182767692809526 -0.017259483563126783862 -0.062356308281297428975 0.052870901721791360717 -0.16341147125027280507 -0.013656768168005680233 0.030208267610630421679 -0.1342608197780148227 -0.0045780606659195383773 0.63355136617321461401 0.18601466190893614638 -0.70091377414328781548 -0.39369880261084105877 -0.84376627499652878672 0.059424821415005955882 0.25273912452795915806 0.26098210307295161003;-0.80656716795990845981 0.40920919640363850878 0.73507114207111667881 0.36304810975036111431 0.29698634066554280286 0.28135920341184778026 -0.2532173499777516934 -0.098656396485488184744 0.82609724019753705271 -0.62506144644683725442 -0.6719447501659612243 -0.50375212930269885891 0.027181206441288623121 0.22267797884980519707 -0.2591453363802830312 0.10807526023842553564 1.54442424420327451 -1.6960463229542084296 0.8672463105905842129 -1.3715921334361202977 -0.34813713780864524727 0.46984873468794075002;-0.23121818010445013836 -0.17447143554282956712 0.41111614135470225806 -0.028503846200180732451 0.20596686620607967955 -0.17530737423626555072 -0.14599705086015540845 0.22969409853962260981 0.07091898390128413554 -0.6177570855704672681 -0.13700787815491605182 -0.13368725101907741326 -0.062032764419318833782 0.078756616624612835187 -0.50538944361774174041 0.161146521586378072 -0.006367940710512036244 -1.2279921530550170772 -0.30439088300641559126 -0.37400146528986666361 0.070982451664342832709 0.15572280840123217671;0.018880668871468542919 -0.019050714825220110837 -0.21167520432014519383 0.82904376983086591757 -0.15067031190559201925 -0.15437821035578891404 -0.068428957295817771644 0.87836305535002268119 -0.39037493313975374365 -0.030700770791960926148 0.15972840066196908326 -0.0058018598587292486563 0.17578190295588977388 0.017217510433312984558 0.11286733349308594732 -0.53541761968913925696 -0.026410555231708782858 0.035148233854420701805 -0.078166545112767465975 -0.4113970776830925824 0.0036835183519936371375 0.16797298234967800168;-0.19777758049955423969 -0.18257368796123585319 0.21600797636803267809 -0.53662875887352579074 0.026042390826246694657 -0.060459862691562421544 0.19578749069959183737 -0.38371450042375498946 -0.097840858400852173671 0.072307537291459389461 -0.1044745685375446792 0.12641309405053741122 -0.16431910419458106709 -0.15475396908200020341 -0.38911833613920948638 0.32053223343798786793 0.080201553153337823421 -0.26166523806079899916 -0.0965606373350622188 -0.76019688729004952776 0.039677261373286823454 0.27904766004015718606;-1.1549078697618155864 1.6699898879696244425 1.1645140687850061845 2.1430118038908969602 0.75762205290687911763 0.224774401984465938 -0.48300717130743425765 0.064149763580304608457 1.6930341283655743201 -1.1029896029106291966 -1.0057325045693641385 -1.2425870309412072601 0.27083142436350937654 0.22147917224511431966 -0.53668787141318674561 0.46859986210290349717 0.40877502069437321452 -3.8448054463175669326 0.49330916123819262831 -1.7365939544351391977 -0.21698378901071679881 0.53046748995039383345;-0.14098389344968256798 0.27126358542667511342 0.093849129844648368493 -0.10829235871050452156 0.060625203354871502748 0.041952186475576400126 -0.094745503954295026694 -0.11789751503635492735 0.10586415008491298351 -0.051952679789327382842 -0.057674016207425925218 -0.024089502652400947985 -0.00668849432000373674 -0.0078439959592163533558 0.46779091890555984934 -0.66791311924804797062 -0.32765395639307315356 1.2858980490071421077 -0.66187203763926671929 0.13169248835899571848 0.10119051626665694077 -0.21410774235865889792;0.40246917933723380667 -0.23020444940417852941 -0.26363200873882719488 -0.46097021960792011752 -0.061762930828668766159 -0.020635639941536339237 0.19634197210709244952 -0.10352986397242971983 -0.4913085383848297405 0.33788832670288992954 0.23559947401697661773 0.47195136754550803815 -0.12187455713342298935 -0.28356166903039953242 -0.19181740632751595466 -0.32659029058496241715 -0.54131135603272351187 0.97452178388929233677 -0.39043722066591229902 0.96628877249477462819 0.15255963394299237867 -0.33739656771794607204;0.16832192573211510189 -0.11484958709801820764 0.069807438245956240919 -0.065484736703742649211 -0.40877202545996677019 1.0391195287701424643 -0.033293191889414444629 0.14629062049780022781 -0.36106315456470639003 0.15553646108012708638 0.24180456204208117255 0.10326792202703218015 -0.33284559462577645306 -0.16977223283067535697 -0.52036401414113342412 1.1706159483030540436 0.76635345343209770874 -1.7791745464821042688 0.7120349940649186582 -1.1912083896587173371 0.84961714670366039748 -0.36893021185802071793;0.41040474738924209719 -0.32890379885553688855 -0.36576892608088756864 -0.77094784253489156978 -0.25365639082664775961 -0.0044069906735634571324 0.28594970532241942296 -0.2872302992646114661 -0.74644513174937132671 0.57312868644574876953 0.19742770484368044048 0.43434946418902276033 -0.26963380842251560843 -0.41589478434662330297 -0.43182385537488771066 -0.47980880478622817131 -0.65544014317016408011 1.0917089973998279628 -0.020856077609220338015 0.88846439701633372898 0.02112928868780955885 -0.30154620878583110466;-1.7284840002968813177 -4.7717309510424872343 -0.28517861812016070955 -3.7018671665310618479 -2.3479732416647327575 -0.3200528221034246168 0.84846982754166322405 2.1432797948664124021 -4.2633067990099418054 1.6445415351002035109 0.72095256412198505114 1.0350912871052093678 0.81763821777725653739 -1.1381381135364165846 -1.7461551735254827733 -0.16490966341883150914 2.5345588856056950888 6.0728782652203250336 1.5959658987592040269 3.5381043121553883424 -0.46592409053545036368 -1.1376355312278878529;-0.1971940214880729958 0.25749266310816992798 -0.3894400347327200973 1.3702009268586234914 -0.40911807433367852749 0.054438647598778248937 -0.11707558119837815913 0.99815468794550732401 -0.26871108465287363298 0.045435059167494351584 -0.13952806456993940842 -0.52474154536740702515 0.091863031535983907805 -0.066384199260092049966 -0.059789540466374566097 0.69483050092926357255 1.8075713045470598317 -0.597652885427216507 1.3443163361084355945 0.16775654402643452867 -0.45543867161121742715 -0.05210897360376239712;-0.44816542852176782796 -0.05125449035103469414 0.087833265456606357535 0.081022419500583170437 0.53727853297997729687 -0.99032757169858698365 -0.27006069243222319276 -0.14299590063624473268 0.46589619665263476422 -0.27784631017860861313 -0.1210162460457190059 -0.16427905768801251418 0.2628182052567780147 0.095096975734855385132 1.1122816713180982973 -0.95040077459244953761 -1.523447946180427337 1.8496759951401895439 -1.2891351379536548638 0.73632098103914045417 -0.68159807700260122143 0.88073132480546179046;-0.32708853966971074279 -0.19399724020370862076 -0.093081440325979508676 -0.059555100032066397853 -0.11056274547098113303 -0.41294042497375216261 -0.41473989754702622612 -0.32210621237340969492 -0.047954094425412902014 -0.3375455123399246915 -0.17648192255488651115 -0.066566507584976078449 -0.41577912630074992384 -0.03178872963241926447 1.1775430765386345477 0.1644457121430389912 -1.6644575870927733607 -0.17179524544953408971 -1.1442213205725744185 -0.16166971313612146788 -0.53622446826465353098 0.63027908154332223933;0.67463295648358567735 -0.11127561398292253048 -0.095293743461359589619 -1.6053982053107995753 -0.047694991862378618985 0.31013886891780595434 0.0084632907417639159642 -1.2719282874500073 0.45910139186499687725 0.2141049314982029772 -0.007922625158880099161 -0.079650330435058799838 -0.18081159562226073456 0.28098409388568107437 -0.091003744051544765981 0.81736117361267390802 -0.34351293925427911491 -0.98912485954697182411 -0.85089962946183528292 -0.67403356060333652344 0.28833525224736034076 0.25423904638208660867;-0.8089741284573054303 -0.39713098654622303041 0.70776736270899875958 -1.5464459284283014195 0.14911046826872470517 0.16941020593952688111 0.33420422595330495641 -1.3596152630754840818 -0.045673886615740087735 0.20043101921697442647 -0.41177242198894681291 0.33432282255974943297 -0.33014481432377623671 -0.47998894715639672803 0.54553394628460760707 -0.38833932764590739506 -2.2475353953673100627 -0.63877466320311981907 -1.5860120924607870041 -0.64284991609116082234 0.55179515869741901923 0.29265630119849839197;-0.34784575451607196994 -0.054358568414819355419 0.13804993243323665508 -0.64268252489649158044 -0.16492420163781260078 -0.00073119260952225328259 0.084873248781697760434 -0.49052392289487950494 -0.13766782309285804931 0.22104201961794095466 0.043883295350105079591 -0.12246507786267614437 -0.12556803833041266238 0.031812457037587150988 -0.75042624506809718632 0.13318814605681589258 -0.44000690053288832315 -0.044019700035332690047 0.58467354670973892272 -0.32020906395690146296 -0.20275896920310626514 0.13465575911310681545;-0.8774007330161843754 0.1784905715747556465 1.0594774656098928656 0.23480758486211303349 0.81090485798204758883 -0.05846892167711301852 0.24447581550496758074 -0.37445601292394858906 0.37005414882092896312 -0.30375194116745096728 -0.52589646688340641045 0.91616421879412091034 0.025283908409800461697 -0.18623439210625988838 -1.2321224401426071893 2.3457514398974432801 0.047854131925504771183 0.063326828954607769506 -0.077329161131954621267 -0.081143859284998842707 0.064048396988032829658 -0.028625573188662406521;0.0088353658717053480676 -0.41196398819560386961 0.42456083667989297226 -0.22008486021467982274 -0.16792957508955158596 -0.47306440681053868458 0.067330915191746526505 -0.2163124543046939241 0.33666162966625906572 0.1706982259295653781 0.17713002737492483663 0.1205275442182273532 0.091119677369697685276 -0.2584067718857781526 1.2920236497219639293 1.0524292163609287876 -1.813248080287571673 -1.2727724040997787647 -1.0919887083575985365 -1.1406253317068488773 -0.63944998867813185317 -0.70055887253258841696;0.96762763460359169088 0.11115971708824234909 -0.81407901446874653129 0.65425162068159137263 -0.14877692369789052851 -0.096572394006148531975 -0.071348714587927644648 0.84961756121725706681 -0.34726863861111217924 0.26569118110978973135 0.71775680155466869969 0.35689578716435138572 0.13007752250058640664 0.33008193986288136834 0.20832210855374330705 0.50653112600693617207 -0.3828821059328342824 0.68905989619313334771 0.1439450282293925909 0.18505211492277331975 -0.051305692060454155534 -0.1121944347888931548;-0.084010935601497749303 -0.24269621550153674949 -0.018618378857060920162 0.18235906021025960477 0.012607658835300836198 -0.23014025172231625249 0.026860804698954993119 0.049859083283161929889 0.0035912521415004429459 -0.018658137115611282686 -0.066633972536705707301 -0.087972791250066448288 0.059959781552250547565 0.0075855933443490387164 -0.63499544198470359024 -0.2639984793620047121 1.0723380944897253908 0.2381646400333977398 0.15422517756577278081 0.43916748875583461187 -0.065927685881493391928 0.38579840074057886179;-0.1140257058377149163 -0.038654914822415259446 0.055684652268557566224 -0.10071077943689234202 0.043260078616203422042 -0.03400681890681298003 -0.10635721752165284981 -0.29358267201778232014 0.055102376633406252582 -0.34022760049839084751 -0.058863985260127087151 0.0042489037460744791611 -0.3123408483495748178 0.0024853032178234388781 1.1952025271820274632 0.075427835530996870106 -1.368829332951571498 -0.47378062548816324284 -1.4040815739380780869 0.5755649840757999236 0.070084329969421682582 0.070688385154421648493];

% Layer 2
b2 = [1.189168803606762248;-7.2435615169512335143;-7.2743233084812821687];
LW2_1 = [-0.046074954325763819996 0.060387759522095463272 -5.6756040409967161153 0.29987661743581683904 -3.5233496617883064417 0.016615005952064870048 0.13645389603626961739 -2.2632380183127009943 -0.061298195403617763977 0.012653209247396534146 -0.1405468693358683796 1.1053224905595153693 0.99922108205689352811 -0.023686741218687641652 0.099363801285501915372 0.060104861158195375948 0.08635288581734426594 -0.045650604904566037534 0.0001067021189454771344 0.010853605550565609272 -0.055084187632495555664 0.0094994756273604624708 -0.12282520064069381294 0.032703883421098207951 -1.6869607457999387101 -3.1804402696069149492 0.011442153167980008421 1.2087789313802235203 0.039336283084342914262 0.041385633743888414204;-0.20137170733480055929 -0.20992450904425760672 7.6565728724531725291 -3.3214737663254005895 0.42708721929674031692 0.13838741716829949802 0.018472357396377758754 -0.22826431953803225094 0.46883255906883841702 -1.3504662823344033562 1.848188885751052446 -1.7533388148881963176 -6.4083986337639267106 -0.67322996464300743913 -0.15808197341442811745 -6.1000111565661034874 -0.002182745272613055218 3.9250137033499998829 -0.3065647139791747855 -1.0486469211645090827 -0.024015910694143386556 -0.050519224779671620396 -3.4904735863122162698 -0.79050216570584019848 9.4443703248771857517 -0.16877559792031615604 0.13450241300642093445 -4.3691792640674185222 0.064697378226755503094 -0.3020847950418679706;-8.395005930183089049 -6.9550691429132793786 3.6023913114600367713 4.1270625795273501168 2.3515243755401016301 -6.4030005355082550977 9.1573114572503708786 0.77571570482579299544 10.958116048849975144 0.01820793683823742834 -0.5117118478441111673 -0.80284021801109817229 4.660105086662550633 -0.0014095852286098325447 4.956764649567686476 1.1185418126082389279 4.0504019218678628533 -1.0481900103982777495 0.0092295962900394191986 -0.11697696516081916573 -5.3216961008649352749 -1.5083202453760877759 0.62030495569791288535 -0.039818876411032613771 -4.470335825859239165 -0.14970912685036077971 -6.0255575132544541006 3.1976169717366667022 7.5026755109978724434 -7.5345050814508738313];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
