function [Y,Xf,Af] = nnet_2019_10_22_21_26(X,~,~)
%NNET_2019_10_22_21_26 neural network simulation function.
%
% Auto-generated by MATLAB, 22-Oct-2019 21:26:26.
% 
% [Y] = nnet_2019_10_22_21_26(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 18xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3.92559892912718;-4.4638670785541;-2.66183952264508;-2.87197552847501;-2.34832742720201;-2.037394515476;-1.31367268020416;-2.48551064800615;-1.55684247852656;-1.16711653272531;-1.15629538166166;-0.972602443512307;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.237127485492394;0.227140146345102;0.378116969057897;0.3605935523604;0.399232123289702;0.490398085359721;0.763643543210266;0.513144472766652;0.588164813198629;0.758761295409312;0.858994069190495;0.952573641781837;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.99585451377324241129;1.1525535981451628942;-2.4011897058084619161;0.52213113547807976644;0.48295623792300956811;-0.7926689847136054734;0.74917840663260693024;-0.44401649271165483102;1.0104989332579217276;0.81990008857819418608;-0.25727383546934867731;0.45520203790625418661;-0.56210463986430325711;-0.44914052249480290735;-0.20469443021861682963;-0.23345610632116520211;0.1341807800216056612;-1.0531260983149308696;0.54681264145710073432;0.020259681007993395746;-0.24561776422584546964;1.2468692576516151593;0.68033659662196666051;-0.9757152507366710914;1.675704525788344057;0.99776450510963998752;-1.8072429982722628683;-1.553766579314121099;0.63711746450732575919;1.564740948658325026];
IW1_1 = [-0.37752297515158561581 1.4212197225275651213 0.38453085133453712707 0.10325713276681108832 0.85142091604580372177 -0.16895740218395144394 -0.14162116797678228619 -0.14799041982509644755 -0.12922547046600871279 -0.20855111657421801508 -0.0094583536064063271354 0.062257538177456883677 0.21317191354647019308 0.35012804841126154987 0.19791637418451513142 -0.19454937680563355595 0.82122515608328183756 0.32798378635516645119;0.51613189144952764664 -0.84753034713161889968 -0.53179954209592172898 -0.11058939962706178239 0.43904174275092772151 -0.096388362364709767593 -0.16167219880650049446 0.39360951892283868592 0.10885480867331434607 -0.3153701302895228209 0.12913832252155243996 -0.28916292171083018969 -0.43293335356425211025 -0.30397265734736972354 0.44580240379898555814 0.6847922151370535726 -0.39189329360208879915 0.54967278979349487589;-0.62055666269710219041 0.51584849887478201325 0.062638025834656205215 -0.017290427299468252853 -1.2950284101299964767 -0.44666614323099185224 0.25747081985339154153 0.69897069515581944366 -0.028884894113210081434 -0.030484023698054987794 0.55584098395691783345 0.63568528992843609249 -0.51710742769667827901 0.39654066085533651309 -0.79543102896847794891 0.25258057565017777435 -0.72933821747841776073 0.13222105729535676977;-0.42510285928447610893 0.43792031324973096362 0.17316557920068589849 -0.066000796369391531715 -0.61096222284877654829 0.10153986935062322972 -0.17258040000592639318 -0.77376961289306145364 0.087915024090567936432 0.083986228534665849366 0.29042095883854157634 0.42856331563855482036 0.2272447114920456146 -0.15283269577205310652 -0.66134112693958235774 -0.57055956478024527634 0.60587195885903766257 0.35775215985820968401;-0.32721230943472373598 0.10468439204364587969 -0.09634212611292214401 1.0500674396684339662 -0.011256751763838737657 -0.33889595325562982264 -0.4866701248067476504 -0.038349741033359655007 -0.12874506584450709501 -0.33911079959505796566 -0.25405470947251163061 0.040256855251223938597 -0.65435937418260836651 0.1104834983265283177 -0.5079520800113752621 0.13319160053606132754 0.4244618645224370046 0.15280499581271972387;0.095108492904737329532 0.74542092762439593479 -0.20508572860867307908 1.1802184276741707336 0.34183265111172295159 0.92107754965369814659 0.21807633295531250739 0.20672969377120689605 -0.37448091098118913012 0.88228675826677782634 0.62545639774587713511 0.34226576631610095003 -0.44743828206869229458 0.62661317575752106812 -0.4365933024006042884 -0.0094730208256553136148 0.010198026600076379872 -0.17842645236383639085;-0.86425610140035424855 -0.05776443193966009082 -0.45048333937912321545 -0.53274028866035627594 -0.56390766463067210079 0.14468235050109190531 0.35151131322635831289 -0.91486583862974368841 0.43388089497148424334 -0.1738420937906360042 0.65681935224131082762 0.97227605473867406705 -0.14122334009331305449 -0.89240139903696502621 0.41562496660439823826 0.29496261120113492771 -0.28002875685788652937 -0.39519552295152149402;-0.65389126625862026287 0.64591208894897067516 0.057187781274265228615 -0.27443744356167659726 -0.51562213265497025549 0.63204158710956059863 -0.3858298669869614228 -0.55369859492821171809 -0.13821630176184884764 -0.10208539810114848623 -0.11022210445857628935 -0.011926596204602474965 -0.15753359813523001853 -1.0014269686566708017 0.33365827600665598496 0.18322912725306905735 -0.21602975283518882632 0.052950698488172180667;-0.079979116202707770111 1.0030456473621827129 0.50153218702167912113 0.45901108113132427224 -0.099492062410912879278 0.65203992039623748234 -0.0012930821546965048235 0.50606825933756061087 0.061833444726536748726 0.44462148815268315305 -0.12074438752237649786 0.16001278944752483913 0.74515795422504216283 0.23062481952830285459 0.56046078653861231 -0.73389397353907037669 -0.27450677456080274652 0.49920285155537186261;0.18782968884020906364 1.076560948229787984 -0.67610064081071119535 0.2605207927957890468 0.23212558136473282477 0.079894968993278317471 0.40472844674876962134 -0.14544569917466518283 -0.5112733962609209426 0.2135292318949837953 0.3293550426114694174 0.31182822020787176465 -0.7289700220544129694 0.37500128938349275298 -0.41611957830043255768 0.83155263414684132961 0.30320930643077115274 -0.046397341195614429099;-0.28252508264105030689 0.34021485067149714876 0.47470288578460856366 -0.32272075067379696334 -0.42775730826828933795 0.61044340368016070109 -0.39135684048416680136 -0.95963141152691555646 -0.50027854128609050566 0.54266093207121413045 0.23181270474344023436 -0.43152457441997044141 0.36506175610834706857 0.18358595233866839558 0.18586172338353357247 -0.47050202687134723423 -0.45900630957060178927 0.044691912673314404536;-0.89936996560902504605 -0.45454488235008710939 0.065913814114689772694 -0.63685170310983341135 0.33530601672043475192 -0.36483448531138418236 0.048805880880622175277 -0.39737087920310687483 0.50444599365966991122 -0.48925231627788323685 -0.13307171956350741238 0.68824179794386697306 0.49626813831190830228 -0.29552780132852107808 -0.054233725254519318804 -0.17281966265161638474 0.10354973524158349318 0.3285706580587605119;0.94893607975400295906 -0.72972500468086076708 -0.24419993071624038206 0.3963759766304925658 -0.37390075318293841677 0.35531940866132288859 0.1198181644391970585 -0.16474710976792369954 0.39955714731078612045 -0.12303420055427713442 0.093435336514463257496 -0.047452714666192045978 -0.26191621088816541274 -0.039433426224220885503 0.50523014233078122892 0.50028941209420152436 -0.62737675776744639133 0.57897082762713802939;-0.10031587092414080697 -0.78162211829957362053 -0.26182858363688721326 -0.26045554075140714412 0.25155972706794149651 -0.0021544482739840470353 -0.072886359085770943689 0.47892702018038624256 0.55074575969288830368 -0.085923231900564001062 -0.26273167902874994262 0.47045198173162289246 -0.86738103459650894855 0.075012071502364538467 0.39199509071852295383 0.22203316124238822726 -0.36119500567043855144 -0.4321811770154112553;0.41706964499497167775 -0.23228814031252531525 -0.351609917132728933 -0.39656371542995438872 -0.16655027670951710883 1.1998211452711751157 -0.010696623635995590115 0.229608313094595895 1.4338528591182342353 -0.98469624037236402891 -0.37509242778898349568 -0.86634805380309709566 -0.83015701455057755442 -1.0023082663334925702 -0.23063754107808034921 -0.43533226478132791559 0.41022204867565303932 -0.6095014246110915801;0.066357130874803119114 0.66409775136969206866 0.0087366673105254560872 0.27800521254116222769 0.061198270412798703999 -0.46399306834250914067 -0.33237624810045163226 0.47551965164078635606 -0.59219197640126497451 0.079518106487754508516 0.022063866346966765769 0.55691814819973017858 0.31058241689489496373 -0.1807839979690022969 -0.41765680952478601018 0.16328428129189012652 0.68352547983366374051 0.38632661628558462308;0.11897886092530114699 -0.67929755781155787275 -0.031846699192761410147 -0.24780446320355997702 0.093459559967519978407 0.24465821918417965386 0.12728140691949155205 -0.35143723099225943063 0.38048985966149390103 -0.66579165287534669559 0.21014686116676795091 0.070143974921774848719 -0.24514556845020049614 0.11937880309983085747 -0.55864556523193886761 0.5047359791816354857 -0.38394693362060583475 -0.48638752487054692786;0.14804740696120313737 -0.28976760912894183875 -1.0165241761316168301 0.61934643793475763207 -0.81558369547435993763 0.73820476123366829402 0.15195787743020247595 -1.0285160920904654613 -0.022037542346084112999 0.26729056158810021726 0.55448005387666787769 1.2173932941631731008 0.81023876878336176244 0.76976328478816447021 0.36484863939131495503 0.80296325281233948967 0.22374822385859996499 0.4956013093273343717;0.59254549244925514007 -0.89885687182530105144 -0.27068683484544991957 0.34267360220372911073 0.92817119990949337183 -0.75228818806885189296 0.3414071855726514837 0.041842234376670991991 -0.99859303750979366843 -0.67774701951498839136 0.040366742666248220384 -0.10214522268107999181 0.022379307452209028229 0.69548301594689565519 -0.754336893987885726 -0.52326111982469603046 -0.28245616347434043814 0.015198235261201094651;-0.18322339043122176649 0.31945870892309052858 -0.17082340955332223076 -0.45017886007344759536 0.75515891040280691549 -1.3030612417246547619 0.39708985080448866434 0.082819450117378110021 -0.52214321783177608527 -0.75620752921841771776 -0.37799382087411492748 -0.40074508639805278554 0.21717040776943224989 -0.24224608689446350263 -0.27303172234464784252 0.24313690720744518536 0.054240147541196236103 -0.15960821033879390995;1.7946751675207368582 0.12861970669184283333 0.65833642769182654231 -0.36505059348336132974 0.17713367170890145785 1.6504073617551555664 0.57697243019722710411 0.46540321763627240381 -0.32553757765728574824 -1.104472019829493501 -0.012517552574267495902 -0.43105325647190118055 1.1720724841500833602 -0.004209177488126037564 -0.025000253275390418861 0.63536612907202649758 -0.70747162149656939167 0.52442513560556058838;0.64527064625994912106 0.44263510605361811034 0.10074905796863910246 0.96429111816733836804 -0.19483464582833470713 0.57909119138319242737 -0.1826803232474226435 0.0021868516040203511697 0.38823540510382220647 -0.0069560084266967791081 -0.44815674076049477614 0.25727520729649488995 -0.077835392012734150313 -0.088340761831526032344 0.41233895072209791888 -0.45177053517106985359 0.53859396879299858973 0.50137769680843269349;0.96952622022741585806 0.27293724203948116491 0.39966259009067595098 0.12951094194614365396 0.57747394099977145121 0.36497154468181364217 1.0086676314561904277 0.7093487878629072263 -0.35431101801514836014 -0.39396730477016339567 0.70396469025392227614 -0.64881613859820441714 0.14334720123018776516 0.85203338998746536159 0.24400282008731127847 0.029917617130027461536 -0.41781527974161741801 -0.1783594928069904828;-0.72313377009846102617 -0.99172186075332136035 -0.035810592473227528809 -0.027526334031109388895 -1.511251758088506536 -0.63518608664900089167 0.35157064956457773075 0.44301221742518887003 -0.84456121727622501805 0.45167036869568366608 0.30025504227740174024 -0.82789500473415489346 0.30409201677354347204 -0.40734636829870357611 -0.31808696482294918084 -0.29419556297422849722 -0.46613469100584203897 -0.48479612432432894753;0.33853146945958623171 0.037198698602653665346 0.0030232162828783618047 -0.75391238758590239932 -0.24847228179418051619 -0.38308303427064427371 0.10248538595405201623 -0.022674058742600911726 -0.72198075667508365694 -0.28084890252498140306 -0.18596626977651709023 0.458186211399452481 -0.022821725949901949804 -0.48568828017639431582 -0.29841144656417623038 -0.052396609787151965376 -0.34743756874394626788 0.98792337749337422181;-0.00063889538665283865382 1.2304622625041343742 -0.061169336563898113468 0.30888234833748146047 0.83716062866205886994 -0.08237040216737526177 0.34987692435672629321 0.40536769916851816964 -0.74245576534406421132 -0.63009260334792704938 0.29164690037444457316 -0.6442139518881511151 0.88261655433592478559 0.25202260112012314641 0.32591103721338965382 0.11015047947182612931 0.38051963828668117218 -0.36139784879374448057;-1.0930380709519353921 0.26591822367839257346 0.1173488598862962029 -0.55047220926597018043 0.23220546785020299008 1.2764337724507486271 0.55854359723381719061 -0.0084557886698745435283 0.16279713045923052683 0.50824826949973411772 -0.40922024904457215966 0.29675926322611634323 0.031560337639986141278 -0.19197054003895774876 0.49363655005289408528 -0.20919172996608015325 0.056776639663791421409 -1.0725636381485563753;0.032969256504817301412 -0.11779636398273812814 0.10612491961391766482 0.98040702239189991829 -0.98731743159435048085 0.29033160996941326237 -0.33126803069124965972 0.31262150226732149383 -0.26050208261435914281 -0.45811559948108993012 -0.044814918693350358492 -0.174104025090164094 -1.0052025770436077146 -0.014903033223569358764 -0.87570633221360738574 0.27287232514396486671 0.28990072167547087378 0.2532783025841154334;-1.1366626777454027497 -0.53482993577727000467 -0.17765406895369229012 -0.17969317351025193563 0.23885927541062684787 -0.24950282898222961303 -0.063125859302105208348 -0.16640831747398976415 0.64312465226550252773 0.03530748015057927347 0.072697489785076022106 -0.27219721875368574349 -0.64948691758714005573 -0.21467344674322849651 0.38739435735177324416 -0.46169547943826644287 0.20230826156518572079 -0.70921597858181262275;0.092008184845448953704 1.0983234201523695006 0.58226463803979056078 0.53363324721512306326 -0.11926984502537525679 0.11569669029866140597 -0.11688462128128958295 0.086166794494328499687 0.085071746460608471674 0.45737529615653949033 0.070761252583646502834 0.063738679187974225937 0.5054478103403703404 0.39532706433223763209 0.63645554964122741382 -0.082875012296040578841 0.34483066496457376315 0.14366119348239550502];

% Layer 2
b2 = [-0.02345935885540879895;1.3361425441785077517];
LW2_1 = [0.17998693287240921657 0.55712570162426733322 0.45262476099524195927 2.5745776258121897406 -0.66871456499834414089 0.63699401235189434534 -1.0227292055930827797 -1.4459728591993687985 1.4926700843925655438 1.0504916343383137178 1.0362917883384241691 0.58072006087391170315 1.1627355731483637324 1.5307311845763649227 0.32251949360854753612 0.30832521590630018737 0.27384865858293505614 -0.22566020470694342359 -0.47883619425788204182 1.1311963924038777041 0.50196144956572019691 0.92774635354189594061 -1.0383565167137385199 0.69517229204142361176 -0.62463879560607604713 1.6269870585939150143 -0.017154357441568540699 0.17314073360470977336 0.78392803378652931023 -1.522570069127617165;-1.5591033996995173894 1.2465584491368133513 0.17099234163652951568 -1.3068675563744527324 -0.0017482900296297704257 0.32843496704445901413 -0.133121422788666538 0.14146718835962132643 -1.8806604820047587712 0.10202306412323221274 0.25091639158358303163 0.6164546813583482443 -1.2882344611010740909 -1.3259041448264634599 0.12135029887482619293 1.2659120011779916304 1.1017755858558075932 -0.13147366979822508459 -0.39880185624148556389 0.0816365764232105523 0.2260776107787463296 0.83825176008680557516 -0.058288105333262174579 0.041524302143027103096 -0.91903434127851379998 -0.83321543397279107523 1.2953791797019840182 -0.49677513926900163099 -0.33375299700686267279 1.8138363036458382549];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
