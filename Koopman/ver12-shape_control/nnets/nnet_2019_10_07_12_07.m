function [Y,Xf,Af] = nnet_2019_10_07_12_07(X,~,~)
%NNET_2019_10_07_12_07 neural network simulation function.
%
% Auto-generated by MATLAB, 07-Oct-2019 12:07:41.
% 
% [Y] = nnet_2019_10_07_12_07(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 66xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.728767404600641;-0.872292215014929;-0.642878071200267;-0.603927843089609;-0.670961307098955;-0.583715872633814;-0.467176363954949;-0.426977748805233;-0.660592145548882;-0.643560691215779;-0.475763117090752;-0.199916507554626;-0.3864273978585;-0.606722242190015;-0.639073010023726;-0.372121734837164;-0.151128171618397;-0.157664884934912;-0.351128954119344;-0.607094431006636;-0.644775099525507;-0.411046749632612;-0.139979309192764;-0.102751393418649;-0.112718796238417;-0.31802048082919;-0.632089603607018;-0.68633405096738;-0.325698378790159;-0.105278979416367;-0.078526684006729;-0.0768906335974425;-0.115011550798206;-0.290629902232118;-0.625440440849211;-0.644529601344303;-0.358639129586948;-0.0998317355279081;-0.0678046977978334;-0.0482198199192155;-0.0725611640847634;-0.0708718452796285;-0.263802780228922;-0.630179196326118;-0.717097341634538;-0.28861713050034;-0.0876633924976444;-0.0498569145289831;-0.043101941235795;-0.0431444155947063;-0.0561872220758788;-0.0905575862082044;-0.241963927353638;-0.631682725467291;-0.630639960742288;-0.315303310821226;-0.072875240163155;-0.0475836318136427;-0.0320830474209873;-0.0326752471393976;-0.0308194377814645;-0.0579749224240732;-0.051785801848443;-0.229976134477974;-0.609940099303994;-5.29819383920938e-08];
x1_step1.gain = [1.23420476274805;1.20145760635768;1.63302006873455;1.54068429099603;1.49651562721127;1.65527075237079;2.00643710664971;2.02787064726035;1.44900503714097;1.61295155102008;2.16612146045271;5.04056225740699;2.41248811136856;1.42496745906849;1.56685818639373;2.46189242191889;6.29335655296559;6.56876238477014;2.74350712311332;1.38308428872975;1.5324999592506;2.58558833994266;8.11220233328933;9.51710639226218;8.22899748584706;3.17916164545299;1.32946326548077;1.472868666921;2.82703633032337;8.98124965555127;12.3918240720109;12.234857302675;9.23116844628595;3.46618496691782;1.32275716789621;1.48379917183613;2.96984451716263;10.161393820527;15.7916524836194;18.775956709411;14.306684572347;11.6633586039233;3.71985557132467;1.30404182215245;1.43972310898754;3.21041150956289;11.6091226633754;18.6529383424229;22.1589847513635;24.4035573117279;16.5041816544392;11.5644223470295;4.02648830524297;1.30031956271255;1.47669809976475;3.38466881492879;13.2468191368079;21.3408760645954;28.2966332990125;31.0451913778698;28.9596948544027;19.3178779959554;15.4146418282406;4.22102188098806;1.31012413648784;24187784.6463515];
x1_step1.ymin = -1;

% Layer 1
b1 = [3.6472389663795365955;-1.5385871332914680121;-4.9187609729594443664;4.3563631158470155214;-7.837760193396386299;-5.2139101042500577421;-1.6832843199661227107;-4.5367659989278985577;-2.9009869443522133814;-0.9212218809364220995];
IW1_1 = [-6.893324786906235957 1.9961638380115596103 11.91930393199219651 -3.4511231119187155691 0.36736160391147176796 14.678499824977624399 4.2289241568869604393 3.7866119755606471031 -8.3081207243464998413 -29.134579882730513134 -0.71255596637957641093 -4.599480182863590727 -8.1760314944039187424 0.26118058430110702162 -14.559887985353196171 9.2937099075885463151 -2.4865374693003987616 -11.961634706636655068 7.0451472778278674269 21.522255950382763956 22.791168154837862403 16.210825981252149575 -20.888325969090740131 23.922737018901251815 7.2910994404837570215 20.691863482950829223 3.7405364978501252082 -6.9947013212936699489 -20.957002764753294599 1.6773413350544443823 4.7802206359585888151 -3.3933888533063805149 14.146485588984038628 -7.6025426254864685305 -28.115140574074597879 -8.0686700969013465112 -2.2129113480757207633 42.570234182555388713 -34.98563319159470808 16.516719154954571991 -23.841064430672162189 -10.763599295189614224 -17.675210769663099342 -2.0869911478995244458 11.570975487986856933 8.2583039517743568325 1.0218551574560970074 1.6873279809631247517 0.70404717400805871819 -5.2601079314133221132 2.2239329463473573867 -3.5378862834923876513 0.38528820574035865798 13.076358221344047905 3.9869439369115182714 -8.8474629660088197625 -16.912455708984602154 15.219288985647132506 -13.611710331506282401 12.055746884344074488 -2.5295874193796579199 7.1923340567402833656 3.9354919359667288603 6.8375623916242869171 -1.5989827097243238807 -0.2233189341166607611;7.8435860001440476097 3.973184004277376502 -0.75802271304780322048 2.7605213398081627219 -11.493085930620877022 -11.214476399655801231 -4.0738079605296775298 -27.196707533770567267 -6.8071732857448665754 -20.875444346922460426 21.383996862212228507 23.811368331190543302 -19.685781199342343939 26.284646193869605213 40.74617767778640598 10.302137668514903979 -21.762442050815803185 0.19832596480912279002 43.520519639420626845 5.5194180396871157512 -8.8405409597576234404 -26.356692745810189393 23.131784530026305191 -14.305527198214296192 -30.025126148680289617 11.058132031789099869 -20.327284272614903671 -41.770184139814134028 20.503716741786494282 20.624274686960948344 -15.14019350095974481 -1.3011949603860906155 28.885243470785191278 -7.7761572686658384512 10.489752674102765795 39.535248137571329607 -25.39297629052529004 -52.077237769267561873 20.391203933714738383 19.611536185633855922 22.834382841632805849 -8.5507351778841407253 7.8026486136279178396 -13.973673255682893313 7.766041329389381076 -24.422258977538898961 -2.3458524834121559088 6.187824505210588022 -9.9514527748782075633 -17.254594586108716214 -0.39546746833522994358 -24.036188211718496177 -9.4224545283284228958 -5.2347953645177307536 -12.878294561813721231 28.798750279472621116 25.762537994550665843 -1.9347273939733553583 -0.021579218515308307147 -1.1282234496462524298 -0.35694734352804202704 -5.2159764810611957131 16.282758247384382599 -7.4196329217670031753 12.738823766556597761 -0.6824527203230195127;3.3604370585323266596 -5.1282298004311241968 -5.8389275738347770073 -0.24631711267142117339 -3.1602594879251162396 -23.017205942298261334 12.555718576088322536 -22.875458350050731582 12.920435638515535004 5.7406455058160146265 -4.0167207377888676234 0.48390196438920329847 1.3930547841945981613 2.392953253532350999 50.246599085594958467 -21.077124323177979903 35.296328915239492119 -1.0791313619310003435 33.641870273196829544 -12.174485002594089167 11.514226733599357999 23.34954254675133356 20.940724805915106543 7.4373608395639063673 9.7970175675307924479 1.2183157379321922775 7.1831738304076626633 -41.222706391523203706 21.837944807201711939 -41.334537750065003081 -6.6298215341046224935 -21.631375913887129769 -4.9776448481123951595 -19.777740245378346629 3.740088570014512559 -22.110912650297713355 -28.726388691229761463 -26.761991739062839457 -16.294560220997993838 -23.625262405832998525 -10.468577138747027888 -13.54433970832744194 -2.8967738530263122954 -14.366261493217979961 9.9568411509164533868 -9.669380119611107105 17.32333561004579181 3.5685477882221761092 10.312443303938216843 5.3692360836877890407 5.3609989784626730369 1.6636231667805387868 5.6824905183345268966 0.97466031733248126301 9.9905948719640864653 10.778830471557045101 7.8614955750530768341 8.3037304881617792773 11.309101041370972496 8.0849085070163848599 9.3321485022931334186 3.1717165900812975821 6.5409623964231817794 -0.44611053592983490601 6.0902207202436189348 0.36059068099454327783;-8.043118276467046357 2.9370954219430718268 19.473834132960881504 -8.5233329994408659758 7.7528471430533265618 -1.8284181489105255647 3.9166713416295966255 13.045872763318582699 -19.502274447078413289 -22.92036576374558976 -1.8920755553337207377 -1.0068407368540150948 5.4652589652470249248 -16.668558735892933242 3.1031439957169304478 -5.6282447742342727182 -3.2644041279233251274 -14.786297807814413829 -9.5583354465539294154 25.015007896583373537 -0.25841184273361017532 17.374738727019487072 -9.1251958265284596195 1.8228274515586402327 -4.0952352959814648514 12.686531113193582954 3.6997700106472355408 26.011363088684216649 -6.3962117686658617188 -2.7525423285145960151 20.012676004310595346 19.957446621949049614 12.065955049598050763 -18.776267743874978322 8.3024541715591535507 3.3719660388000765039 5.5813479037066695554 29.45734041260598346 11.46424066727049329 -27.126691359948740256 7.047298223996857125 5.8135725422003403651 1.758130420699489882 6.1741329359307925984 -27.257536633737164067 5.9252303195809199465 1.864836164393135709 -7.3811571684337451416 -9.9713621299496253414 -4.1631437472816452683 -11.364257906287921429 -4.1667299467459679718 20.119857234586490335 -18.957341798628888796 7.8142392479627940105 -12.232831042671131527 -18.762101737405377122 -11.41062897152200506 12.890016802875713609 -11.134771330702269765 20.458805763144450651 -10.355846032841864002 -3.3159631548694390446 -9.6380869235778501292 0.61393954272294593011 -0.84339127171366468083;-2.9717309119093577863 2.6405926982163783201 14.024743919408402704 9.5319646828672386363 -2.1607863214710358868 13.298394082903103097 23.84311009518741642 10.938604957227390457 -1.6219810442008300022 17.818502540310646509 0.11007654376404076013 -12.698842364284665507 -37.095197142137060098 12.321629912173117205 24.030143865369595346 -37.532643287359611861 34.777308380470465465 -67.608584827931466066 -1.3276268795452856875 -14.137407847498032254 -5.0979083363224937386 0.68993636087702947535 5.7516534771394338676 -17.09523264954588484 36.631327274881549272 15.621339579508994433 -2.1171774896404875754 -24.667300004329593577 4.7066928002198364922 -27.823728074338450966 49.571523530870230445 -62.489424231793492481 34.735038183211436547 31.555889693862400947 11.165939895215526434 5.9123795150960809508 -9.6282394095889642927 35.676278274567110316 2.9489076980048634091 -67.005089070615113656 54.596723546100882629 -6.1651556241236251665 -11.436077109641766825 -0.31835594640523690035 -2.6732735247402974466 0.35485796935425695242 -2.6890580927805611822 -8.8868975170199817626 36.498450617349689651 0.25976961082860028363 24.818773330532302168 10.954509373183872967 -35.846013132263280454 -5.3499724535143853288 -18.012960605184044738 -5.521470440375743749 -31.202106101905449975 9.4498580605581601333 17.91545350722162766 -21.148072280306458026 24.87701207238783141 -30.011082790988737656 -15.763163066106884003 22.303896922528910096 1.1693720271340546368 0.93272420507090947339;12.223259567871695097 3.8448852152553225636 5.0181209283812009403 -1.373061334776245257 5.7265245622120763969 -17.394507718245868944 -7.0358540204361776915 -26.151687148913072889 -23.81128265260062804 -7.5237718074736168461 21.642128860157647807 4.9272907281571578508 -27.499859783512036415 -8.3778254936563776312 2.5623613413398715899 10.599367519403831039 -0.64452074014491023135 -3.401559307799036258 23.811779073142854912 26.487974295644104217 -17.609962352331017144 -29.288709208048420152 4.9306571926907096781 -4.5893216583407152598 -6.1748050100898694836 31.789665915580428646 8.9277837518756673063 -7.039172307183291899 -6.3450014313477396399 9.6593425166475341825 -4.6784295757901386281 37.597083215229041286 4.2061952279958196854 -4.2759976815974249931 -4.0777373926431454976 2.0622764564001299092 -6.9837317572693011769 2.5688920377758228675 9.4015017741454514066 10.285740620253955413 -39.105546666701386016 21.214483096941556539 22.376332096030537855 3.1646744665366521865 10.830508064810151936 6.846184973173835786 12.936250397404219115 -9.5622300181371588934 -21.820053657171442296 9.9193169072401463637 -20.161373659547692228 -7.7928671416948542827 -0.23069313829071003141 -5.7466393933150454743 16.217649785328635659 23.129116704990888564 7.2407825903110012433 -15.368076030836407497 -5.6264109320575412809 22.069905478122123554 -17.150062534779959122 16.513732743261378744 -9.7041071277295589681 -29.335224657815693661 -3.0565355567304566264 0.021337078382894558715;-5.3787256269108514317 -8.3716031010310203442 -4.5628984809074593088 -15.161143115023003602 7.4521185625869330593 -22.820497855004301613 2.4040485056084173188 -9.7056540873597736407 17.21230326089929008 -29.752840582385701396 -2.7730953162541491785 -18.765036066548699267 38.393593159539271653 -30.418477051545444567 6.8781484897565139391 -13.57716830436503308 18.901750172826695007 34.719077478779865942 23.814018061156581041 -22.592651177269836182 -2.7964840457701951593 31.844787364639554283 21.883101922923067661 28.516703207032456646 36.023156847930017932 -18.69827464856519228 14.872689845318809887 -5.8997463931200186948 40.568280193967552805 -52.476555062788214912 -18.43948736759841367 4.5343108248505350488 -40.933502647547442166 -26.420763062028193247 26.323326851424116768 27.840875265723514786 0.93752225654901155671 -26.54509937392946739 -27.678355338060288915 -25.631475502097757158 -23.212193885301729779 -27.339195932957213842 -18.888663329609951091 17.941672634287815669 11.042837912692334612 -16.94184778005554648 34.639047391880914972 0.022988755025661666842 3.910541548969768133 6.913192044929459712 -4.5493334053115095372 16.619790221155565035 5.8014623580028743532 -12.978467868766415449 -2.9385216133713560893 -9.6142802790369543686 15.281746276510022042 4.3568221649620531011 10.853555661759980211 3.2184215401070739304 16.710883559745166593 3.8181915334031062415 4.0094709594983548584 21.761902925195574454 -13.79419248707073109 -0.55030762652638809396;7.4126466344827877109 7.9537592879997429662 -2.1742441489054873394 -23.458377912754773575 8.3006250032099728742 -15.457852651549128353 -15.802821342140628502 -11.706713730395010842 -24.722189719611730396 15.458977081340739446 46.748253696189678408 3.6165932135390939095 23.474095195468990482 -17.058004807074915732 6.7859928439280761125 16.930997188501063277 20.334610108118830851 10.158013408667457611 -6.1176316767162095545 20.515633965187738852 -27.452394329838728737 -1.6448942952236647042 18.829279083734615341 -34.383417421013540149 -2.4234651652009508993 12.343921718299226242 15.516942594176631687 -1.5029097489815252953 16.302573220449385616 -9.5042276926377873281 -24.776210967628514936 -4.3968315384194109896 9.4861778641237286536 18.449352839866932641 -4.7382755733624568606 6.0446542846637170143 -16.07074859037594905 -29.395934897388819707 0.88859717190728992886 -7.6494982518069605248 7.0568243480654677668 3.8028920844629454656 -14.818305772825763 8.0392434331414790449 3.4884790680979431698 -16.6767438071152867 5.3164923150927014817 3.8996748020236231547 -0.91420176305476053003 10.686284673493631203 1.7063041839418282564 -15.068624566313067348 -3.7470385449567085168 1.1303898035360913088 7.9500414891896138414 -0.72337350738085826052 15.262215585131329476 1.2779414053121900263 4.9181363374513464848 10.574364715173851792 -0.39558799656904741759 1.960370679389847437 0.46185678748882463829 -5.1325094059459619444 -10.785799060635065771 0.92519567170913852294;1.4896417092769402846 -5.1675345225695918927 -4.4446013869785456762 -4.1584384547271824317 -1.7873711901508597677 -21.865897344205009745 15.891030578358616765 -27.274826377899724861 12.604159845064589973 14.612708278745772716 8.3311375578812949527 5.0589680415679696424 17.441704680036220765 4.0288353114214956463 52.989165721148928867 -27.854048799327458141 44.613345253948551772 -10.724337032902935718 44.897814889253396586 -15.30810497548474558 -26.09342102035232358 0.97207573964377469444 -6.9087052337840262339 -10.105303671752142947 -0.53755783399679968326 -29.364834297823129816 0.93431307118955086999 -50.11882525711789782 28.32399783867855092 -49.216293112262995635 7.6637795357551423692 -30.374906983090660617 5.2376071673695587805 -25.35675553281068062 10.521081493973287735 21.841331852651268974 -9.530772734264374435 12.416548730925432764 -2.1973667893701107623 -0.39550200350433689644 10.436742133383214437 -1.8996658835425872525 21.745348206734174568 -5.8653075012928592713 16.616777265134345498 -12.207662676294008364 19.749592187017352529 -2.2943806577653953482 13.420900737515486512 -1.5115877734294440593 7.7274592856923582929 -0.59264343084235160397 4.0706404685244539365 -3.2953575973454047876 -5.7748087036978859032 4.7854959277588369204 -6.7989122906445329519 4.619532461273287538 -1.4804799795527350259 0.3423841222852467836 0.33966152507345681588 -3.3937129532192762404 1.1941932626428437558 -6.4414352161254111451 2.4862146674400067425 0.022622608360279652245;9.6260668141249077223 -3.6000874853486473093 -17.800756764362397178 4.5520147979378693393 -6.3062747360858599777 -18.173760107050863866 -2.2890544361276794483 -6.7070377586421834337 19.175829639148780359 37.205313789575917838 -0.59257485002421583786 14.398680245833061164 -8.5795610961823083329 6.3076959102784417865 13.607093505973299585 -2.4966128230630650897 -5.5756272510289885957 16.270397749070813376 3.9959924121037011524 -37.05751315818390168 -25.055413194957232292 -4.047897686690752117 18.383192496592513976 -2.4299644411204104344 -27.934051142934389844 13.741086821088693171 -8.613374299008471624 14.250205214410385679 12.098750606578732913 8.3600895172532307953 -24.881490070646567148 9.3758292941569862933 -18.37150278605903253 -12.239886942532397285 28.327747411796238453 4.5985801664240613107 -8.7570773023968744297 -49.344388329925934045 7.3026783496044203048 -8.0154616377822343054 -0.92355879807558993733 28.644111382858927328 -9.6584322518752632192 8.0483066151995288351 -17.110700299075407571 -6.2322404757092195737 -3.7690340203782723982 8.6139985945228936259 -5.0574566108022729338 13.886422016230927312 -2.1830434308751693884 3.5470362543987006276 11.138296895390562113 -5.0144320216803599521 -2.2921106338532863944 9.4136673971087940771 20.747766800487752903 -3.5960273098169959205 13.175150369947790097 1.0041221627886316448 -1.9065792995536725574 -0.99752415243203562678 -8.8817240936220898107 0.36309401794428441956 -3.5169926952390868635 0.28750790605510384568];

% Layer 2
b2 = [-0.04544376985329928037;0.36127832466284703905;0.31278742876395043693];
LW2_1 = [1.2417647424383297938 -0.74973772282369954834 0.29128809663890120607 0.35634874085052881121 -0.70754073880771894967 0.34143912389375036254 -0.73335449357323967412 -0.4032731714650452659 -0.23637914171240870242 0.72108928570755670417;0.85613451438651411163 -0.23326751717404387021 -1.1847041088065159986 0.18043059475197342767 -0.21264061581743787244 0.10852820875289524716 -0.24589767119101269 -0.05741708793957576995 1.1288567306251371392 1.1793528693622354897;-0.11187249182733144393 0.086464875959362405555 -1.0429449529161938237 0.14613811066422136009 -0.010424572978964020964 -0.044718825816143642493 -0.016237722640762973503 0.018045635262340799232 1.0115128851229229223 0.42221732163317610143];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
