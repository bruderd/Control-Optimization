function [Y,Xf,Af] = nnet_2019_10_10_19_30(X,~,~)
%NNET_2019_10_10_19_30 neural network simulation function.
%
% Auto-generated by MATLAB, 10-Oct-2019 19:30:00.
% 
% [Y] = nnet_2019_10_10_19_30(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 22xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.68923562185917;-2.55976352764815;-1.66744595493019;-1.41306720234763;-1.72853430470702;-1.68470124822749;-1.54419012603737;-1.19832180182087;-0.920880750180581;-1.33378768429983;-0.903705148758009;-0.769375356764508;-0.921590452260902;-0.517525552348087;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.444678794681692;0.407242452141652;0.618934520080224;0.719788700875025;0.575604345071666;0.566071618910878;0.7594132340494;0.84999063747477;0.721977894496726;0.767034792829403;0.984427608258322;1.50655381729089;1.08895222470763;2.05283111042465;1;1;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.60077779090687555286;-2.7435689354878456392;-3.2443154177469208932;1.0789141841689529056;-0.2135245520208091663;-1.6278755686636539046;-0.3968174102501750844;0.32417190260033218463;-0.83752579305361685158;-0.11583098895286514374;-0.81142740288731918241;-1.2142084094089844459;0.27191114193983367819;-0.55091534841375588982;-0.52469968990124127295;0.19547099831468872644;-1.059842222969125114;-0.096515711835470377467;0.41278469294911557252;0.53174982965202799434;-0.81883247703995298838;-0.41176830819186094335;-1.2568122425626950811;0.50106063903817377181;-3.9227102445630497307;-1.6269427776975284861;-3.5230019852648162271;2.7988894697124226951;-1.1997329466422663735;-2.1167887780238294759];
IW1_1 = [0.48229865873359528683 -0.054921333382911288745 -0.10406960154667213581 -0.58046949269423642193 0.21622931285182817041 -0.024549519991619087739 -0.026507639375615933697 -0.52172710242279796145 0.2704882554329179345 -0.06943040092177320266 -0.18290811289998012978 0.30330548248262312327 -0.013715368710365414412 -0.12076947142359589771 0.12840462444375730366 0.14691270488267466066 -0.57595541468643374206 -0.28204560043222420829 -0.68424521716370401148 -0.57969912744380858172 0.211044741909860889 0.1368214989738706644;2.5224413503885738663 1.2257187201495700624 -0.4834049041417860515 -0.75146522437366058966 0.21022409780067644047 0.55895198365403253593 -1.0944986464178008134 -1.2144048397828304253 2.0451616298653534365 -1.082885849248856891 0.66644713605882199836 -1.4092587107525205159 -0.070201783264367143 1.1466698859276100997 -2.9141118221722082104 -1.146572967494435602 2.7787729727288632553 -1.7658183984006512457 1.4584013157937205651 -0.69868309172553988429 -0.49595783785263075627 0.25337446849584210895;2.3485315123714314289 2.7507579021898664884 -0.65561823543636499334 2.4922887639469157861 1.2296784072329516313 0.65006750348296438169 -2.3697815263244250694 1.1359129444033675416 3.3238928374575684721 -2.5192131901278820294 1.10027983462348522 -1.3026003425449201867 0.55009871768860529873 2.3780474633416264219 1.7471061701092041041 -0.32764186002635498074 -0.69802242654074375672 -1.4837893887257918024 -0.85915217952117040046 -0.77209125834072300787 0.11675087608863839173 0.14122168417965910714;-0.94104174075928503918 0.048668916702712061717 -0.23194610299253201613 1.6052594345097035422 -0.86193004450507160197 -0.43056833300638513995 0.79823596802205443179 1.522551100761388998 -1.8784488632136415731 0.75404448895841613698 -0.74571943563254206033 0.32598608988094845973 -0.4162508980464748598 -1.3641491732179529262 0.66868252527503135862 -0.86862661445523370318 2.7422799123739229898 2.0792470720776639048 1.09025369121743676 1.6525581595350877784 -0.17289512053634573108 -0.51701406233677060786;0.40559048150472759575 -0.053249496320445267872 -0.36432930085069592518 -0.45805283711686961556 -0.13211424465845997278 0.047007667098576434717 -0.087817554129717229072 -0.32502709591035161552 0.13101449085491612134 0.25314551790223260852 0.011634596266317645541 -0.13899179562786681541 0.057096576877663868244 0.14796549239143880206 0.53038709491963076381 0.31045319073099192364 -0.66845005247573852092 -0.8075568940053444722 -0.44569487532925661233 -0.24568261947196640138 0.1365874416391325008 0.043790979023958703786;0.59474211225732243058 0.59088364379880442545 0.39407860475795108979 -0.21606599855330713145 0.69155584691840532585 0.39017968644616773943 -0.34295547822364524926 -0.60183655323570461881 1.1718928130446994995 -0.67117046043051187265 -0.3203782399672823189 0.1886168043948835138 0.10803018603923145169 0.46469913241834193141 -0.43023235334332732283 0.52617643724477436429 0.35571308872273832424 -0.14128916039780750613 0.97890255469950970824 -0.33060753761655031768 -0.42911323218964314563 0.064641842218688252975;-1.3179020692408991433 -0.63689140886259487662 0.36217274359188655897 -1.281030863716464907 -0.18272230857178156649 0.0054581778890616626521 0.16393250202257123038 -0.90123405446471493985 0.12730280285100240012 0.22666433226165294545 0.085409595053561493394 -0.72919544081143439218 -0.34075769400113059548 -0.020584812606081449859 0.20035750606341687363 0.87778406687765087035 -1.9088939147146892772 0.031430801999931763657 -0.85723703860004973887 -0.050456939922578686319 0.26844655178725412847 0.11688768490657223953;0.12831762193709447817 -0.64369222109714563373 -0.25143894189596038835 -0.4789522350824379493 -0.25971552727314584086 -0.30754769499056300308 0.089919894219299217886 0.017352040983984740041 -0.5591615622821025644 0.38481439974854192432 0.40681701435372391584 0.06681232069450857014 -0.038910348357218293991 0.082076129637603967293 -0.5124570469061782152 0.58122078850046643428 -0.90782695497887055947 -1.3437554963283326881 -0.43126684665050901701 -0.25984600776496036278 0.085730134444794922621 0.095588663843452256752;0.43214769926884144535 0.16105096451808514901 -0.5690590042554569683 0.9442842166975056184 -0.12894344294499085479 -0.21444416572759597561 -0.079583948178082689062 0.87750494183197069731 -0.33873718375610012421 0.16162748074152480382 0.40098678652175401282 0.060366872708214600052 0.079570361508642176163 0.17194781028961597658 0.30160482994007425939 -1.0200276239648584653 0.029361847454756409559 0.17495543510665628739 -0.23662932315642018488 -0.15272076039537679781 0.069486745233021535162 0.047007880988781017284;0.49359194890088009533 0.30371266375661448711 -0.69616171092499401496 -0.061601308474187106701 -0.53945683744136641025 -0.18691226631661622681 0.92845701365061761301 -0.54292453118421568625 -1.15384382875759961 1.5414325344768284864 -0.059388877493657392381 1.6417427416742240709 -0.29868802385337650529 -0.86467254164429774299 0.83998121942314063482 -0.65261856839626797289 1.4090523350816379633 2.2387227167494687663 0.88757872621211297837 1.7156213469717147557 -0.16169023428828119271 -0.58742010544535727679;-0.90001583893273917614 -0.31729708674961537573 0.061385716283493027556 1.5029640716340033624 -0.44262855257405497866 -0.3982693480779961881 -0.17636996024068712918 2.1591926090982935804 -0.355305410499014096 -0.16158131803395248127 -0.027819502317336028407 -1.8095031551740818898 0.25310684381510789587 0.32367275221354929737 0.28172211187956580636 -0.33671303376277317287 -0.78493680275424815296 -1.8123730670440434398 -0.90459878515647951236 -1.4637690650898189659 0.19598127535505924235 0.50396835865001743393;0.079791402402202823985 0.13828110945602820059 0.16807568755191640286 -0.21064854607142369236 -0.71843121140482868459 1.1478062015542414009 -1.020141671597805999 0.53118351141244202207 -0.63622827146778626606 -0.4359281465187034299 -0.052983230180451451607 -0.1857365949512901071 -0.53659875564714731855 -0.23842671030855236425 1.0183923537075845189 0.89009946340679590993 -1.4466113096814356975 -1.3467078848710383188 -0.53752994006577459185 -0.80148638512577874415 0.65007251189067238872 -0.92599160620072051842;0.67417684841390734807 -0.14058545221265450476 -0.3289476508580621017 -0.84363074525630554756 0.030832553978218636692 0.10494227627729242613 -0.21256804162436906958 -0.73148751388959409869 0.53862869537278112997 0.24087728120091317363 -0.08230568133337951009 -0.13537245381839982383 0.052178470247139938087 0.45988177048161116289 0.16260138684068528581 0.33592196430588766587 -0.68536673943600323611 -0.77804917197306933119 -0.38554896484215367414 -0.76148613269392739777 0.10543695716751377844 0.15051316149245860809;0.19213450171762802565 -0.25465002424691240979 0.13693791507055208534 -0.53213267553935328369 0.76258032662408314906 -1.5688844015660774467 1.3196967785361690684 -0.43487969002154358567 0.35667809306336240027 0.32391007826075779441 0.52015818401404634308 0.91537600469253432856 0.21920934065392147505 0.066940640138128462699 0.96573734290257429169 -0.90600520466184497614 -1.3838396028498147761 1.2336791467274608181 -0.99565557824285422228 1.3604339908653175772 -0.60548099707790126178 0.93195933646356876601;0.23412783583595198067 -0.36223232426350354674 -0.030380561274615431461 -0.35104574929359821933 0.75310956617187096995 -1.933916084305505434 1.2635783518984078366 -0.49709738056800079065 0.39858808779107768316 0.38232778130185057774 0.54029458075576608511 1.075952089989398619 0.29588575981996623199 0.061003424344773626853 0.8280138837243590233 -1.083671732811639199 -1.0475397840375890723 1.8789887164707348433 -1.1969435426139944934 0.87908532859982346785 -0.67026948662538732293 0.99697469416147754817;-1.5567262253892495405 0.45544332578460600125 0.74274066080326561767 0.20218269070795855114 0.26117853961799586404 -0.1727007138578049994 0.52944396930133286183 -0.78987155519928975433 0.30833545545879142979 0.27520494401656953043 -0.98998382474324941871 -0.10369649721234994177 -0.11301842645398535447 -0.88047597886827200231 -1.7469283945803564251 0.14570282781542021056 0.52250294055509760582 0.10614594321963222168 0.41453731419024719695 -0.41908418699096366966 -0.10976807257432229237 0.099124567081952857928;0.082647959466307360787 -0.63535415158920649503 0.12919572380642285747 -0.10132432709237737534 0.11621379261899471291 -0.38900835999537569654 -0.399455753698188476 -0.69925299682040498173 0.33906767405267834725 0.23980057212847816217 0.30625831935727704236 0.25439855730909149978 0.31774129959574981541 -0.13197058182335419385 0.026510312639008645763 -0.2715787897351049085 -0.22556092256867246726 0.51149247958153498672 -0.42823439024925402663 0.38861805981751779138 -0.34815932952019573721 0.42982832254740405142;-0.13137793978963038799 -0.27904939370540898791 -0.20661128544337606372 1.5585206558716317993 -0.15812776303735953665 -0.68543104762021966891 0.038189731762518552838 1.9213599113493906589 -1.0012328311407676651 -0.54869220183474398667 0.42117374594702594592 0.15548850848723472229 0.02112654063272458374 0.008581619751919747352 1.1107630862815089934 0.19630864969636857564 -0.43376907205328479877 0.10691163081450710814 0.37863590111305750474 0.015302137559723807611 -0.16051789056463949823 -0.023958694052270544661;-1.0801608214311468892 -0.43219479836972213294 0.052818299344813142426 -1.0404458931297253521 -0.51771066208240135165 -0.12660147802449514542 0.22725501384709728692 -0.95209483028709218644 -0.14023468867743618671 0.72723808248590360304 0.042317414196587625763 -0.72668558151886641916 -0.048326251213943002827 0.01915144827440389691 -0.21867052424492455787 1.0724440758626327952 -0.98518082579394417042 -0.51062855814575869307 -0.51524604521800454471 -0.92479500026995720141 0.15431655200607996559 0.3906425243376368539;-0.37231700993902361319 -0.68894316855214743356 0.10506737405055506518 -0.20033349200945091417 -0.19703908591581612009 -0.96376462507207982799 0.43732309315486578294 0.022123009385537528021 -0.19474890127071059487 -0.24464361833248410294 -0.21200248220460851667 0.10275515736799493982 0.077587654830009386564 0.099205769719423519959 0.88618644935052126588 0.025375741012053004697 -0.99391847710388137038 0.48931554166437729592 -1.4774259934775453296 -0.45619752019890241757 -0.21837250577856884282 0.64715723734488672658;-0.63261508708650171506 -0.033631057811826715886 0.71280990976231672906 0.028369479056623368718 0.45362292616939425827 -0.00012557930674542291082 -0.14960519863997873147 0.049166005031605078401 0.43253459923705128709 -0.825382891966265686 -0.41380746779025329163 -0.15915505493565743067 -0.062778232163965871915 -0.24630326698277402175 -0.97637242662624079692 -0.41353909885018724779 -0.19023276422516338657 0.29792104111370021347 0.28256237425010205522 -0.47767572316624434814 -0.10204563762550557249 0.15702406289992329458;0.29022995977762500175 -0.11422423200309569924 -0.19357284538609129121 -0.40360832078792635569 -0.16528216444001644914 0.055202019658367275368 0.041522624361392979075 -0.24547240513113724458 -0.099347100793565831789 0.21760798572880912793 0.096154972812224737133 0.055703282301695779266 -0.023275767707922782185 0.099366451292563023889 0.28927952341358881272 0.4853334230484569467 0.031409407339336677112 0.19431234143400918923 -0.01946554886431574663 -0.30314561784791377308 -0.0044251329122229898783 0.10004456201468484022;0.18231571430691764779 0.27593504180253897173 0.17261289270451615763 -0.15763679912664851912 -0.79903407857908359535 1.3578855695851890228 -1.2218086664426959231 0.55724812085977026843 -0.64756609699185441187 -0.53021622111592681126 -0.096564033282627262378 -0.094730774620631286176 -0.642977797500642545 -0.28854317962359704586 1.1233143066728974446 0.84866122898767837324 -1.699524289632384999 -1.2796428493256271075 -0.45907391325537039162 -0.76336191984974388625 0.79134788847891412988 -1.1695064089038309518;-0.59544384120574400665 -0.74178018903285580787 -0.06362189659151916421 -0.1041900866960104588 -0.29199884271539844338 -0.92441458362279138594 0.19206494039073387925 -0.12005928583017852485 -0.23902689332659768362 -0.2819528926657197121 -0.46519666986339103243 0.32713966514185793821 0.14668682377094022229 0.038504968107379473896 0.68123705579400195553 -0.13895540324112309882 -1.0565368984452752077 0.53088256467309380415 -0.82614997915508070481 0.014753657673151843177 -0.51789189614341502033 0.24625232003711092221;0.54041911053743652005 0.38662744825759060019 -0.89730796344984042889 0.40399988776364681442 -0.63844306263398153956 -0.11967193509802453999 -0.088396282514679458409 0.21178818068116211926 -0.23452787039038780481 0.43628375647379208369 0.22474962889597052684 -0.9006897248243861398 -0.22725605788066993718 -0.27406249302650864674 1.5429678351009463722 -3.1780625404056350725 -0.56547897499556709633 0.1219563137954839116 0.3374211869018123866 0.093774579352980516611 -0.14227207799163413271 -0.034953230079832094124;-0.020793931410399701942 -0.062895633083031310395 0.36595358151066420538 -0.30765095308844386812 0.41379535273833578657 0.22357897362380443895 -0.19300326261122255356 -0.60994018388384485529 0.33166976772439099586 0.18097863954199353009 0.30033192904683975177 0.1726678042392918444 0.06326700347648495093 -0.099188788935215335685 -0.069963405876041370735 -0.26570128212199217721 -0.22719423987545198096 0.60568582229120471183 -0.74722039641481763361 0.50288058015594583328 -0.16080058023891238839 0.46265637897647354793;-0.14871575920238630508 -0.54159314559721571936 0.40365521922920333253 2.3967475783128575628 0.62070386064097293755 -0.7274481948617728122 -0.7383142341721617985 0.47637679181523895355 0.59490613330102415368 0.26845923715225689099 0.69621260945237617435 -0.90925322311377521078 -0.023359072266204233825 -0.67998835237148047561 -0.82370549086822952844 1.5522373433695486611 0.79118754854185635583 -2.0368446800189823342 0.23953836447745904814 -1.6090382943483849676 -1.7551170990089250967 0.33629562696897280505;0.4392894953605302466 -1.1105924819275301285 -0.25781555193062649645 0.50096960315068672642 0.18515533602196654339 -1.111954466097722749 0.10231633802624183482 -0.38754057278574288725 -0.49741483792819257692 0.23439023574411430029 0.21835793076107587463 -0.33816027978064466808 0.25870898476660675325 0.27251962140352437025 -0.53752008485966140672 0.22588688107267665406 0.12352799743034875712 -0.94119653513699297331 0.44108831397157199916 -0.045268792409606878335 -0.19178788745573718821 1.2031741335363956846;0.83694130415603196216 -0.28723859962837605675 -0.32836845096550343337 0.16665877964675387957 -0.065781981285300564211 0.16721164983580327767 -0.41276662899837418541 0.77219861180599480566 -0.19550762108930744287 -0.15483462570764608413 0.67767026373483252311 0.25427848477585751619 0.032135440463793907284 0.72603836731688442541 -0.39739560926692379939 -1.3589863425752513049 -0.2709752982909021668 1.3668325944037145181 0.3881111972764889062 1.3311197866585942062 -0.14157312354505016683 -0.40919403110928714851;0.98497067398201576527 0.038918008116324516454 -0.19399610525980925946 0.11259382523552989575 0.071426193378674757151 0.24034826210817214487 -0.52681272223861130843 0.35733853963450651348 0.12446834378763407813 -0.13558815757579750771 0.82273766255475944131 0.33535013725576312549 0.20940931736568926813 0.85099196033273616369 -1.2591709834438307158 -1.2479250113343820505 0.13533307841163039198 1.3657192671159321673 -0.10162679732327283 1.1957496093759185651 -0.0042960902290058219227 -0.32667318234382874964];

% Layer 2
b2 = [-0.1728323951104630829;0.15667733559737256899;-1.0408735811515832381];
LW2_1 = [-0.22837686993593314666 0.034393427629619499619 0.052037922483268307661 -0.028354749756845733927 0.18727695700728119732 0.12061325363043096104 0.0033302962640493869069 0.12034224144434367554 -1.2929623353833605837 0.075843782380903834728 -0.044759795107295843875 0.0017804795202508607969 0.099334983159861486857 -0.01265263954264319278 -0.0016460582497770594353 -0.033237340516366661869 0.039187004386035201309 0.49826589300125884163 -0.16595964038264240936 0.00047192009909308423737 -1.301618370440035477 -2.3393858854279119264 -0.0039184929568881737144 0.012319365692762564851 1.9938786099664171925 -0.026965835793336896675 -0.0064324295450234785301 0.026532762303303029927 0.11981682823433084661 -0.07383283261201126213;2.8224340504918421502 -1.045442901723479201 1.0040311550922424999 0.64351598801463338884 -4.0226702165435508363 -2.2455573093697664966 -1.1303801668753583609 -1.4135476136489071308 1.8015466256210062035 -0.67758532901327273024 0.3944431481980917864 -0.01172979317989367512 1.0944348879252925322 0.034386092826951444867 -0.051674469198187356067 -0.53478293558735867652 -0.11304470866863718104 -0.81986772775086824705 2.0578203365727527618 -0.021857473359867009982 0.13411755508165060236 2.7055047408315466839 0.015495459014087727134 0.06557501020680830961 -0.40821735592857844033 0.15041409874342659414 0.0070271259875682662646 0.19446717081242467784 -1.5143883414060430592 1.9238934588908318535;-1.2188403804617251591 -0.055061302079576462942 0.16299080227470427729 -0.072543916360438456814 3.4368727196887203235 1.4904594741304602046 0.12452286055201243486 0.88953958325613935454 -0.4522247326500930531 0.010616310897707311595 -0.014952469684444656683 -3.1350535564727639581 -1.7511776623400492348 2.5810962795732130814 -2.3127422794571428355 0.17873551932742476334 -2.2814275292690582297 0.047294227179048527188 -0.5574786811421046373 -2.7092122423292601674 0.30513446972193530859 -0.33460749517806054332 2.6173626625303834103 2.5557947016630082615 -0.047606661183931295311 2.2487621088373335176 0.80946986314543289964 3.2953110397317200153 1.0356462728521511618 -1.0621611096643828187];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
