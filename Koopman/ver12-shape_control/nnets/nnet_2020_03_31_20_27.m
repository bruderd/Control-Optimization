function [Y,Xf,Af] = nnet_2020_03_31_20_27(X,~,~)
%NNET_2020_03_31_20_27 neural network simulation function.
%
% Auto-generated by MATLAB, 31-Mar-2020 20:27:50.
% 
% [Y] = nnet_2020_03_31_20_27(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 13xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 9xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.742279427831321;-0.543268083365348;-0.380247223079929;-0.305004922819033;-1;-1;-1;-1;-1;-1;-1;-0.920044027805395;-1];
x1_step1.gain = [1.52410826282666;2.04693520144956;2.14254789040424;2.49993399099369;1;1;1;1;1;1;1;1.04164278060123;1.04603083642506];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.6439338002839694042;-2.5483150062516299883;-3.1093228602507312353;-1.0852885179023328277;1.4676860424331776844;-2.2458363474168914209;0.81902432126312230132;1.0975014987804461164;1.2915410515239393874;1.4722657694124963168;0.27151467370307141858;1.3148139549209085786;-0.47906637426713966077;0.19240399384185360998;-0.12988808599594112159;-0.60729578455497912337;-0.11186092740306030624;0.28798864321140421607;-0.43107678691046180663;0.52995600113984919766;0.55572347183002912541;0.94994576192680846294;2.2632273326169571881;-1.6005802979575385336;-2.2064580548515970726;-2.4494003204859522427;-0.81996607940244004009;2.2579761629395647127;-0.97071610581325806777;1.501533700762179846];
IW1_1 = [0.20929013224705417251 -0.44520154566370295779 0.30698396027476337888 -0.1227406562214164859 -1.1748497144327461061 -1.4012185832677710451 -0.33013528183641183134 2.0260868983402922083 -0.5853907052545959111 0.39110970330701211317 0.021984970820007661979 0.89719292379713033725 0.58638405120452041785;0.21328101279528283163 -0.12327978549769270933 0.072310264696086451464 -0.089522668640763344849 -0.77465067350469496432 -0.60219290866534691542 -0.22427542450824899944 0.075193082618549511587 0.26449062597408345976 1.8036976190679159249 1.5126815982108103853 1.005316278798318308 0.14665612494030966229;0.59266833635847504524 0.020029219107227630436 0.5523267101893198916 -0.041848900268578667627 1.4478263776303106347 2.2828073583617496389 3.6344237960717995506 -0.67494203507533212516 -0.96237822678962170464 1.0456685420927565033 0.45706687511628690812 1.5402372073017562837 -0.84237367117213945988;-0.33888040699292776292 0.43400001951971228786 -0.64017272891651821887 0.40599932062195109861 0.46656341781398857904 0.83200441692847726394 0.98841475218646179801 -1.7116778511163746046 -0.87796304694354487808 -0.73056107179256812856 -0.02578310469701697305 0.59526311566773348893 2.0118815872893258678;-0.30532835750258829899 -0.061927157411348375537 -0.2236970719569414956 -0.13035918522940578845 -0.24287650415729947206 0.1002543561743513556 -0.17773853040370068967 0.030865952754721120987 -1.0410956721849253803 -1.8745045779200781855 -0.86507111969725347667 -0.97000104093022998519 -1.543994609233502624;1.2322096739310191005 -1.0623119319817897477 1.3277998785232714152 -0.35727539646382988625 0.89453021243354435832 -0.24198523965001977887 -0.67724110060735842609 2.4266416814600484386 -0.43075755585525338232 -1.3934940322338553731 -1.581913642159504807 -1.0895193595810874765 0.80151166013276842204;-0.39879634668209062998 0.059326811131957146728 -0.2519630634093994459 0.023159182807078102645 -1.2756089677558088979 -1.3640538522563121493 -2.4576931219912876436 -0.93326249026850294221 -0.63540086064331524618 -0.48605118011855835691 -0.39142231753174577813 1.2620072651117655305 1.2425272746607376462;-0.26109847584616846516 -0.16769913043170056599 0.10061064815786117943 -0.069872363743235105238 -0.22391340893635594544 -0.067375626475404681859 -0.66355657407044166263 0.68572633555707895869 -0.62819397617758809815 -0.37117577909065319064 -1.0469044594248457791 0.66242903154042021008 0.81391785519887016598;0.16686433357157523516 0.12089066734330022879 0.035848934627075272619 0.18050034875008397206 0.63226557738623556659 0.23585788324698300777 0.48850373954236447904 1.2389048968243405735 -0.53892549176561133084 -0.22544839917823819575 -1.4331739279023720801 -1.1873333319145167319 0.43724921766911895027;-0.21436141997581076302 -0.023426486126497336748 -0.2195581748741282091 -0.17144313990398180048 0.007311693314756683576 0.80924011227881043062 -0.3762665370388649233 1.5905340515333283857 1.498060846807050206 -1.112401882822362964 0.0018676648458912648021 0.76489781872389706052 -1.0040928769925370201;-0.45374972598113821887 0.1653235721678545378 0.02281305770237115893 0.10409644687898775284 0.88977818931591934337 -0.20536513638806383475 -0.57568726343354315045 0.62465468122563683195 0.60160986638925506576 -0.053886475429623409417 -0.44151908786585158939 1.4869740389946548564 0.79666609181324066213;0.022448786822787628048 0.24579396838044786922 0.12461706482519649408 0.31868810415882176112 1.2949863266398462525 0.33662917629895455773 0.78808992254149323742 -1.3372529501230674409 0.7722078897236313022 1.7688909244355053296 0.083977494221992465828 -1.0657413260658323839 -0.055361782762282457648;-0.45432291767424382023 0.36441742196377641116 -0.76523616755709955584 -0.49650350938321879957 0.96387626915710844511 0.56102051836267752272 1.3223996393973871388 0.37898600288947487114 2.0747922379328507247 1.2992828969673244632 0.54833739853950413945 1.3055840647927614562 1.4244716765243514711;-0.039286139401652993286 -0.34646841222197577448 0.44078071073148117343 -0.074073347829893915195 -0.26611219492131560349 0.52344530089767760117 0.23800602457423805647 0.95843021621098589691 -0.48863126914692955882 -0.68181002092431142181 -0.53115849546356785904 -0.30934092119661038556 -0.78207398578756714969;-0.18700280877994848727 -0.3197474404907724721 0.16126668136215283056 0.070399927780055715498 -0.51415829448493155507 -0.36793038198751026879 -1.1961071090792330107 0.23208888965475246713 0.33399447601397647123 0.38009102930153410016 -1.0060413980062163919 -0.48309636346851170252 -0.1038993357888916419;-0.54454542321717913644 0.084105105579488623202 0.056124305211444514008 0.029976787935467767016 -0.77314629848458404915 -1.6013440012399384749 -1.7618892847399358903 0.74892080400019711561 0.22232426453342279959 -1.1341096075940457766 -0.4426885743430795106 0.41254443386365985402 -0.40602306893146367095;0.13919853568856366266 -0.22683201233782260275 -0.064300136580903000105 0.041798901750832180568 -0.33506978402218129398 -0.45721341268164822358 -1.1622103444252891435 -1.4020615275768291141 -0.0014498113142277779808 0.97389805512132365806 0.69354717266860710367 0.94829909079128538174 1.2707184665837045756;-0.16913892124986584786 -0.034025832583161143285 0.11093479786221406569 -0.0010386368642320339267 0.54025863131371576475 0.14453615878592207533 -0.29187702028958234513 -0.53118273098644541719 -1.3095809634583182035 0.12126579790372701839 -1.0068989320011523247 1.385411674615987021 1.3752066953761814538;-0.064317621917955009048 0.016314671091569362543 -0.17146699023396622108 0.062386461545522617356 -0.68006318763341844225 -0.16136618504351105119 -0.54392534914516244005 -0.5040362426757784009 -0.29509531884025358428 -0.493513874640097161 0.10555259691535068267 1.8755304558134848758 2.2182064710872313462;0.10587471218076276169 -0.15505173157030532893 -0.38135398734718828351 0.21290685146002719108 -0.29995066800111014338 0.44520853302482454872 0.69093510466744922915 1.0920130819431641545 0.24823214726228165494 -1.4738949709340307681 -0.42545712494979642804 -0.42244850720685800383 1.977404157605471946;0.32181105721085834226 -0.1939219401845974633 -0.056093386876952679165 -0.10720890067860773531 -0.44032795895595311375 0.0094316570725879386727 0.1733532489729837367 -0.63795339025204467198 -0.56431164730715843714 -0.31092371360502396582 0.32923130069742972958 0.26503654659848802089 0.93888978514960885757;0.048706172919581465497 0.18520056036252968701 0.12370014440774908249 0.35352944905068217629 0.90682155604425018769 -0.8936369553050153014 -0.62736048371400887635 -0.74221120047652122675 0.032594914140499114952 0.78887116981093219348 0.40096840628985780386 0.12227621969696436666 0.99521813093497246694;-0.69716806160903199707 -0.10182385047618400242 -0.26586315614792116468 -0.14168398505259563458 1.1125893161156585887 1.3022785275397938953 -2.0624228990805879569 -3.5127714579079345469 -1.0025133640632708509 1.1711662075011159967 0.237645065397030536 0.059875822051065397122 0.37082379539523396828;0.026729643868105043558 -0.2944165895753898532 -0.091871859842358502557 -0.47379980950296818332 -1.3778284677842989048 1.1473986908906790294 1.0435200252529936993 1.1524494653240073827 -0.36547068033240492912 -1.5084364911563616918 -0.087490790248846025956 0.13432996560034843325 -1.1022647681549533338;-0.11533602288787049572 -0.055390696429732620698 -0.26032351671783793279 -0.35280440427865605857 1.2334401187909258546 0.5132141102391573062 0.77101923694885865501 1.9870732290332715486 0.47073220840461349468 -1.1636695769098870379 0.23857161861072312403 -1.2117048486542578711 -1.3274385922755194134;-0.023155360236612132496 -0.24594396778828025996 -0.74152441562532012131 0.61077299353633907053 -0.91113729293442502488 -0.1320575444176850799 -1.0806228576377090445 -0.69549098117525853802 0.78192147849709559004 -1.7380458625323376154 1.8751820142304314043 -0.15176142074837017937 0.83451655483620101883;0.18979151846320166386 -0.44991225420410729807 -0.063806913593490208192 -0.12818265053371533102 -0.098844106388018659892 1.401768966543485595 0.49368262852236510785 -0.77482004699194195751 -0.1456621974018889043 0.75280068234267005778 -0.10873182487100106763 -0.95910294890314717886 -0.42086798788506829538;0.21469073593335991079 -0.2010272372136462371 0.14038657614394867146 0.18582721939206284234 -0.32343786956902892404 0.33849092035126404632 -0.21269435568178968188 -1.2505377790324752052 0.062511213977430646338 0.72918620907605091741 1.1683171534110468048 0.039021819315342383405 0.013949499562181992551;-0.42345212446838931264 -0.0005345448466233596041 -0.090177285493981074183 0.044665320947167255761 -0.36787530501255627513 0.18123820858478711937 -0.31687575079856372673 0.90752915386475740966 1.1776696341037300453 0.53303335135319540594 -1.2579362269886269488 1.2088871569451826726 1.5020951278224392578;-0.0833789641518288549 0.11741827602347523762 0.47129286605243403407 -0.23300085088775684961 0.042356390909918752163 0.35998347746959535876 1.3062612557537087721 1.4881098350279668985 -0.088481233740240736174 0.49833304005244666302 -1.9641060270795129838 -0.12064592173378707596 -0.40689571815768160734];

% Layer 2
b2 = [0.31660566632372988405;0.60709230765435240329;-0.32667833187290484798;-0.79576634469957541196;-0.60678106237034656889;0.84466492573328932902;1.7629200401267963727;-1.3786957321638739771;-0.97025055676215654632];
LW2_1 = [-0.19766910592752234832 -0.11581764224905652383 -1.2261159348120436174 0.11104961083454212289 -1.6572644160413647629 0.084682117446073665312 0.25430028469841853278 0.52265211208490702788 -0.43256334562239334707 0.53052191592890918237 -0.18130862670297551165 0.070895641286480681753 -0.04642826343449294596 -0.32080266204680590869 0.69363667131737127836 -0.88394176142859637313 -1.048505592177343404 -0.143537583205559649 0.76089390317436722544 -0.32534807313997893274 -0.43873371888744822078 0.0056328655372656355471 -0.80282806317178356803 -0.18214709565427633642 0.74759875610271198099 -0.25967824870824079975 0.18973833594555425397 -0.40292148162141921963 -0.15186333462996043364 -0.16845157956466103033;-0.12843514276727982515 -0.8416207903549588476 0.81613376976696405674 -0.46112761767252924416 0.089700440208395099129 0.045335846685625791341 -0.59936469823422555692 0.086798931526476344467 -0.51293229473729884393 -0.10827666419435574841 -0.46409042897610858214 -1.3950890870793117848 -0.19991565683292306099 -0.61235244838830549252 0.45448742909089312469 -0.35515727335488811445 0.14840430351418609778 0.47748420264505742061 0.093606368067309000947 0.63013300148345197105 -0.92504357350593569009 0.12731131252099198159 0.93112716017715690953 -0.37150543482352826885 0.06161976113196328958 0.38866457816707694617 -0.0038379205379247133267 -0.83100545910657941384 -0.58634013855167421703 0.74696952664824689538;0.81065933140407187008 -0.51157744914000058412 0.46518126722852781718 -0.25271395888532738327 0.28795245719278594887 -0.14309476979464924584 0.84723482795528914924 -0.63690967097530037933 0.57389564783958291194 -0.40923713663702177001 0.4130666576364079301 0.52023808492277234805 0.088126004051532536021 0.21517900489719493651 0.18413859132656626438 -0.20122178924059258565 1.2757898957763791348 -1.3153712015137291047 -1.2951812679295955366 -0.066207172669199468307 0.20637975632838029272 0.2607144933622356775 0.027205020842597661679 0.87225302846394026091 0.21133007356420555056 0.28656672154411166886 -1.0521149416163944057 -0.059957950944817664518 0.60935995761035366414 0.66640541753018989191;0.50733854458747829064 -1.2558043668672040916 0.34156231747130161303 0.0051582451391148642639 -0.089595567473568032968 0.30115262557414357314 0.63350589841000870539 -1.4201513747752245731 0.27014151094992588931 0.55974781210387991592 -1.2005924088078190337 0.86355938455908776152 0.46072467751085144361 0.6667564413895397113 -0.070231541900657223909 -0.2598941942853759679 1.3218164944979764464 0.48723021051981740825 0.30169151663130489016 0.59611590621987908811 -1.7517736378194466162 -0.66826320194854027523 -0.0082178723537847907232 0.8044946738442095846 0.2164133166527352492 0.63101049606842907203 -0.95662697887468239877 0.36178757341007478088 -0.58001646241630311351 1.1579979411266638767;-1.0649134883898327963 2.5701986422536453603 -0.076653550194811764795 -0.59868962728001462459 1.6429723926688384328 0.32338604244339991256 -0.43408537551207676541 0.67665001741357078124 0.38303308968563526404 -0.7634743948625184462 0.96821611977642529911 0.55701586967600713596 -0.14286400470267840435 -1.2605958879271783601 1.9046452235016664289 0.066465448744373170631 -0.63395616364150275679 -1.1320575943817461351 0.29275341370694052401 -0.052308512026387629645 0.2817111519631152472 0.26833897356012637037 -0.32398647848125106119 0.63423093240420336247 0.71816432427638010605 -0.8328628289173726218 -0.57927019262724532833 0.69254920904376737756 -0.94746831527821706587 -1.462585915346275911;0.54555119444096145109 -0.94441140392425759753 1.9534763903521292772 -0.45790100727426003013 0.28161228084294626095 -0.25249871910960530741 0.066352449193010754058 0.23841997394381164721 0.25215097334104258353 -0.18335159154730756859 0.5397940538629611984 -0.33940655289661109117 0.076498448883211722649 -0.12354511346558433305 -0.5528593231311038636 1.0781364592301165839 0.25852298661064643248 -0.42787666030630855385 -0.4664961296436590521 -0.0491227661217532377 0.84481429211171255034 2.3426021290174285916 0.48320530892379737198 1.3286379738249161075 -0.26511098174678882078 0.20083219382081218818 0.12630730178702220812 -0.62920384164563136764 1.2067462450649257821 0.44070921704615478864;-0.46815942875830368619 0.67505650855660981335 0.3193521759860918352 -0.18023167948079171774 -0.27650577334666520679 -0.091165216886659433682 -1.4683801243217875498 -0.51280405621106517344 0.1877455744867103371 -0.14973647086259161965 -0.057337413154445862618 0.21656623721357193268 0.27065128887173117711 -0.033441217242145840349 1.2679607625979703034 -0.065468541161695342767 -0.55228508617722804619 0.10848424255494035218 1.7021711905127341335 -0.065855499399289724183 -0.63585684156518540444 -0.25446411979177940843 0.36258535000055397424 0.10941108677373129199 -0.64050765269981035921 -0.064950106431924573003 -0.039766783266615299275 -1.6035838192742486452 -1.2994972524148891146 -0.067210097488632047913;0.21986723472477168184 0.48285181508268315564 -1.3247373219577340819 -0.23465115419881305003 0.800947764050644051 0.43525676497272769438 0.41906296132205544946 0.61499992800090719225 -0.1006488404946195292 -0.30232440568873941711 0.57120722331763762458 1.449528161565344142 -0.31460940510745827314 -1.3531585796620189122 0.62010710102307986524 -0.75893192694737532378 0.66790259961076348105 -0.53927431718082352585 -1.7882746475291606547 -0.64869195627162667961 -0.054792602572762333368 0.33401418757070816534 -0.24831041170450413036 1.5682142729492003497 0.16750814281105572134 0.18719831157956695611 0.25165328311482304535 0.8543081898363162896 1.7297673905879635825 0.34131155763957427007;0.58108265107002698979 0.59455331184973891911 -0.80599445256691926165 -0.69044717359652707511 -1.8590867189237347823 -0.29551941466362169342 -0.88204493645283199577 -0.021807802331353216829 0.33294269488485245256 0.84381043472926475779 0.79973624058779735346 0.081710703833867984192 0.23451563358225330225 -1.0312835349156896925 0.46934842884644045746 -0.29038073289535226706 1.5612300401033674113 -0.46679163779705651338 -0.34881878884842087984 0.62950896170125691942 -0.49677820473042538785 -0.45266617878428178079 0.074501450832149429537 0.39425660167217158047 -1.5153835079756836635 1.1109886462321429956 -0.70943929413959039287 0.083062000194917301465 0.11159874797688631998 1.3752955390085830345];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1;1;1;1;1;1;1];
y1_step1.xoffset = [-1;-1;-1;-1;-1;-1;-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
