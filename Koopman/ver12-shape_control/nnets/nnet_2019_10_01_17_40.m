function [Y,Xf,Af] = nnet_2019_10_01_17_40(X,~,~)
%NNET_2019_10_01_17_40 neural network simulation function.
%
% Auto-generated by MATLAB, 01-Oct-2019 17:40:55.
% 
% [Y] = nnet_2019_10_01_17_40(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 5xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.34476644872508;-0.96159813110824;-0.911667704988021;-0.676676944525988;-0.631564676222516];
x1_step1.gain = [0.709694181281201;0.97638358203474;1.10447757104138;1.49106664585379;1.7101199068683];
x1_step1.ymin = -1;

% Layer 1
b1 = [4.2566725795879971628;-3.4545803676895867618;-4.0803998395217844219;-2.4902751722907443543;-1.6424597254731672091;4.3209649671689174255;2.7883291789869146804;1.9277090571795880702;-2.0863947746432542907;3.3297307476554065531;-1.9561025291297502449;-3.4554352000974675185;1.9204196639515775935;1.8613084856045878368;2.2107536141694019705;2.1069379045946181606;-2.2396411883912756835;1.8349660662973978908;1.4745239133526015785;-0.61337835929672668289;-0.95779795534502387699;-3.6731926715108049741;1.57404395507667072;-1.4738872408182508433;-1.1003652208834304727;2.7291494632002399889;0.7442954592669931424;-0.19675402508323688866;1.542579398566451987;-0.88725399659268489039;-1.3194388417154481186;0.45386479266931961662;1.4577976503127969554;-0.098031494135053048877;1.2757639392075819096;-0.36232136530769559757;-0.23904736469106194208;-0.69551892539857729236;-0.26055735643034494409;-0.26172301812134152188;0.52158725437890018917;0.52382795534240633728;1.1062424497026051018;-0.65762374496970432691;0.81477272647755782931;-0.64183595718799890673;1.2983950142071263301;0.35202513960367509682;0.31517502629898241917;0.36298972249414368507;0.043896588085477361574;-2.2940778362152909331;-2.5275204326892803941;-0.46025249967482467772;-0.35668099719661189306;1.6669559798018038776;-1.0711378191481855104;0.66999291311160202866;-0.46701303544526584499;1.9164070383535856124;-1.4826202659344263068;0.64048777105691956368;-0.71376142384499063898;0.63629317110535343893;-1.3948129941249016728;-1.8557764829768439441;0.83168506632423866431;2.5336319574230992124;0.40188919587861721139;-1.4023748201086032594;1.3467168461153149472;1.0740237722384653463;-1.4701562351154240371;-1.7038459577478599627;-0.8808697648824206361;-2.5174110945630485681;-1.5294142079463437511;-2.7100657723961165679;3.1524614415800940037;-2.0161622855307794744;-2.5825588640991514744;-2.1522144104299276712;3.100377969159920255;1.8974542147447222007;-0.43237391334922381514;-2.647654505249526391;-2.4689412973686528652;1.9727823822763956851;-3.0019028379903995862;-3.265599073871491953;-2.6752556447005919615;-3.8048205243307737788;2.4295906199464738506;2.6451900726651249585;3.8143816925709495003;2.3366118027829019255;-1.6672413114902713271;-3.3157609830526353356;2.0536254691617625845;3.0780249204021079557];
IW1_1 = [-2.2515910083849357548 0.72846354161693693818 1.5535806453949836392 0.56820096204585179844 -1.00731379151956979;0.51757273052186480999 -0.97741029355298481018 -2.0195209433974219415 1.3280119686879958696 -2.407436359624781641;3.3452003492912556482 -1.498642155606991988 0.64187341525362295869 0.73254844844296240769 1.2612211329086850942;0.99151479842515743979 -1.6127707030538724897 -4.0652509629725459561 -3.143989238629432581 -0.81169502249556180207;2.1649798659284744673 -1.2900302236591381089 -0.51924861222739204791 2.0979773117306814711 -1.9061466676720431046;-1.8925168359679647168 1.7527766267923365895 -1.5134397807626043253 -2.4406791776610807787 1.8780635000729299922;1.9120531857469966752 -3.2403525094951071139 3.3377702592123084102 -0.41870184808324439896 0.18827247133639785082;-2.2682094489792858916 1.1320189386155421474 1.5697438495849611595 -2.156388368677052636 1.434509504925530976;1.1081953012423508831 1.1032767850015172684 0.4121930720511203794 -1.2471217341779061716 -1.9139580828292657166;-2.7862309584849542787 -0.99458792552230801398 -1.4412516520953990717 -3.0972892777148848253 1.7636761141131154229;-1.1325219093003406901 2.9371543672883966281 -0.47056010106837403706 3.6422999085992295853 3.9677402152116183487;2.4685053015604219162 2.0993066659167247678 -0.68879832291878162476 0.026514781211087960766 -1.8320283928538743101;-0.8366435871312507544 0.79214805422693412851 -2.5664759749060128691 0.35124499156974209324 -0.31823583619098172459;0.19939982377890519416 -0.42397633843064441717 2.296422628455296433 -2.016424416328130409 0.58398866209400335237;-3.7011789300286834781 -2.7611189052746478723 0.4492964621543564796 -0.078753240390788140091 0.79395182719237478164;0.091341157072990050714 2.0351816776793034691 3.6776294004825138551 -2.3519024583090915037 0.21843303773806002632;1.3995813103680152523 -1.5446076656014902095 2.9602868102447126297 -3.1736630695028744675 0.5847324803515896452;-1.6410192985134310906 2.5827789741229287834 0.93512206220500393439 -0.9832577722347929372 -1.5591399543480379819;-0.22679067992286316979 1.4890615887522935523 -0.60326362898261642886 2.1646749623483332314 -1.0329803031846631622;0.76905961410887579977 -0.27951470796182886769 -4.4583321408293530297 -0.41333299056159800156 4.7487344498788219838;6.1188323834173514726 -5.8353239909857741452 -1.1652739901049569138 -2.5183926807709204887 4.2247659778516073459;-2.3344854592591799403 2.0261910098799695845 -0.36491683984724065937 2.8988772057558485074 -3.7318016216524809714;0.28207758955608575047 -1.8254851917394299132 1.4345955296256378553 -2.6838525049952330903 -0.60940452033350567262;5.0872667980084829153 0.91299421344490894192 1.5565544773138035861 -5.5830223752410343963 8.8442309519360495784;4.3835975546083849608 -0.42800963962407717611 -2.8987733838376699147 1.5416469099658880459 -1.3403046145478543227;0.076791272784408462493 -3.5593856432095543063 0.30622469191800794075 -2.5025546478492710634 -1.6431052928567246862;-4.1451644613312899068 0.30272861099989961664 4.1466058035937036763 2.3323682860641472558 -2.6272414229684102338;1.3875613719499366727 -6.0557644813232753833 -5.8518459505100315354 3.3095801980737094006 -5.5002047382925258745;1.9451973601604668485 -1.5412572434596303328 7.1625316365095033078 -8.7240685439208309759 -4.0047091967105048482;3.7251840725604652427 -3.800988385567336092 1.3020187002204759441 0.0067288143198037456139 -2.1850100117386634935;-0.8654280687554677387 -5.499547322140528216 -3.7634264374156654043 1.1185014285939303136 0.88169299225340291848;-0.73686630158666976964 -0.94960430668411555111 0.29146271377863947061 -9.0821280266224224675 -4.5072127591328419172;-1.359359490089148581 0.64589863812302272805 -1.7689831805037350421 -0.032161176466349625236 -4.0463342261178958381;-4.6106436215539021717 -3.5788645578363040833 -2.2628601418842806403 -4.5132776874216968821 0.25306353685967608591;-6.7718383342229202526 -2.4378073597687928142 -8.1264287172245488478 -14.19457085843737687 -10.529982914445076503;-28.439038543366578438 -2.0458629139279764786 0.92264023352494450858 1.8287270792437144706 -3.3956058476295298831;-1.7786016988933996963 -7.1102980756210927282 11.75855906318719768 3.1221492010261036043 2.9489348769863679145;-3.3577372922912624986 0.59879141147965408987 -2.8606396315851938539 4.3777260748557313974 -1.4786448254325028628;2.7019044190459617916 -3.2882055511153223115 -1.5597234768375534131 1.9955189188727187055 3.6995037789994298372;27.540849122955318506 -4.6241491194138681919 -1.4464877195084402395 4.3469542858157277365 4.1788217029889302978;-2.2622161265909066508 3.0576416067899643281 -1.507031843630499246 2.9669937076662860065 3.0588636676335663189;3.2882412370355238451 9.7857161615382430853 -0.86731270405226124076 -1.1483359031824149632 -5.1488793097540419552;11.602064983758790362 4.8804695354655898143 -2.4010298501786389025 -4.1976869364573738963 1.7909351755714555399;4.315992764502160739 -12.014937251176617039 2.1109576128427685049 5.3108656168054944047 -8.2037910802559643741;-1.5086686450085933231 4.0950499206670105679 3.3995743926322061768 5.5590555152359240054 6.3636008340214615941;0.057973712537224171559 -13.640375757503445442 -10.701771568794459455 5.084220327908100856 -2.9084572679930276173;-7.1614945237312248594 20.294688724472926822 4.8351973258286484736 -5.6393592657692481751 7.4559415575146417154;1.9871786536064712791 4.9313412692939042614 5.3336350269103611765 -2.7064927802328582196 -5.5942995298385556069;-4.4000332647374555961 -3.0095645007253417624 -3.406351298957262852 -1.8833270668711716844 -7.2025831374204223323;2.5069975789330669613 6.8345412691791862514 -5.3506128651446944744 -0.37659495343086080155 -1.5946995633524558844;16.496261431671570108 -15.014129189500613037 -0.60328280765716013612 -2.8134030396060776269 3.6672489393152063464;3.5237221236124334212 -13.362303250887668682 11.996926607343695537 -19.017712841166641624 12.74495268309975593;-22.377567507377001732 -3.7838703989388786653 -2.2501726327225299862 1.6588564685932427611 4.0523840720754984446;-17.833527370115611177 6.4774703692290396262 1.7467020308961791475 -9.0706343007735501516 -7.7869531547451797948;0.7281250818088315091 -1.6857596077026486547 -2.8449135129152622881 -2.6129432116706876599 -3.1807933091163449468;2.0054598666969947196 -5.9804580765167063561 -7.2733115506326333488 -9.9925581361277817649 -6.7244009900502499377;-3.1796523807373406889 7.7278807496788921583 4.8729252297770804248 -2.1853555157340300852 0.0034228594437146139806;-0.1310470952509228959 -0.46383705299404087707 12.097872876995442226 8.8002694993721473082 -4.9692447277768865277;-17.21250493551583105 15.92127746723442705 -6.5302124535915577752 5.6255439998063732077 0.92478833536995030951;7.8481071724321109784 7.7787403452358292455 9.0094576353711861572 6.8786180927905329341 -4.8481419268591467997;-18.259593541675570805 1.6121596977525152194 -2.0557169149390723817 16.723846705047929362 -7.6492109543621840118;7.2099467288301140044 -9.1461013034811493583 -8.0740945311359322289 0.65241151746516301557 0.94477851054664030439;-6.152297815217716348 7.8287816856238841012 5.6328894530346813596 -0.55144895994560028107 -0.13809835891805721797;4.3827890977245793636 1.2883737171651410414 5.0714682966437303335 -5.0335933473739729038 3.2092823162830144135;-14.492205247498919363 -5.1389623071633376838 1.8653140039417026586 4.0710931712343088051 -0.94825358010898097572;2.977008068807203589 -11.599197979314146423 10.036285692086737598 -15.904974751055636517 10.880453269412747375;-1.5804941338141995644 0.91412869792874229535 -3.5570130816719518485 1.1711797839714042091 1.5498895194732129621;2.1520382431644939913 4.4831488626471731607 -4.9799283062590742333 -9.0732453335983898057 -8.2509067058251055471;3.8675777362508387824 1.8568064268491915048 4.5310430560155801061 0.88590956259332553913 5.7758649794785998921;-5.8997951975834332927 4.0972018706874671068 -0.55274850878665493514 0.42565704203001669681 0.57749736089802550243;2.7720120971667530085 0.93912959450854849308 -6.6124198057864935762 -6.2621668488899766558 1.5730628288060213293;3.3918744007186663048 5.4475505982489398349 -0.72082392445474940956 -2.4342779633690381225 2.028928355000096051;-6.0495067147029981669 -1.6671967350303309452 -2.8868454885991021719 11.477892390028895164 1.2473555347472178312;-2.8505233238541110019 -1.2875958189464351555 0.86514049811809978774 2.2946177614842313552 2.1850485095452185647;-3.0491921813628946047 -3.5134892814815006368 1.1044848574775092409 2.0450006845319510518 -0.24679213186958723347;-4.438333936459735618 -0.0032666809422367236448 -0.37360661716932774823 3.0993674595994402665 1.2972627297371170929;-5.9018081146440222184 1.3922679914011082403 -1.762360389346330658 6.718109230551730704 -1.4369039431143697527;-1.6224826030475587579 1.3086905118823277672 1.6013306658362314039 -0.11696886528232160185 -2.7770592528703796908;0.17584564849967601607 -2.7120407358385869578 -2.6215077172565326435 -0.28303859436611111811 1.103592160773629649;-1.0073185342488175653 2.5945710877221990209 -2.0972313001499474083 -1.8798776850496372592 -0.20889557992370572093;-5.3467218631483337532 -2.3679921006890065627 1.1969223255609531265 -2.9826750404604425171 -2.4126770473949927798;-1.2835284735871337336 3.0492994976225711312 -1.8518994137056763449 -2.9697817168410156619 -1.6395649508126299843;3.6363396214381076277 2.4564073126949557135 4.16599645456739065 0.68496044120128640742 3.1669892307253220132;5.5723068489593430286 0.28190727094406098363 -5.1030766959553686135 3.4977924181541393267 3.8495819029046165483;1.5720159805640059325 0.681905290033122502 2.4130428920796136438 1.4447567391177271734 3.3262345534655786139;-4.5833693853053310008 -2.0665576914350967108 1.1249212469644873647 2.656171158162512036 3.9132820444844251817;-1.7311369707931594242 -0.79451917526787207979 -2.9516489354004304957 -2.3322870351541702405 -1.206021774925092771;1.4372296580767836005 -0.82712181283460894932 3.9404659865175180045 0.53638927183646445407 0.26294234720821890727;-2.370056215525186083 -0.068629976657795660477 2.5804506449793884748 2.0541928181731297087 -0.36958078271857652819;-0.15193563551236077824 -0.80872175917857247462 4.7288257305039032019 0.04708906228658112092 0.83913058335275758637;-1.7649942593896872367 0.26085988106117974361 -0.81236031508657846611 2.0638972300763969159 -0.024380898730862635843;-0.7604878355937518819 -1.7476527819611051839 -3.5876056632362947063 3.0275498029741179096 2.5031048848281751695;1.6951616492080250342 -0.72289593530959628254 3.5841081025608563237 1.4136660380517793723 1.0221437398218180537;3.9854422311151807001 2.7031960966859402973 -3.6039511213697128511 0.42367351697472560579 -3.2497174822321088783;0.87244865337864130339 1.2684414813667048705 2.4738083532881045556 -2.1471626777192223123 -1.23357481944802716;1.863889619474580206 1.2127317261295254003 -1.9931852801529017505 1.7817080672146450304 1.9891223527442789543;-4.7973610263425463529 1.0184418844860998465 2.2380336528274114016 1.2913549485666826477 -1.0707966617566659906;-0.89068137055321361384 2.6845718275573497991 2.1108604601986451499 -1.6661330055593688293 1.4584140823784583763;0.75621421954094214524 -0.89171658826746880155 -2.2311286177402229747 -0.70234696156208142881 -1.193524503901857603;1.9525741513475805 -0.060124750500469961723 -2.0006374537568403227 0.10010805830979541131 3.1349650107897004681];

% Layer 2
b2 = [0.10821762011823195249;1.2914946813082766042;0.98788708889591492213];
LW2_1 = [-0.028133646907956191136 1.2214790159569604011 -2.8582702915144357902 1.2119076407882884983 0.72497840488968368078 0.12784566643836886568 -1.290099586935441689 1.6368786808030302282 -1.2568624295982611105 -1.3294108895158933681 -0.96815213620112472448 1.2059378485950760229 -3.0320254617594462054 2.0340343861271312775 -0.75166814880775434382 -1.4457781578094797137 1.0892624454026289538 0.44453892462837213406 2.0710231979655255863 0.65200815543165402399 -0.27699728509966470291 0.56838286377350522027 -1.2544292653015476358 0.45745622586762479944 0.051370957954802135004 1.3770180971097834011 0.60947060837364219754 0.48506811743470257259 0.28989691885734047982 -0.077051111052035714533 0.8522171442578030387 0.58879773142468361247 0.51851138032868071548 0.18596845409438747532 -0.4431431258799523043 0.62341404822040780154 0.2922744784322431344 0.71974393035463901658 0.7243686374818453233 0.58561118061011208091 -0.97865543567080937049 -0.77860314750894876745 -2.341091557910226939 -0.64371660750312320598 -0.057888881256844305911 -0.33214019427089469527 -0.47072499181911731103 0.97494501460238480739 0.58486883529984767804 1.160365562515253357 -0.64461492617667359717 -0.86132565599336663453 0.29400163911169874265 0.21100033127886444473 -0.36157138776458158658 0.099747849213392636436 -1.0867181869102811032 0.25535450816615140601 -0.45693684533238920764 -0.1145765556409610586 -0.50205282248324245575 2.1476035976395091431 2.8592166809987729081 0.76386063413109628328 -2.4746091792177060675 0.8313865542461473801 1.2998260803905259397 0.22493644674636525949 -0.31779088376702468999 1.0961547544567249446 -0.44363801847338357742 0.15777518925843558861 0.7301148042711227415 0.5054170852880119913 -0.62563769417529657701 -0.78674669708631861376 -0.51978079328006776549 -0.12923300633759929323 2.4057812638284925555 1.5748309422318775841 0.4029817275184219838 -0.78689013164576049331 -0.22413108114178481589 -0.014892626205947803036 1.1021564269703505445 -0.16713686522013504465 0.01679088859586853888 1.7587196660614754506 -2.6434065088784377551 -1.4052934157921137537 -0.29528914274474032942 0.93114161062593048257 1.3479394734471490391 0.42219239111037121237 -2.0233250528612654051 1.0801445609551170168 -0.50869235246471822265 -0.15724222072330243383 -2.8328723505773738545 -2.9155369520847620457;1.6378452201193076654 -0.62620896746818321965 2.3401374988089731488 -0.52777268876238181416 1.8332241684337375887 -0.2672286434834490465 1.4869976589713498338 1.8757490104920921947 -3.8716584631534369798 0.59016348312688904354 0.32686628490477914744 2.0842451762684750527 3.1336914860074429612 -0.76540627171023678521 -0.67422834695765421209 0.36165089210460366065 0.01634185063180745856 -1.4169288922825473698 -1.9073738556363872831 0.20306674644181718636 0.46042479038035188932 0.90200555948307514775 1.2792085892674527337 0.013426692365195551371 -0.49725817463893023929 0.14463730553310275018 0.63681443382367608486 0.16017729646976208713 0.40182960548770657594 0.70109525825921092945 -0.55618772820162576398 0.40540461743910832793 0.77221765491809424287 -0.52055300689927008762 -0.064500334622721408606 0.4469964454645810048 -0.26725844933722975316 1.446054430985526551 -0.23970998698555828765 0.43864901611740841902 1.2474071286473076281 -0.4361709071019864159 -0.71934720432251764155 -0.4308081093822690999 -0.25253893702473623195 -0.29052153302532440771 -0.33129904877284438447 0.015166403847054426776 -0.046224079677363388852 -0.067783315391536591576 -0.54104994337898659751 -1.434790845738025844 0.51619775491114028299 -0.17497250818030807284 0.15037636401603982073 -0.091237813168666498376 0.55349394211349856043 0.13713552342887358471 -0.38794619094222532185 -0.26941863332187876434 -0.10156830824513943257 -0.56304326220400358061 -1.080493298445835304 0.29300162907277749191 -1.0598317165186732502 1.4853873635929655261 -0.18248195545928388994 -0.13974495570853021076 0.40351939129090214076 0.015812696512740784943 -0.2416116091237990593 -1.3927158517871487398 0.14640190668758779058 0.25531402971162692195 -2.1488813268997462025 1.1973324409064620699 -0.42022069212295870555 2.8167346234408334738 -1.8568203645541991875 -0.86234821178470266734 -0.95401431455884833088 1.7146966617754400009 0.22416514206733170744 -0.27989322306566533083 -0.5502973135920222747 -0.12061796639269689591 -0.12730406708637914681 -1.0572404462651894264 0.96366862748276871375 1.1630352312228495748 -0.77945463636343437219 -0.59794413714075578259 -0.50089016855969670239 -0.44861784194864334774 -0.043124455025722999157 -0.31881925446557152215 -0.79168058776624716799 -1.6055489692122242307 -0.34640118259045593607 1.1743196247738769689;1.9330305456167413691 -1.053164192982981584 1.0179076715111605722 -0.2654386139217511098 1.8991693306947696751 -2.296896657759820215 -0.26968991204708048226 2.3511037283996305547 1.1534074312386000116 -0.061412981838807112478 0.28538068260718080227 0.098447219687663456433 0.40979010193577070087 -0.3978403531409915872 -0.22671976006587252206 0.079157966322227601985 0.54481414510778158888 -1.0867934688742486582 1.2080536303126738762 -0.24851640202770361454 0.166692915847553913 -1.9828794606629080999 0.89204913520856443654 0.0051439763134479054088 -0.58012418393232201286 -0.73228316242150726101 -0.012313060885363658059 0.0922706724339768386 0.30092605589130144716 -0.10196596966801427242 -0.14315872460045381276 0.14780256081689260861 -0.7508737501248829993 -0.054374104513368777536 -0.15872370837471663774 0.050824550802797109628 -0.22262591049255728293 1.0231298216876096863 0.50822649161225708081 -0.049783334142209853534 0.07975792842046601494 -0.30092961179297506025 -0.5304974727347234742 0.00091826628314385649876 0.76533909226832752548 0.013977996471253743838 0.11185184609058407279 0.1226378914402092013 0.27400710026779151463 0.1253330642056648403 -0.25745686874907058872 0.22829175718655342342 0.15083201581036687067 0.075710991829872731351 1.4181035521893816664 -0.37782028344441476175 0.52820097934380094706 -0.02307819965266979037 -0.23226317835720033944 -0.15895925535829380504 0.00017850965265162575812 -0.43401935554493087377 -0.78925474679677032341 0.4289708233373087376 -0.66007112784697896668 -0.28673927490567208132 0.0058509601919964054212 -0.16550900704467377822 0.75759838357585196356 0.01956854127714342112 0.13012639924178096007 -0.40331294987128246676 0.1362144173445375972 -2.4104901923726096413 -0.17543982630735768802 0.26847116686883631953 -0.15443248030865153186 -1.145063952666224294 -0.0024492878403307577484 0.40064877161289580432 0.6344392967307586062 -1.0924688461946969742 -1.429610675015790644 0.014886182438481939533 -0.60304734055972353257 1.1467522176062550088 -2.3987887033198282971 0.5866360365616777317 -2.4413297574635417497 0.32681882060273348412 4.1554233020900497309 -0.40963029646538351436 -1.5063532031575790349 0.18024674417370586954 -0.47029495613711869151 -1.0206968135891056892 0.23554705454471069892 0.66607777418736013875 0.26615669724880003377 0.93624582713266557565];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
