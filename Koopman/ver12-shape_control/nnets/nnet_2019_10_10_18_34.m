function [Y,Xf,Af] = nnet_2019_10_10_18_34(X,~,~)
%NNET_2019_10_10_18_34 neural network simulation function.
%
% Auto-generated by MATLAB, 10-Oct-2019 18:34:14.
% 
% [Y] = nnet_2019_10_10_18_34(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.328467178422582;-0.911048438302258;-0.234011224382851;-0.073243651031802;-0.234037138681609;-1.07546003026704e-12;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [2.87695026827503;1.55373290187769;4.89056550653878;11.6697870896223;5.72628250700984;773830090669.184;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.7307462218400253562;1.761879748937874357;1.8301080306325672176;-1.5222013504530951256;-0.84573610767980478276;1.4379144785300257414;-0.28351917728165310084;1.8657252427442312381;-0.30811730876366383303;0.10432386163462957496;-0.024274114733954306466;-0.11937391804571705067;0.12465930976269920527;0.095351627653552539776;0.04166357417593598983;-0.017622922007499527974;-0.080529005940577089162;0.050960826527905171701;0.75561542966861572346;0.024829464189260297413;-0.047316140764496597559;0.85643208594031650094;-1.3460816793197687424;-1.2779793514124027087;1.4729255180793903168;-1.0011947913406196164;1.4155116128173252932;-3.2362334133874575137;-1.3882380943358363368;1.7229540853961453628];
IW1_1 = [-0.21049767643176806042 0.48066310895288483218 0.12893652511639722147 -0.1536722988328744488 -0.53888846286379787909 0.011863471997729144528 -0.39521187611779973192 0.7965773794380633932 0.60335161795378344785 0.70612894511120793961 -0.75203585399204098128 -0.3433324215954392522;-0.12179555953363956078 -0.32486488987362222014 0.2073864083014541615 -0.19421438091140261206 -0.51258914874813032991 -0.34549991154703152407 -1.7322753454572257237 -0.23992502782881092172 -0.091251529750016727172 0.18901296428147748574 -0.16327710508075554685 -0.17167541191306295856;-0.24221896820182875487 -0.23571173965345820767 0.13403040239310359816 0.075300828043338582929 0.81161837145299853269 0.43255938086866752013 0.53391682721556499303 1.0478942639621851018 1.2166155279144656998 -0.57535264861384205481 0.067799620479039812704 -0.15537686857841442878;0.72963673510014215307 0.36388541456335204982 0.083939725601052950221 0.12435860714386706705 -0.53206963016397923472 0.93557051472187302554 0.45353134771707148687 -0.47035691782484628787 -0.23462407566686627192 -0.45782486564033042509 0.33171136781704341212 0.30929893828053650617;-0.019111338593378782158 0.26723439589820796591 -0.25763283557803456914 0.53501602606820530816 -0.51581783996837626827 -0.25106011446741427484 -1.324630145209723775 -1.1750908638365160641 -0.61124310431314987646 -0.30357215842697476971 -0.23116214518398581212 -0.08733042119322516339;-0.68062490829332067399 0.098353148884269769869 -0.39107265519181527713 0.67843858217065666771 -0.219161699917004682 -0.057211894127126808329 -0.82775875389550246375 -0.4648441721851651609 -0.017051837241546772411 -0.21551880359147707056 -0.85672324309495628825 -0.26491530939320284688;0.034302042884327005323 0.87641172538353562249 0.01216011137134489356 -0.32558547346826410829 -0.77621560527035260435 -0.46409116843964959287 0.013294840702512099317 0.53581268949793459111 0.78002444898230971493 -0.25168990233927629463 -0.45116677222651485613 -0.34583707848146461039;-0.35058570028757451986 0.28589686427555149884 -0.22492996150439939496 0.27210360170086983489 0.13030133507337549048 -0.50019866949676827783 0.10629432784057625538 0.49003973702990222261 0.86667457357339428015 0.41124412960094497427 0.38945107146445717694 -0.091462566602104042324;0.28839521710170745727 0.79081019876776159627 0.24427949980323446222 -0.22715225036622987975 0.12773794756515352566 0.35215015617170369877 -0.56243769031932910885 -0.68680443802148605226 -0.43635797001893356084 -0.078376612480327720323 0.071731263378017717791 -0.00204908797857240952;0.68415227726665350794 -0.19210450499363929122 0.33928557892234495474 -0.37412741071066812903 0.052346716294246961598 0.334587366240184092 -0.068081237051130658045 -0.59417256447999067248 0.51823479278642681223 0.54675030965120918758 0.49363541668558463815 -0.024191847304552011044;0.17559903977205501557 0.040625645851277425447 0.31129278466649534796 -0.27477690837846746597 -0.10464276051653892408 0.15149362103848371119 0.16745390089474457285 -0.4285930333640356471 0.45674491242084608311 0.33268098545042912306 -0.19128188346511348916 0.25774609102731377286;0.014767049112813634276 0.11562910473508673792 0.057192296798852917949 0.041014170218830608983 -0.056632727410749691965 0.0063848023849472669566 0.1879639829543403029 -0.56588948940259953257 -0.17759700408307788067 0.076983867618547988099 -0.37674910542823991655 -0.084130405768711266634;0.061080530365752595812 -0.04490121225325380272 0.73225427899249850849 -0.065251327259907968004 0.24304974462120154666 0.75174167789718360222 0.53170743908689677149 0.68010349568657624264 -0.46951694794126586086 0.099335609292489898681 0.0083232905451995319035 0.23105759244892831727;-0.36819237902057327938 -0.63062804879313216766 -0.23804309716100988115 -0.10615089990835351041 0.33941619961301100483 -0.17185018731303744466 -0.4338343065461964243 -0.88294267003806947702 -1.5430774810525966778 -0.1032062309150892504 -0.20790413558885506573 0.035866244497448546147;-1.05701533653573021 0.25156344196339697206 0.15743568619423536914 0.3795328686200761803 -0.34287005453570945646 -0.019768525684734906261 1.6326776459575207401 1.5928205668293340391 0.98970293579271528817 0.48866401486294958056 0.23752865870163841766 0.1149005802444527935;-0.49387415183964084031 -0.57087893299454128826 -0.070585574641223655656 -0.17350974288185716521 0.34969901558685573262 0.038266970667647073889 -1.2353860464763426474 -1.1449520771550802944 -0.64336362803192870263 -0.19383178033873263435 -0.21055581380809740288 -0.11116136888187931608;0.40822189908949413351 0.36621604767591708907 -0.61918482051484247108 -0.25235039553671301249 -0.25005833309810859832 -0.80879310918490465721 0.41693819531446280058 0.039400543588853587096 0.14713409222156415002 0.96924962893073618453 0.55922044461990605413 0.20933126459088380322;0.0097498591721895608297 0.010282956018067716808 -0.0012122300539081001108 -0.044570496882301378905 -0.043423804708860695711 -0.038282248082995885829 0.094874370535971530582 -0.058787872718384724668 -0.52845185252895310324 0.20651986009858808169 -0.022236848492861657767 -0.50821399174319570324;-0.33537160079544314772 -0.97371752146051815391 -0.032518233376024649472 0.095616610195837170583 -0.077098947783971749637 -0.21151877363014423561 -1.6775908520817066627 -1.2127324283322769016 -0.6979717472569697545 -0.35079742408096353801 -0.37069139365625358717 -0.23606639681711663603;0.01555726630025480034 0.26584249334403975418 0.064580226547917202184 -0.45197877820115006653 -0.40451817339028239839 -0.26966793665774918543 0.10094512955942878951 -0.73145218916764087602 -0.19687498579618728511 -0.64804554621028698236 0.043818018733799833642 0.0068836085307458182159;0.50858668787608940498 0.1839095912144804168 0.0095185896141236001067 0.25240239231026634359 -0.025369807899005406004 0.11397650540296250243 -1.8921889898913244465 0.44495994429516860791 0.31574384107307157388 -0.63213148655619177951 -0.05836388409739610289 0.042086586432089206911;-0.17971665825161181607 1.1907250556113515572 0.92690325928258920918 0.11927643273471366658 -0.94094280314722866798 -0.16194637340242334922 -0.9126488222146600382 0.3431375935205683847 0.12456815927754356921 0.0090190025608070378826 -0.14559136329329167014 -0.13940911484387488728;-1.1864383831372597999 0.14927551324294388579 -0.64773497218854736435 0.68380082399233355073 0.19591638469756786356 -0.43288826250631057269 -0.44656326539169749479 0.38217211453582838887 0.48688500336227580334 1.4581265863513630521 0.038762956785225004264 -0.1431113182545865059;-0.25044427785764761252 -0.070629005895834456874 0.85485801201828193197 -0.10681560971493747614 0.31800250001708085801 0.6233737906912510951 -0.51714766485182206424 -0.45959728930496435151 -0.015340473212531693936 0.9957050634360353758 -0.8027884183771254456 -0.37457884912833927515;0.56392760392004126491 0.13541423762703605482 0.75354777984588039441 -0.31139284766408570349 -0.12578545305797955711 0.48504458837653952052 0.75935939883048120258 -0.99456668059792152636 -0.4700555252155149133 0.15380618081126148922 0.67844258399177170826 0.2428483239432634444;-0.50267613327713733806 0.42845822137451827771 -0.43535794052162357648 0.21629056554657560829 0.51947017500246739363 -0.12573898840513955677 -1.6071012358448160118 -1.3253141916427422231 -0.74439788299102149782 -0.31941151081317281646 -0.33017911119629872463 -0.16102699503195577746;0.67647377222982307821 0.299443067424517817 0.44220678411117675388 -0.92452562233821899973 -0.14877486203910728069 -0.317582829466598493 -0.246027080775739454 -0.4816571697797200069 -1.457170227775678617 0.49337729959884979447 0.19580862045840563557 0.35993140024700503998;0.2726065473015363283 0.43735216254189085427 -0.86436874765149218636 0.3160229291999008816 0.26926740902433732305 0.56252031737767338448 0.90546687589517460548 0.85696333590919682166 1.1115799205642682423 -0.31255247376183759034 0.44056380139492967718 0.0057079905427194184767;-0.92575667937924599471 0.33634580962888793731 0.42232068030202590814 0.45516785636364309742 0.28708425326335762495 0.38733972173169672892 -0.6697585577110167776 -0.27596051700499862891 0.10026908242623859546 1.4779711263643300345 -0.34615860061660036484 -0.28510004416531575799;-0.37129598776597511067 -0.14673798594920978156 0.77402620932841270651 0.30793524679398498467 0.39031631175864767158 0.016216365889378192566 -0.410377207885663009 -0.71604444675414669064 1.1456842153597026623 -0.767017131576333 -0.41804960000874530346 -0.59836034981660535248];

% Layer 2
b2 = [0.48285754331459995736;0.13121269938512764019;-0.097787671984924690038];
LW2_1 = [0.88614621962037654068 0.78801315599380117316 -0.76819629434614344898 -0.66287506780092575465 -1.1425544324576282218 -0.36016723629300567699 1.063730214619385217 0.71874754581532951381 -1.3809235581082468514 -1.0110894108153498649 0.9916868085270024169 -0.34284819789629739084 -0.67302558776522247719 0.54873993970646350871 -1.8677391226748427666 -3.2966749342053867089 0.72139012839544125466 0.58246691177667520023 0.73020938117612710361 0.78628363211280916101 -0.038795542094347865159 -1.5682380458225693154 -0.091334090907245618629 -0.58196580351676852061 0.88016383957024013629 1.7588653275172116963 0.56475435291468456533 1.053793246432960018 0.32394503378389527537 -0.12749990404798255961;-0.005747173881216836866 0.14058754344279489334 -0.58446239158249357892 -0.26941646583948775096 -0.84636785388587909562 0.23671305997116209863 0.71943405342386412826 0.64209074980951141853 -0.96293364076369269977 -0.46916525639570827444 -0.014412496409363168698 -1.9077633350462477324 -0.29040023092409533723 0.43909738014140359263 -1.3409866255179299088 -2.4876466353619361982 0.43557917962762776609 0.29909766448143176865 0.58180663006771682344 0.91014424133491100832 0.13157182866879665872 -0.42980799501263389217 0.57376698557614058682 0.36966693757857743696 0.06577620015336976822 1.3430040776772265154 0.44326660323679289988 0.80532761926756291082 -0.64620375494121895521 -0.1786322747756321494;-0.12272279120194713731 0.11289319829249204463 -0.12896106505239518514 0.056290403208549610881 -0.216721443933946184 0.0010982057901902063379 0.1432903265660726011 0.8707654841663372558 -0.2323556619083460284 -0.45120957714450293796 0.65532777310223411238 -0.27448009741093515323 -0.44560468377681994312 -0.06184270557339446861 -0.34876292145379322873 -0.71995954497032654817 0.21572980574586958502 -0.81071383936291097072 0.20496556937665891263 0.22409469398606146617 0.03972364587441664513 -0.18137018587177050621 0.40759631347297886617 0.23496356594300399356 0.044007146085894233156 0.42963089160517192733 -0.022626752330285375414 0.47549816983071796495 -0.42042133120869146223 0.053478608322412288234];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
