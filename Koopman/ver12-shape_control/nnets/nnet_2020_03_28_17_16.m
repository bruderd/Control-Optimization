function [Y,Xf,Af] = nnet_2020_03_28_17_16(X,~,~)
%NNET_2020_03_28_17_16 neural network simulation function.
%
% Auto-generated by MATLAB, 28-Mar-2020 17:16:56.
% 
% [Y] = nnet_2020_03_28_17_16(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 14xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.30887666988091;-3.89102432483435;-1.32466327389363;-1.96945193671089;-1.10119460651421;-1.03262581747675;-1.06186380980352;-0.772090286803098;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.409442544496823;0.43122733656502;0.53360686348492;0.671082671048524;1.02502008734479;1.09062002988702;1.0340308010415;0.947850876049821;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.7987580495749362353;1.6874007036431211137;1.5569521271101145476;1.9341257951783878966;1.0266490100887204484;-0.88451594830506263811;0.90766320227924535136;0.74064748567554972158;-0.70873523891479828229;1.0157306475256544509;0.41866808204006333849;0.15923483547362346502;-0.45987912527656760187;0.31055645144536087043;0.18570601132147626644;0.85687017221205319384;0.49261478508118156094;0.25463409019126737043;0.62551415763208051413;0.11859508409587594946;0.44248735230543390085;0.66124206515918704241;-1.1620746772783914214;-0.90160713081329835195;-1.1398882894851753989;1.0192418071096709387;-0.75678866121864296623;-1.8385626484718273765;-1.3627846172871971309;1.7800726606640155936];
IW1_1 = [-0.19256071406686339764 -0.37398637378077154159 0.26445808129615216986 -0.029871488332362337165 0.29533351428247622827 -0.032603934703193580835 -0.5146596823218091421 0.56119269828131257416 -0.92589205189509249383 1.1953006157434220569 -0.62129336591806549883 0.73454574419865104051 0.30057015946620224689 -0.32518511245765124862;0.090694911445884374146 0.18677945126210254712 -0.18786016411715730778 -1.0263320790114360825 0.4152790000219723221 -0.25312359965808778339 -0.19921019094823064211 0.11536038478172361277 0.62967302219514187378 -0.62622096951987227254 -0.688343445127162612 0.73010274084841120246 -0.40093902357938970837 0.61105374538265333495;0.090773018168404107087 0.14560035751134431381 -0.015691497899813285077 0.046528024479802365665 0.45195665021652514648 -0.16335062926008916961 -0.35052781287190692971 -0.029716263830344553237 0.66600642255483433196 -0.48817924679862351178 0.27058892728425765206 0.68767240298204246329 -0.96548166003414259695 0.080761143532716517246;-0.058337042984579319527 -0.15217003222910646665 0.61356962890558397472 0.034961700244036816865 0.3144752669045116078 0.63516699966450906878 -0.34981048112416812668 0.14094115152988864748 0.71735850380404453386 0.66352787446968830576 -0.58824815660496931891 -0.40665662782090628014 -0.74021401964101218862 -0.20052828010583859109;0.18066567219131443589 0.28039895915467094589 0.6162554617328466211 0.13840602658735479125 0.21385753048069530702 0.65532662441102795814 0.55114619661274222295 0.48093581633448900803 0.92171532182175697212 0.33318131264224887245 0.88702471914657565755 0.2048088555699466573 -0.60205983001560336998 0.1572751885237267111;1.0245053618355399738 0.01507632644629807589 -0.0068161546894915762962 0.34159136553804458902 -0.34025553301979521992 0.40046116524438818418 0.15801056074326916279 0.1967462023287046835 0.31324617281410521707 0.41498852259591756386 -0.7225718210262047636 -0.29829511868231850524 0.12718382412333881226 -0.068864867486912367811;0.35839221053214126433 -0.18144265584857360851 -0.20095910226169524937 1.1060982022279617354 -0.20099870474430792111 0.105437821785616892 0.11155508438866777732 -0.30524728050387828215 0.46110441089561565731 0.12860916835478802822 0.88824407741706368213 -0.35297926590431311089 0.62786525981266549934 0.30768099967067552569;-0.08536693886433815992 -0.95801480328220722793 -0.2321487547106200755 -1.10198579828108989 -0.34507069190569344963 0.019241258719696688329 -0.22506542673476132022 -0.56165573557697567875 -0.095031600767855536893 0.28128006585015169483 0.3465554226776851876 -0.98439511690268532984 -0.5247975759717364852 -0.36336454189556849359;0.27149334346581233124 1.0127691737280273276 -0.23703603147762652981 -0.74738079088303743802 0.065793317393246161795 0.18260200269717727362 -0.074464973848058307881 0.33316493892536125365 0.11011604294619159461 0.086754874319635799651 -0.90259572021583966972 0.48453802833361742097 0.34216627976576563519 0.30136070900238376424;-0.17309035189239388441 -0.074143980468559689267 0.4665980126539366335 -0.41609068066186905011 -0.18168549270045075694 -0.025629039462305356484 -0.13150201274522965722 -1.0530551961429555075 -0.8251158702702019454 -0.43290249764804211718 -0.25905487316216296856 0.23105227793134922032 0.10753036594249935909 0.32562242864585250191;-0.2141670499560338059 -0.51316308793866527438 -0.51046417774034535952 -0.38598451689318752367 0.592910590687480199 -0.82423303679769377439 0.66612038894682268353 0.0037945407282137626204 0.43090497313637049492 0.12749421494170909419 -1.058396488747278541 -0.10521473313003504302 -0.75751344890862637449 0.12557125901301793847;0.39122261154236898095 0.81234834100665087586 -0.24058080236325452006 0.70142326140377475596 0.80472261399466105125 -0.38432239085340791362 0.70328135793612267523 -0.48990845087533596569 -0.11941084654522371444 -0.96745321973463338505 0.69479920075273071678 0.15180044960339553195 0.33298432526164567502 -0.31873824814306850328;0.023031539974914031627 0.71846819645903070573 -0.29011065312108574865 -1.1276051287121400257 0.1295822310468508487 -0.41498405033472773873 0.72199356751421694955 0.58093684750680119055 -0.23623882639632956537 0.14396875932972152956 0.20742315385918405624 -0.44581592748514187186 -0.73513283716531185874 0.32626399784803983284;0.38059692415100510043 0.21155956137568451836 0.29505822008583199034 0.10515821441318387586 0.35593025132730815585 -0.0092686323837340989229 -0.94019045272050993933 -0.36151942967123656958 0.8306538421069215028 0.13237842058674345602 -0.3504592380385117556 0.54487264769499621497 -0.39572185349288291345 0.53931681739785386487;-0.0043738414704829059465 0.46094945775865181492 0.18264874790695151408 -0.4759156768532749604 -0.36740233796284876844 -0.50911406221166244368 -0.15649090056445952301 0.31837008963606672207 -0.28402217815162561498 0.1964412484988926344 0.31067299667449460587 -0.12161246751558069112 0.44831371739176933966 -0.45494151401864457718;-0.29584098951559767432 0.41156369015288163382 0.26232025621351190425 -0.33308374006732549555 -0.18593897083888050181 -0.74899630320997057087 -0.13810708933935450515 0.0033281926112050594369 -0.60064796197164593838 0.15698482633967147937 -0.31193588931406784903 0.16918553706484018573 0.64008821085470024581 -0.53573790445092295265;0.35269823027314112229 0.66268290418494502081 0.19754036022450965904 -0.21006416618632603455 0.48661701611220664621 -0.18170825463905662667 0.15456995728941397283 0.25828099472474108644 0.35345003270526598182 -0.1667822433956585304 -0.76191968966493572868 0.26201655347096891591 0.51770589166170999373 0.16511441544088209521;-0.17606116221910378394 -0.046356293898383540975 0.12401280761436561662 -0.19872897357300131627 0.20139544255638008874 -0.27862785784278731871 -0.31513744422699924153 -0.20676582697879319905 -0.24032601314130744297 0.59889981150509563612 -0.18359441331636328076 -0.25844426631436528963 -0.053951363153832650188 -0.50885994235061071667;0.20377522985924206855 0.24740417368286390931 -0.060532538113669084878 -0.3872203211051800098 0.15427669077339181691 0.020790480594117564245 -0.314450593936013989 -0.16957229956997862952 0.28778345532595411838 0.174076490553155383 1.1603941498807874844 -0.080442483996672670132 0.39940601163675437668 -0.84413720519846013879;0.49084849250556289446 0.089490742812514234572 -0.5197175409480194741 0.0049719762127076998909 0.52899378859760415317 0.12982783717496079734 0.061460263433402495536 0.13613489311315152275 0.21290642562272305005 0.079010358596731306013 0.48264855387203692283 -0.17146322287948465024 -0.070659601826870227503 0.65487548730381295314;0.63394993549652878251 0.16077993483218791515 -0.0083930438841381682646 0.46871754550118738258 -0.59521893684510129852 -0.24780930981897464349 -0.55795817453636475935 0.14362930355292424789 -0.16397973045612437848 -0.11399982127214028371 0.38287759488873540636 0.048337545445641637298 0.18772438055492368658 0.34907549750505256769;0.058046319951402955417 0.45360833433918340551 -0.34546346272786543352 -0.04921056535985365854 -0.11529150719382244561 -0.60711425863852375162 0.12029449589103007046 -0.22992112290980512568 -0.68352739900492287539 -0.09473194569800562348 -0.58862303784613534408 0.17711348634406301472 0.80478075310972085887 0.34549136749550629633;-0.62007355312727974184 0.18599833157929868133 -0.050671854560154758196 -0.36567452359533897388 -0.013038592561039855089 0.62899176926934252663 -0.15829860564253478428 0.087463242381852795981 -0.34644880784797266182 0.96721928578285276679 -0.14990231800650166694 -0.33917232148586168305 -0.79664932047576786367 -0.36188868754594799571;0.016019926058537647257 -0.1194487533011255459 -0.29738263602131864705 0.13976594318727067479 0.10451603296493534867 0.75804407327317036014 0.098013143080153214415 0.50141223339067231279 0.36556914551076785669 -0.080533347209195860206 0.78505658221058494117 -0.51458347589540820444 -0.52708349135454224399 0.45489889018156054457;-0.099923166244867661634 -0.4386557773646656555 0.27930000674395388804 -0.53679162189859719323 0.13931061456039403601 0.33434742604183165238 0.32790943835667740736 0.020657381119686527016 -1.0900215253533196424 0.20704379570316550074 -0.34376889787479353311 0.64124822316963403512 -0.01525168472313816366 -0.45507311303931319291;0.046933167830066541137 -0.38509311584335659262 -0.42462662962180941495 1.0762312117208827633 0.44742378381805519849 0.61101426549447412917 0.34984077136123126195 -0.55416082420629564353 -0.11525306170222070212 -0.37288759586919451028 0.58398270459863033111 0.048260614404104500152 -0.48034461291155794438 -0.41235876259818959877;0.10548088435956477771 0.17170497607312620869 0.32562094268959429488 -0.24155797130945627638 0.33943061973223315198 -0.29270604506977970782 -0.64733233309887783236 -0.25812926799128715905 -1.4034414438849220907 0.47369606010373010996 0.094626444006500748385 0.40635375233658804772 0.044285749250883112149 -0.038505914058600619609;-0.51920298807587672574 -0.72691185156550275348 -0.61025040025457655268 0.15661063436167438345 -0.23186204894987069713 -0.43426155783907155472 0.16074940092027428795 0.069679256225956595627 0.46176677405685562228 0.10680177969910367719 0.78443132801478943072 0.3369916276306007541 0.52303863749560863816 -0.68249902259767725177;-0.4265012927197546766 -0.58534551126179934499 0.19517666903807023848 -0.090079775647166723807 -0.65716046834134400623 0.060030197475756177927 -0.17219304913435851123 1.106720576084447849 -0.24371151330074117269 0.27751266860191931007 0.26807329630657439345 -0.60531780144466973415 0.22935604896235869954 0.60249494465480257777;-0.45305383174043251104 -0.1332655813156225777 -0.13199354671361196445 -0.023837131792508948341 0.44334410684486591503 -0.25622807618819887221 0.25310054497415324093 0.015142359749318826806 0.0067597093672515122173 0.2909404039105875639 -0.6384686018274212671 -0.69998949713846669862 -0.475361703493589971 -0.65618715853016618134];

% Layer 2
b2 = [0.36444782431852268401;0.68773932714754115736];
LW2_1 = [0.71598926599533252446 0.32745197780916979191 -0.76468314528480851866 0.74924732395453275124 -0.51445243442251775701 0.65125205390350204837 0.051940567441125039261 0.011986974646753367074 -0.1990658866121019499 0.29744420250090536362 0.028774418859362368983 0.14740370280317102725 0.007909997520159608303 0.36429180776205072334 -0.12475706626893802442 0.40729567598481891677 0.69604028468928069717 -0.61038764389851041248 0.15484146389655659148 0.16413370959219791834 -0.10835269965778498991 -0.43928301133976133119 0.24722608792217903861 -0.31374699691662361056 -0.35560896068558978111 -0.18791855448424124586 -0.69579433236984411515 0.84976968842111788582 -0.26685818365688290799 0.076975191065067283258;-1.0327501397356024793 -0.34497662036154652654 -0.37574152532089394319 -0.73361197493260565938 0.84155837524618126722 -1.0405404756927922882 -0.27960596664845760451 0.49575443667516561064 0.59422628146910461133 -0.52147898522064506377 -0.30801890511229884639 -0.39630175541338341638 -0.6433055212928605604 -0.54888864615174259853 0.99499458342701596614 -1.3439515459645350326 0.25004206645541293685 0.59903994861561482566 -0.93278615907496886805 0.35122606401945188903 -0.65949825458229038855 0.52632954787502495009 -0.58485636818525921221 -0.3402404478566853907 -0.54694838378049592809 0.86746617143587645415 1.029911527459102194 0.22914109526019907359 0.63276595110380962073 -0.90001006064688038322];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
