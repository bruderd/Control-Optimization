function [Y,Xf,Af] = nnet_2019_10_10_18_14(X,~,~)
%NNET_2019_10_10_18_14 neural network simulation function.
%
% Auto-generated by MATLAB, 10-Oct-2019 18:14:37.
% 
% [Y] = nnet_2019_10_10_18_14(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.12520182470669;-0.919903580947738;-0.964677203024396;-0.629975818805019;-1;-1];
x1_step1.gain = [1.02168829524382;1.07363252809921;1.1531025043986;1.59009301111279;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.8077960639203045634;-2.7379102365444594192;2.5125153192136209235;2.8464725247610918046;1.9866744686763901928;1.8706540391886159469;0.95751873152088229357;1.1885752735417207671;1.8692574522251963476;0.54075251872159224575;-0.20293408580818883546;0.26024361770660636717;-0.56358670881989547663;0.58794575664673220938;-0.37372148400172749971;-0.54772583387817175282;-0.077466347984064876098;0.12555972278913396512;-0.59226358765429321096;-1.4865199334664198627;-1.6994356393269687278;-0.49407770702820719144;1.2364126607924781354;0.50312457242406760649;-1.4245961077281110718;-1.6308447079621313236;-1.8129097257941912957;-1.7961604390482637239;-2.4356118419511880724;2.6948874839324257202];
IW1_1 = [1.4887738500619907001 -0.9585442386431887174 -1.8803968919139064653 -1.4000087243795520386 -0.82872749733381356751 0.15680409615569312898;1.2838657599552514288 0.52621119570320695757 -0.72532777721149477301 -0.013732763090333877792 0.14832173961215386337 -2.3360206344156235758;-2.9253889736784035591 0.51710908554331691533 -2.0310942630476840343 -0.83986225357489707743 2.2461848081175221914 -1.1348978810010037499;0.12038174132903795011 0.68482637917012834095 2.7831496528170398541 -0.2685844034842696515 -1.3442756065758001416 1.927459930607899441;0.46322896296804949579 1.7238326080034063192 1.0198290545114989669 -0.61974138124836031238 -0.96542187123750256017 -0.92654063908792139159;0.63102274375552735997 -0.57472839023848876217 -1.51161263851875316 1.0286737391460911706 -0.61990981438988701502 -1.0984447125006455703;-3.3552133073763936721 4.3209811321665192452 -0.49884438167066524894 -1.1219432992499103197 2.8389741042471117183 1.6584739275544551074;0.19631251113371900319 -0.75999578926795041678 0.73148031892413423183 -0.64989830377814361562 0.82348275803760762059 -0.73251946095483744248;-1.9877236572233547562 2.3494096145752840776 0.28079901224883296873 -0.17829317736453201282 3.2826036680984249649 -0.85698202370309772835;-0.23195219564032515391 0.73114173235545099061 2.2190508492668574725 -0.9400774765040659231 0.51526288213300730501 -2.8231741203647957583;-0.83950061103592521494 0.27722221459162127433 1.3027819097657298286 -2.7475311544032128275 -1.2293604738605328208 3.0998507210040595616;0.65899598368953848926 2.9833614388183393729 0.30432408214389661261 -0.76568890537068234892 3.2547293634064389245 0.7533744876865697826;-0.26508780011114990716 -2.5652351102237536118 -1.4760770837069303596 0.44256170720002369068 -3.0025823852819057969 -0.31276739982211226865;-3.202516706572088534 3.6919862778804910519 -1.0638545127920733258 -0.38484420581897260671 2.4942828495633229124 1.9192534711787037072;1.3049739764693168986 0.45465435044528157427 3.1228802024115474012 0.50065693998130134101 0.14357704877795818277 3.6132362678596461336;1.0396999063117975393 -0.46310088154490525181 -1.2855113188399449609 -1.9236612897873739403 -3.7262045152318905572 -4.6038434726267043473;-2.3691083689724359296 1.3489074358718580182 -2.1423996137514311755 1.976044730891246104 1.9189630983914995888 1.6710438706793953045;0.48875097964434444098 -2.1877648132383371582 -2.244948779397956784 0.47816963409811746866 1.1171210657214536432 2.0608662444874443764;-0.81349232891534128953 -0.67919044910540737892 1.2062736467463783807 -1.915090956067995176 0.34578694298212331315 2.0787404842181675946;-2.0752865618893587829 1.8694880544549958845 -2.7715692941922474013 -1.7493623676928531374 -0.59740535139714112667 -2.1723475284657349782;-1.4084838032310971201 -0.92306787731287343046 -0.1374944907999839927 1.8507094471952585391 4.0421251874816501726 1.0782231850243031435;-2.9534148245731617344 -1.5263721690520362095 -0.70366479126579695169 1.3923336042503264842 -3.2490758457719124408 0.47450913716469511616;0.96420057618901178209 -0.14829506253597812826 -1.5363957909441496863 2.4164163584466469281 0.1514095277368657233 -0.57895685270549757107;1.8397832003258676181 2.1558725892534704727 2.0646259382293985496 0.28313545543283130668 0.20027888259999715448 1.6129214575387400554;0.71380933773524268826 0.42631255474059581712 -0.50018866759408564526 -1.3063665777167032811 1.5551549272964668713 -1.5711282701959814467;1.0155442020659546376 1.4479662856775044055 0.90134278371601461721 -2.0781228169192891286 1.1808749722726914477 -1.7049523164595414837;-2.4620844486975101972 3.0160397485914831606 -1.7369943796476554621 -2.3677919022692903717 -1.3513527623863610394 -1.538359928985950642;-0.61579264745364981071 -2.8299506754744676584 0.13652935138027161299 1.6857583586764937067 -1.5409348003728384757 -1.7244340346558175714;-1.9393585674426823129 -0.09622741683329011364 -1.725238234071038157 -1.8943711633055626553 -1.9406428729673501632 0.7223966733227605852;2.4612116172851137286 0.99874075697706476973 0.2016813212085879492 -0.87606126860989741445 -1.9961849640360360691 -1.3988215989487395863];

% Layer 2
b2 = [-1.4434146531438880601;-0.4255025645989393146;-0.30340423020879975224];
LW2_1 = [-0.73157616968763594656 -1.8463019346860332082 -0.85749308432282700387 -0.32205537957479324351 -0.37185585568076756635 -0.56631509821159209395 -1.4350517512445479795 -0.066718185076877989381 0.61350408411852386248 0.21138412002990372707 0.23733729865352296007 -1.4955918041639155724 -0.56893618033917214838 2.035430574496070566 0.3364720330402632964 0.20645273142749501205 -0.42061505201161664136 -0.19387035242332842366 0.14736428179836899566 -1.1555876962189188806 0.13835026839250622044 -0.68679490456040293012 0.15433719491244424216 -0.32384605173841796155 1.8887332590912377928 -1.0343278232872392675 0.9746895647359264947 -0.20665487749980726573 -0.35208454876304623449 0.63569898015377479528;0.9805173518031100599 0.035584318187939723011 0.75424977758385258753 -1.0634721837310558978 1.7006047069200131983 1.2198812482112726396 -1.485691016328035241 -1.4862799621923874493 -0.51267594164672181112 0.033971190074467222386 -0.43663222718981298254 -0.99927420702077784931 -2.2723210333746850509 1.7738057453640494465 0.39835386278766543589 0.078576064686171759321 -0.94247861350822303983 -0.033763684925308005969 0.47104163802828707963 -1.023687498157136222 0.47677341391703315088 0.20021587868708295987 -0.77640676039696210342 -1.1631032395467093554 -0.5688149086453025971 -0.29804427159877283637 0.8399782697421513955 -0.36141357178777611114 -0.98065401862518364329 -0.33025927411481564855;0.5028742398716938844 1.1736320574054188715 0.41237691370862483708 -0.54441620296156123526 1.6892058135947638497 1.2516670003480170337 -0.90434586150744922239 -0.29913314279526104222 -0.28359374384656860224 -0.53948984099778418688 -0.47623423553365523686 0.36320069178880354244 -0.29230083015249819223 0.76758932937097579252 -0.1260781887778411603 -0.22815705407125008719 -0.24547704950346696529 -0.43688858921135026447 0.28378043158970833737 -0.3599361681980753902 0.15208824346693958218 0.048712689800921443739 -0.70576678161761174923 -0.59629362380060235704 -0.86726571289898402028 -0.066888425279153868042 0.23116901327994113235 -0.42887236045268156692 -0.66854235649528725993 -0.91579801456040699215];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
