function [Y,Xf,Af] = nnet_2019_10_08_11_05(X,~,~)
%NNET_2019_10_08_11_05 neural network simulation function.
%
% Auto-generated by MATLAB, 08-Oct-2019 11:05:26.
% 
% [Y] = nnet_2019_10_08_11_05(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.24514355469617;-1.29004028551963;-1.14052717136905;-0.931551905542062;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.814979828032189;0.820807488367319;0.925368898540308;1.24858919934566;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.2191471573194321287;-0.10378410573514976201;-0.36513143375147177894;-0.90905660394495202414;0.1683768009608571925;-0.47544406379205406132;1.2367500181925177305;-0.53989242517413493783;1.2646520685499975656;-0.63276864525592824151];
IW1_1 = [0.41952319996566389548 -0.7342247646568055286 1.6112693118493679467 -0.5836696280777429191 1.2822452979244831628 -0.076003211280384119775 -0.39777660245139562223 0.15950469670942393763 -0.096660105089403966505 -0.25477649543271879695;-0.10927571098797789206 -0.55122955505561233025 -1.3739687537355196323 -0.93380549121601885698 -0.093705313854649252558 0.12766231686493129116 0.37564763589909655472 -0.1603280410779371612 0.45263779807910414776 0.00085194882429539750546;-0.23764685757639494867 -0.56387092124021498396 0.1301599842921744854 0.65347243718489567144 -1.418020522519303217 -1.2168872296942661038 -0.78764228166087879579 0.34835710378757911432 0.10226195761823161923 -0.043544863873744406313;0.43513386063193892905 0.085178784480884395247 1.4259736108384299946 0.16930832035543094682 -1.3674720846592036683 -1.1394097406897791824 -0.50498513990872684332 -0.53805129174249399782 -0.18415553811297646902 -0.16306649613324861181;-0.47791960394507665422 -0.28796608497642589564 -0.86562448457545404512 1.3469954142029607613 0.55683219249373905324 0.34866587411023380882 -0.1104293392897743864 0.48081482060864377814 0.13795003064632685441 0.60863686960584861829;-0.33010867350875222614 0.13051482509144812783 -0.48721087450081679293 0.42459211954258990751 0.48026336199596408871 0.7779891612551397273 -0.35200272596786313928 0.091561374252062358026 0.51608095849412305434 -0.25955829668424434953;-0.61122464626945216537 0.088074459453042541757 -2.3369797167357262424 0.15496052580025551637 -1.0307723205383725329 -1.5035267856077649817 0.61009173302034280795 -0.42877649325944494629 -0.22422441978129215023 0.0029000956396473542842;0.3518094420178654036 -0.46065605233029943699 0.59218919903331368459 0.55331863323959340484 1.6609077181055151851 1.0837699427645981487 0.68789865547013340219 0.47436625589671893577 0.42532170317541811988 0.22868025591631174764;0.40862513880126027921 0.42828997589389639078 1.2097385030492058267 -0.85191694031200260184 -2.0070095524351088123 -1.253860356367113571 -0.91352973634080747445 -0.24397182394679256534 -0.3991941533374614437 -0.2254376654486978937;-0.55543355251616399748 -0.6062350901230215694 -1.9173602941885845574 -0.47521782809417117965 1.4409303438019904764 0.060778741383370908646 -0.27152464787275337743 0.19760163509426845185 -0.34225446348003990549 -0.1539499865218550978];

% Layer 2
b2 = [-0.27313157645976543497;0.77779453846197443845;0.50496578853769602535];
LW2_1 = [-0.95985720771495997017 -1.5578760111541647415 -1.9977163347646698099 0.79375083194223283733 -0.73512495776712838413 -0.27472911481160200431 -0.072928077826950418738 -1.9283572192748110741 -1.0862304651052125948 1.0615417780007356807;0.97508375566465965711 -0.091161524488038964131 -1.9006940179794649115 1.2897680703070004693 -0.0029697032233460957107 1.199938709471278786 0.76796483083292588212 -1.7199016972811178583 -1.0562744093135891799 -0.65911429012057043408;0.73440484096560332272 -0.007777002023968422606 -1.9095741696158632372 0.84300174735625699185 1.0271166490961618489 -1.1746282289435290291 -0.54668906674520834077 -2.5764437880061263897 -1.9467190924182071754 -0.63435075008151031728];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
