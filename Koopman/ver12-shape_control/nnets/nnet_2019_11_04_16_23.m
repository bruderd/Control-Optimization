function [Y,Xf,Af] = nnet_2019_11_04_16_23(X,~,~)
%NNET_2019_11_04_16_23 neural network simulation function.
%
% Auto-generated by MATLAB, 04-Nov-2019 16:23:18.
% 
% [Y] = nnet_2019_11_04_16_23(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.979760528962744;-0.0967493271686649;-0.123235760701103;-0.232445808105878;-1;-1];
x1_step1.gain = [1.79921859849069;2.40876684978895;5.00906977894087;4.1712236562878;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.114831582969970647;2.5704830033685537316;1.871566566615545435;2.0784941957676705826;-1.891223828804306395;1.5598874429386153651;-3.3140058921389434765;1.3441395215856295486;0.30447386251555774717;0.996760399921173601;1.4563999727739869172;0.5676220901000486041;0.34185507622210270506;-0.084952192057764233657;-0.072036034264930687288;0.62917689597604142815;0.74880552772065245293;0.40747521562052879673;-0.12707115070180152738;-0.179583296641832868;-1.1843981610589890963;-2.1718197531691143531;-0.96336858247000212163;1.3216605458255596961;1.3536266306412516602;1.5171455220450527079;-2.1116747149715124898;2.2586042943998139165;2.1282099344602047886;-1.9069401645490851038];
IW1_1 = [0.32645473365145477596 1.1426851134318922742 -0.60841894276758268223 -1.2598636106808012158 -1.3576270775044108063 -0.36255438179162002843;-0.50762790896055332013 0.43970338944931203207 -0.84426523507801809476 1.2691639033570067951 -1.3190161954908492525 1.2569454876273224997;-0.6785983847729658569 0.38412869308882752195 -0.50595992559731606253 -1.6460796582941532584 -1.5993867851793652779 -0.0021426448194801382338;-0.39510428825330523583 0.61665566771823243641 -1.0438831801388501752 -0.29770713812255422681 -1.4786666309418281529 -2.2801382965855658824;0.90604862611693071095 -0.93387642252611946514 1.4287312168168440074 0.75655717485988138726 1.671307195113238997 1.5798017492954070651;-1.7343706308769879509 -1.103484135771563901 -0.18622989484324911635 -1.4955208080602682141 -1.502960024843467135 -0.62810103397699823535;2.3712418093321114831 -0.93524859659767078934 1.2499992846674370384 0.55410132285498137072 2.0188771655123090021 1.6590797334020690457;-0.74642279235911979107 -0.97585827608014452661 -0.16365437782675795741 -2.5477372516596350494 -1.0714444977026806871 -0.64075409714555120466;1.3258525180358824436 1.0367412059784300027 -1.1968594331239423845 0.67858625993301047163 -0.55397458869718974039 -0.4211348754811677364;1.0731824464121773044 1.1160421530149755576 0.3121963618434388521 0.78620547886104930058 1.0821619460531375356 0.55254618200971528097;-0.27002408032372032798 0.93791346924175056365 0.36631177279522336709 0.50818112110087843014 -0.37201633194794908599 -1.2630182337004243198;-1.1390156720607444996 -0.58547763137388841859 0.431646230604800063 -0.1390078677143253838 1.0232533629415909715 -0.48692207700499784417;-0.72694988265024673701 1.4487834304171134381 0.81913649815284395039 -1.5114161706320288214 0.19842894386060033751 0.95909796659164692212;1.0048282118203568647 0.086888396052867897246 -1.4838248072340631811 -0.20663163505204876214 -0.48099340367405651886 1.1874604014482668113;1.0809443676606886875 -0.45465571132506299445 -1.1711594683460611055 -0.57451633326586559747 -0.92154502196171372841 -2.1941950047881775276;1.0689297374785002859 1.2081605380445483711 -0.53739493981019437197 0.6507286966474242762 -0.56385010867846485638 -0.9785289453270941129;-0.43729659486079602848 -0.23836172762609525444 1.9899650042504324343 2.1888377273792949396 0.70825692510722138007 -1.4291536271025886418;-0.12910414222083646529 -1.3749683851028515758 1.3802934184902957426 0.80841070162831019097 0.70135021694772881062 -1.2709476443623815012;0.93748195823743929456 -0.93730048592531811646 0.84390654096590589361 0.050714414437169841321 -0.39634534380906866202 -0.85130219429246278828;-1.650680804208668695 0.2364736215884803705 0.398979164428343136 0.92195081366460807093 0.8990026590570573406 0.056527801616715750432;-2.0153339599911279656 -0.38893503810869761717 -0.072660988004408871843 -1.3349800469073325182 2.1440482779325420459 0.86954373943958551685;-0.61830755976865225954 1.0092555514941048411 0.79668232765873114865 -0.65428145706073737031 -1.6076243446058888775 0.73840994553741945428;-1.6020285876498219224 -0.25800703299853400274 0.49420907005191322403 -0.290941117964961804 -0.57269825781215699667 0.72956549194013253778;0.788826734839995658 -1.286977977061430467 -0.77252582196265573433 -1.1768726835915437334 1.0864644851781559698 -0.36068751470329779574;1.3335160707682545134 -1.4376577188124559648 -0.66773738862614473444 0.017399858783835361886 -0.79992575500287099732 -0.35969217986555052091;0.045515868626146004094 -0.1189113202490998944 -1.4204016000583221668 -0.20921748224515654413 -0.70774911484674307705 -1.2809434660217668966;-0.90244895995282714551 0.85536535739194674566 -1.1502109498101420471 -1.4380111379758804269 1.6900560236594694974 1.4080055884102391506;1.1877477736280130927 0.47795181602217290395 0.57641083116152047605 1.3059226892912183526 -1.3308966748766228871 -0.66802360842003405406;0.93200493820108387677 -0.98543646588584754564 -0.09346341481128918327 0.56786786849384596199 -0.15126717432507191807 -2.6755355706977623775;-0.65102743700290077733 -0.68718885334332635573 1.2825220405590507244 0.77115129440744512035 0.23583011060709863083 -1.7271843584945396621];

% Layer 2
b2 = -0.29445000502306695189;
LW2_1 = [1.2329351412887388229 0.16848327462747567096 -0.80159842154627924948 -2.0459908204732664139 2.4292412257612157056 0.19162394447758887561 -2.3591298456035292297 0.1196804760103113846 0.86175283182899931056 1.4241924360777236114 1.3958359761109593311 -2.0950037777620273971 -0.017170200802326715528 -0.84565387211476594764 2.1591143854897372201 -1.1974352955832314738 0.20847947281358666927 1.1442752802643827437 -1.6726375998656592969 -0.68531854339929121345 1.0107548250499287512 0.53289132883382517303 0.96499674677824998081 0.95760453290553215755 -0.3672545919906541334 -1.3090108114774214876 -1.2291652410451210375 -0.16139897154743654273 1.2530530682190987868 0.74886516010670844956];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 1;
y1_step1.xoffset = -1;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
