function [Y,Xf,Af] = nnet_2019_10_19_20_28(X,~,~)
%NNET_2019_10_19_20_28 neural network simulation function.
%
% Auto-generated by MATLAB, 19-Oct-2019 20:28:32.
% 
% [Y] = nnet_2019_10_19_20_28(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 22xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.68923562185917;-2.55976352764815;-1.66744595493019;-1.41306720234763;-1.72853430470702;-1.68470124822749;-1.54419012603737;-1.19832180182087;-0.920880750180581;-1.33378768429983;-0.903705148758009;-0.769375356764508;-0.921590452260902;-0.517525552348087;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.444678794681692;0.407242452141652;0.618934520080224;0.719788700875025;0.575604345071666;0.566071618910878;0.7594132340494;0.84999063747477;0.721977894496726;0.767034792829403;0.984427608258322;1.50655381729089;1.08895222470763;2.05283111042465;1;1;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.7742441987810182447;1.096582736619668319;0.90627972824632885285;-0.50459285845410817295;-1.4098000838933768541;1.0864065473588393473;0.75098359824868876622;0.90082981948530638228;-0.76662952871399558941;0.54571734753908529569;0.8847737581922875405;0.05213724757130720755;0.24758743497344626316;-0.38538058089139948237;0.13830602835965213893;0.13823527704632074253;-0.33385198320014469742;-0.12611734890635575845;0.88610658759974159082;0.65567088513193294563;0.76627806097091766269;-0.22002987847141286526;-0.30425136257403967432;-3.3465306275475192876;-1.674862427110318519;1.7475464248135506029;1.466341838782705409;1.2577225469848887229;0.089079620595131761562;1.5526607453701357642];
IW1_1 = [-0.059806911462902526133 0.30097082084515691669 0.28980186823436182575 -0.049226306514559038663 0.22298549498806460867 -0.11760372038439780018 -0.14046535879933688684 0.24503011952389860961 0.1889367756240870333 -0.14481940782732211082 -0.06371526056294538054 0.045764527564047335906 -0.15273752154871322873 -0.090703531660512953794 -0.89322008085149162682 -0.3344614664520654812 1.5785596195616595772 0.6215982092629950273 0.50096502490405558916 0.42592367115506751807 -0.60870318606463369449 1.0408471206284966026;0.14741862771926445008 0.14223656971354833867 0.067255713170977018955 -0.17406377343932699642 0.099625512238816896216 0.15452354049907338074 0.16913369718738829883 0.0081861090690223421024 -0.012136142160540866128 -0.17486858134450414259 -0.019129672292280693047 0.15153049352363825997 -0.042170056732888080986 0.11835208472819853942 0.25627118566662460131 -0.7577868984063791391 -0.29874033046538484015 1.3284804208260845293 -0.28442541987376435131 0.12035026746295414413 0.75124301327800557804 0.22448697870016315337;-0.4568965551414421733 -0.040076806575992038328 0.15708145415393534594 0.14484653623304677428 -0.056984070629052911705 -0.087143388522803913454 0.25581122213209878113 0.11306760280721019074 -0.41269531348747462429 0.04742100186604520512 -0.29421200754323595383 0.1503042763288693906 -0.13317476567953648314 -0.46079549884568543616 -0.13841595308059684299 -0.30271471599793747798 0.90231050280563407373 0.57318866185358519072 0.52584181693185039208 0.35258567383393568662 -0.18137641621273992154 -0.13082389368110067251;0.23949438936565581315 0.32421309843877399448 0.40485057816318820167 -0.27943805069508959038 1.1265482985411312544 0.19232943697574372832 0.62912099295645163011 -0.12623258987234350914 0.23095011232704254489 -0.21359363749616830375 -0.06926870154385353362 0.19658184811112799917 0.043355822512614460018 -0.058843694697611317879 -1.2809443288554371865 -0.4757104047662420454 1.5884699080090736167 0.73109819838455847307 1.7254386304867341817 0.80521020135881826718 0.78593960965633336002 0.1043696867599217537;0.24843141337283555781 0.11720508857726154306 -0.35905652261199416664 0.95821493836069437933 -0.094368880310573763359 -0.075624372078134105557 -0.2458836243677781086 0.87195341772323764484 0.057259697716529771305 -0.24847607328138132665 0.36188679188842687307 -0.49504563535509649164 0.12487727060677346336 0.40789547175724971684 0.52706864127549546417 -0.28820676551089774442 -0.040337985891490096835 -0.16576304081328196993 -0.037053546268611993464 0.33492377506520326635 -0.034049929286383111282 -0.12107951397636186608;-0.10077892721026864009 0.07620694953189562082 -0.11751491937267091736 -0.032890038229110976631 -0.13697704382711817228 0.063163602074252520047 -0.10878786377522388362 0.017521935620214135892 -0.070243841647908575321 0.013559365350335113656 -0.011252206941525236955 -0.0013389699213183527387 0.020599097765075131961 -0.013365956092062588473 0.067745646847636425969 0.14719371223763980105 -0.014288301800562314137 0.033715292919626209389 -0.21555760601214499217 -0.51391811199750636607 -0.4365955142394045696 -0.32868862835362516739;0.035648587446262154643 0.15379274876633775015 0.10626394427466892556 -0.078637960395291237048 0.076307537760910384983 0.046794930803759071658 0.097041899176054685627 -0.0020423577691263176091 -0.039622127797296173568 0.037384693734980441182 0.060610353583483732309 0.0061364894971995135112 0.019043635547164941557 -0.012062741009263978562 0.16255513231007395758 -0.11575889172197464938 -0.024912073837490080613 0.41413364862921081544 -0.38606220558733683745 -0.24429562909998742137 0.54794109091828369085 -0.34224049669193323808;0.31729403424194108085 0.25280248915198394455 -0.52549939433604764272 -0.18677284745029337776 -0.43684693429478560489 -0.20647221540392760031 -0.33642127203340377317 -0.13049697621664727021 0.075908657157643680269 0.52802739914117013953 0.010749191388269227487 -0.29181395770920365296 0.092238268521834240743 -0.077487270592593762708 -0.54100044305058303529 1.3174298630860934445 0.80903704901223105761 -1.991335753179148238 0.55333802656780539664 -1.5948705541419907483 0.45919729113894736106 -1.0852414772339085136;-0.59882573102200875592 -0.43454126077800747652 -0.71234034771394350027 0.69190328219272756449 -1.6005013588544436676 -0.7852604179611893942 -0.64302593354622161748 0.068548998982441211592 -0.75656765662057534616 0.21686059982482044917 0.26687247188914398066 -0.43447166892801986071 -0.21353639714187874765 0.12577883109194801237 1.848110701302132064 -0.11142340337961857688 -2.6289050561788691596 -0.13806872460434446714 -1.959631974154439682 -0.144729654845710487 -1.2148133769087881006 -0.26789324291244259735;-0.21330238274625573647 -0.29313355373808913651 -0.42830321219075717654 0.26209743864622458975 -1.234151204178260075 -0.25251782755663776392 -0.73147054927696819604 0.12298944947551038176 -0.26585256786836697351 0.2076680069353577518 0.093214962473634449536 -0.18355236781462919149 -0.10780113896073117985 0.082142153752037441738 1.4743657690109024383 0.40472389399872898963 -2.1600528712812168131 -0.81169763933973526626 -1.4689589010636607824 -0.55391541452398318501 -0.88815406085015158322 -0.38978952225716956281;0.31671075997731312768 0.24420495070655165448 -0.52367029688762423145 -0.21969313035740367646 -0.39862246558797198581 -0.17442190169888804885 -0.28944584677154244767 -0.14806439080484529169 0.064055145995266474235 0.53152418494673669969 0.0053636780419062425607 -0.27011641859420082445 0.068592309774026291591 -0.078816718202789154413 -0.43382614774016631243 1.3787068525542518493 0.61486773864195154449 -1.842643882957542445 0.54882421452783702875 -1.990808376926236356 0.57082908513686414498 -0.89077686857548543653;-0.053442886603811419477 0.031863973649637500341 0.030754621862757632045 0.042200445593295332625 0.03237332272376102632 -0.020707450591916500698 0.019265515734124792624 0.026532892185248350275 -0.066130011711204195191 -0.017359229055039119421 0.021438922254096940551 -0.016391871228575851521 -0.0006675156643840015171 -0.054978902438736050595 0.050150603268997943907 -0.043298207239822625314 0.077992919615234024278 0.3217906524454034467 -0.22885876992838671828 -0.30690277560795253819 0.059289074265232548366 -0.21936550369130392024;0.046608701862036708286 -0.13432379556402590515 -0.32432304163755726334 -0.49529956159888283151 -0.26447891118732669291 0.074372758602317415311 0.21640124148137473981 -0.26581753871416557988 -0.30698179760531246751 0.65038231394621026649 0.38288004717218426798 0.022065215681458447833 -0.19151360396349892401 0.016548571691054034943 -0.021414033205433401913 -0.54805914631824215189 -0.80298655016979947341 0.41130517793573190266 -0.20267514897844401967 0.82314993793810009581 0.10655079779754508817 -0.26279285508138711114;0.40279893480622647184 -0.019403372194405882345 -0.32804195452935352995 -0.020735946015126481556 -0.1363863720894807896 0.0044358633825214857996 0.046776038798428253018 0.014268321637891779805 -0.14127749270198042275 0.27134484018511650927 0.15483133211007618635 0.064032174462247515301 0.02195237370040730579 0.057593182890053946921 -1.0273871761985036155 0.34010253739185936084 0.06356958700541760765 0.18477760903256038039 -0.11215464620502560433 -0.2160731171597652378 0.040483121965224792838 0.077257393506678512241;0.44260923989116751631 -0.022459451036039194266 -0.82183496859331950368 1.3331621387405627743 0.063998700671273903162 -0.16080713728243031801 -0.26758544247178539521 1.4559214323114202383 -0.83433542810423866332 0.35267322816143592545 0.79769699332643739798 0.53383408749998373377 -0.059478140731925026319 -0.3390439516059940428 -0.69664626001018803425 -0.15277704000273853446 -0.59428746232333284905 2.6355827568814560458 -0.54784139302147183415 1.0662796990662635199 0.22340924335140183166 -0.33622363576597696921;-0.30218822548831908437 -0.17822100879032512499 1.0142071579109572799 -1.6779527406823118163 0.20271225130914069523 0.25558505414979437731 -0.0009259796050663242524 -1.4072475661188728058 1.169284332351318012 -0.87784505397952306005 -0.77570796157588073338 -0.47771848321618398669 0.07223155154934646216 0.4296171068500494461 0.82905460864671010057 0.084650727579927476096 0.52086081858552024659 -2.7814625393328582525 0.46469605668237073948 -0.8129568069447448142 -0.19933330193187787094 0.24765093101357912864;0.28746256619691928913 0.12741692239209342907 -1.2903996894317837363 1.9371910390658564349 -0.43577598722621596616 -0.4308063521844214816 0.26910485427828267913 1.4913531832986319792 -1.599457165675433945 1.294129627380622205 0.71835086510371870538 0.49925167955613458659 -0.152101840849908021 -0.55596172573641011727 -0.59329267755242276472 0.096388197892014415569 -0.87698053525600705438 2.4725753399115126818 -0.37370510102330306568 1.0026313019397945503 0.17660045111506691984 -0.30838379635749574303;-0.43335591886056590294 0.048201623140065485984 0.3292888262250221465 0.13971399238745452198 0.14452156657754341995 -0.022265032650086117455 -0.062016614058201934012 0.075758106842198455477 0.11894669614215712394 -0.30650497885403443776 -0.15087240302193416497 -0.08686751231235002868 -0.029075769397457082444 -0.068244218245596219297 1.0997639204386318035 0.0086645677292343705606 0.0080135843880138248746 -0.24112447657523689015 -0.069246808653454269833 0.30366865389597569314 0.01979811891729883408 -0.10152760298352199453;0.11080284326133763018 0.11904567059714056543 -0.10959106926726001896 -0.0875868063943129882 -0.092812176757566269836 -0.053847698364032463292 -0.20538699894405221258 -0.053177823772023846693 0.20103351886786113845 -0.0087651759672067470347 0.23573835005560339617 -0.48465435241599114091 0.21537441774590398991 0.40745115949526777843 0.41543880740507599381 0.29008132882007958697 -0.62935313698432149287 -0.29087164231566681183 -0.77258093053525855876 -0.79211235184578931978 0.089672073471703792058 0.25640839171240548122;0.01879053443818405611 0.12021067229946896804 -0.068617490688325663561 -0.11977636783017826805 -0.074985845697716393965 0.12446363282142057505 -0.00055483128268501795931 -0.072411341171087162394 -0.014808246754422577096 0.082719452738656842894 -0.092245485792788337043 0.12819361826657910131 0.00054337412912872594655 -0.036487958506395086478 -0.043297623823677640342 0.42061669566776116458 0.20637851861186790048 -0.30044006188470612218 0.038677232150097155816 -0.74417064790387987827 0.18439736483334170924 0.060361621073485464961;0.65159273929745820109 0.38622616007958060491 0.63583713211659187436 -0.67009964722922332747 1.5016054326342902492 0.78568052235531571359 0.63397712357944435713 -0.036022027924296595724 0.72351983547171705435 -0.16306380668903630582 -0.26645710690090601558 0.47505746187192160468 0.26206209299819671621 -0.084070559591917393139 -1.7497476965681542094 -0.037176098154529081674 2.7375076862713569881 0.30652797567813522273 1.5216270436027659052 0.19176117406898190998 1.3141445683509804798 0.12311167954634603949;0.72473398018594736847 0.10483386641123346172 -0.051765637310315103237 -0.46303689663764502349 0.28467822331900755062 0.26393292089538833434 -0.41581930318144882941 -0.38878011243192617252 0.89088584996578856767 -0.27069041045906827581 0.3634822776958862578 -0.14334631140223849655 0.16615834124389600168 0.76019426073515350417 -0.14176796527879304 0.24946643122258188585 -1.0498086562821782319 -0.71503645095119938713 -0.20004447786542745025 -0.8022637690672553834 0.050715987916799681878 0.27541394629315363307;-0.64381187599318279169 0.27199521190978115381 0.83371938947848567292 -1.1386045652095493352 -0.14978114271062839546 0.18812493103836419595 0.33361931377466946813 -1.5711351043833525765 0.78019537274974015695 -0.079094036559293479094 -0.78311104046589319339 -0.57155847384176239334 0.094398206077552698767 0.31312041244966032361 0.34429366190940308146 0.1000710362755142524 0.82870829389094824435 -2.2695993841559252147 0.71277133139194392975 -1.2652111430228198952 -0.27888472365857069901 0.40619575584379380429;1.3295949788674901182 -0.2492380838605060267 -1.3551717370150953013 0.69958159213076820393 -0.59019909852469187861 -0.4876830732297611215 0.37906739821581414418 1.070615388236450638 -1.2046931082789507084 1.0704056468605063213 0.85774764474833786743 0.8568994997316491391 0.21580184592092049867 0.1635639643250868247 -0.3230908334407338045 1.0464011746644239498 -0.041325510659190628493 0.5263851554739622518 0.34930636901967387908 0.27427789799409252325 -0.12561503390052874973 -0.15008984713016518264;0.68343851892506946033 -0.10456986770949482091 -0.56701689143683386973 1.0585380133666615343 0.036806575553421420899 -0.077595841935172632509 -0.30411771628152961533 1.3016449400307568141 0.018239983744775371127 -0.37622735029921899885 0.44446076114560528758 -0.25518871437572016037 0.20567044303532772132 0.37485429998889108205 1.0552590034970290578 -0.7673271378255465125 -0.10453009837143535654 0.88662100261376486365 -0.67066479242819077022 0.61161470528872419194 0.23995896749165110395 -0.19755388580765625983;-1.1177747201368943841 0.15366304045732370742 0.04479470885806406677 1.3133101413516428124 -0.36892203384196137206 -0.44906837955661560446 0.55639365851672639707 0.66750125894598877352 -1.2363834907174908739 0.591361153501873682 -0.36063600817967617074 0.22324582441086382456 -0.22727482514248883994 -0.95631658244536599245 0.21739044103369362104 -0.18021515721857103709 1.3321564242409162926 0.810793431221731975 0.66613729403752819369 1.3291350781257040836 -0.18527368436915184202 -0.44335796249579856321;0.05189855410329954899 0.18892989878543289817 -0.16827062151365085318 -0.16317409393961429531 -0.14885348851844987239 0.26538661025490822842 -0.0023585381411389155261 -0.14128076922935084436 -0.01856234383217782169 0.10809756393776484562 -0.12020448161065871995 0.04596757619995443106 -0.081098690854165378372 -0.021625269921200698103 -0.063742674413428845881 0.94999074335304822814 -0.11369101698880712537 -1.2751197481400993183 0.56682278823552323388 -0.99190870219422477838 0.41325900779838375954 -0.30428311688308634642;-0.92876687757439202464 0.29313003904888107476 -0.16160227868340612534 1.6145877802933772394 -0.4240019573697217381 -0.54923451137417866885 0.57779998940053867162 0.69310983763368350097 -1.2993703419958264611 0.75057768874630614864 -0.28880246386584057516 0.32826986218145420837 -0.18946395536642571256 -0.96319471270883361136 0.69717076157744106712 -0.060781820010253395647 0.64349758127440981337 0.9810704509877274937 0.27198712054768864332 0.87906861980915340649 -0.061004958381195975581 -0.27597962813950616123;0.25564443842138634411 -0.017257974232655699104 -0.25015565749626184067 -0.2872757290774328176 -0.11008533073038143102 0.11849416437924560619 0.042158859949099056208 -0.063513722843210551616 -0.022751447365386815586 0.25879552170039082926 0.38744493601368140689 0.04336699993349384108 -0.054993960863279567342 0.24177529754743898316 -0.61437978677803872785 -0.12049774343997761428 -0.080532696460491243196 0.27186805957954629509 -0.53317550355976084386 -0.52982067633577600851 0.18076130276636087624 0.20003578282490275253;-0.064442556398091752068 -0.090448509102625904155 0.037400433190653122051 0.14525498425310334749 0.025361995213386646919 -0.068543480060739084281 -0.0038901852278010484211 0.24521896995374023454 -0.12346164603244788593 -0.10788759589850765996 -0.014528354676858911201 0.017607314038855133298 0.01385976225694154039 -0.065462518500706598501 0.29261444302334044254 1.1735538546349038036 -0.12177358856007677868 -0.21324737475535779363 0.2129913713759282734 0.31788911486280951868 -0.066520374810309548796 -0.10691334576059749462];

% Layer 2
b2 = [7.31944173110231322;-6.7381582042377070607;-2.7139407446042529415];
LW2_1 = [-0.051214420153410357417 -0.016156823157912142408 -0.3865361554949355849 -0.016367395473027037539 -0.66114598890094133932 0.077548411306857981118 0.098029176227421022105 -0.067393747081173432933 0.06261048487289705422 -0.020950438720068000065 0.073055795316747620949 -0.023566542278785164444 -0.39592529228334327751 6.7955784386278228482 -0.085051871535449394268 -0.20417640183340085569 -0.12519583108709123054 6.8349662599333687041 -0.072035230014302967239 -0.20434877952412172641 0.072116478923563626102 -0.17668064928106527733 0.0043842497745831768979 0.57225556411626354869 0.37250600997477412157 0.045304785171067972482 0.047106763418197243609 0.096104066212901781419 0.040130951061033329208 -5.9033485148120625752;-0.1071827141070313405 -0.099351831920216751581 7.9258075475698586132 0.1230061960948366645 4.0301151457005062184 0.56839262076675145519 0.54855786032164988164 0.039947706718621703303 -0.072353124327175125097 0.1174399661693183855 -0.082972085113848459414 -1.3677600883896778861 1.9253509199821343678 0.1063243652190528632 -8.8977054962777017977 -7.7562721882714606991 -3.1355442789259835301 -2.2652820400914039922 0.75853610252917536005 1.1637426964055541667 -0.06033704789330592011 3.7952174190020899758 -4.5929846574055686048 -3.381490506496598325 -2.5617994033212729832 -5.6369403094727230652 -0.10550212696834139481 3.4318284219620949216 -4.074048226976692888 1.1757202816444338733;-4.83088414260675858 -3.2775870922958034726 -0.17268616493495839159 3.5589369544635767184 -2.9745321520702163731 11.021541775901422255 10.321019230647788589 -4.7572698923113421188 -3.2699973405539477511 2.8986838319259433661 5.0103740501128424256 -15.522861201274544385 -1.6751697993345020521 -1.7152859932318225145 -0.99459069579197412203 -1.2185901597137285268 -0.53621645497789949264 -0.14862333405193470237 -2.3451388124978858052 -11.483434747146011645 -3.2727014923018433734 -0.97730131796325803162 -0.20710835380171316311 2.2997440245067797271 1.3986178954681331987 0.25029901134889898096 4.084740083199108085 -0.013119732446900664313 2.817365172963997022 1.8157270416629067711];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1];
y1_step1.xoffset = [-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
