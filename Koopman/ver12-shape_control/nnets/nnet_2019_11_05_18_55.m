function [Y,Xf,Af] = nnet_2019_11_05_18_55(X,~,~)
%NNET_2019_11_05_18_55 neural network simulation function.
%
% Auto-generated by MATLAB, 05-Nov-2019 18:55:59.
% 
% [Y] = nnet_2019_11_05_18_55(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.979760528962744;-0.0967493271686649;-0.123235760701103;-0.232445808105878;-1;-1];
x1_step1.gain = [1.79921859849069;2.40876684978895;5.00906977894087;4.1712236562878;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.5639247241693026158;-2.3387800815304222724;1.9081337872907366826;-2.3907322867457003746;1.0918330547282040222;0.93732196717928706331;1.6257046155555363587;0.9600308087967979187;-1.0763481961242411522;-1.5189609339131338039;-0.56434367993704748212;-0.9258023561042629801;-0.85763243900110985862;0.77384113734721149402;-0.26275347728482895127;-0.77445763471328654681;1.0442891311866180359;2.248026835049197647;-1.2964804056271916899;-1.0996553285459700344;0.52179276672896446332;2.0930486802838359495;-0.45406566416473831405;-2.0341906944081999953;1.96173175324378124;-1.3646106231414456555;1.7311470554930887822;-2.1200353094314028368;-2.295347567579176129;2.4675593379427582796];
IW1_1 = [1.0150074436774148001 -0.52390773376145804985 -0.13272925300290419615 -0.80753851790760122764 -0.095745149922910652296 -1.8929564836071952616;0.81418975915927382925 1.1211555219850442011 -2.4594659269503726939 0.13482013739550022247 -0.12310480906399594303 -0.059860739231242070246;-1.1805846501111163516 0.55837914663773169366 -0.51196516081547205346 0.22383454084856477251 -0.55924809832375588226 -1.8238233567644641653;1.6892361851887138791 -0.17371433183615281326 1.1243436619545619237 0.32261086319484238993 1.688515459783186401 1.4286630746731618924;0.33647006704599613514 -0.16408436769247564113 -2.2449628578735749684 2.0835517109247319034 0.77660790012963187845 0.94697193410990088136;-1.0625821438335389946 -0.0097818357601864927564 0.70025571338182279746 0.64967929699358351048 0.095353997157381409355 0.81898522219531211253;0.27860631530602869566 0.77453032238113506125 -1.1847471743347957052 -1.539126716713982157 -0.011249715927468824372 0.19281509746547287332;-0.64992711022856142211 0.1896086996039816619 -1.1665671481012513944 -0.90736735900640930197 -1.0140492876201669947 -0.80259015067184613645;1.4452703931509669477 0.095939887158149189661 -0.50341257163778185824 -0.31243672992615872941 -0.2643076555979070319 -1.8928846046767915379;0.18682116189647035576 0.85572116732349789991 -1.6855985015827750217 -1.7162000907737957611 -1.61118048097024813 1.3961162024799644854;2.1841357648345796072 1.5487578231756815583 -0.17220153789526090882 -0.11416875344417090621 -1.4861172087784773055 -1.3154916842574395641;-0.0015837953892780059183 -0.26199581928105264428 1.4367836512149454453 -0.23281919050993238329 1.5209979009956990925 1.9724701986362516148;-0.36085001561825624794 -1.1958527106686707153 0.86037079186108400553 -0.34124013004869169219 1.3262832498801977454 -1.223374711180926111;-1.9732975105730850007 -0.98321121854843840371 -0.35363078723724350461 -0.29271380153469694907 1.1565411565942114169 1.7227668802774824819;0.3259829474288194473 0.44769663843040619078 -0.72909490581195457448 0.15195827844628004288 0.33297547891959300426 1.6378042058683952575;0.69458068995362398645 -0.2723593655516765577 0.58540057043744853083 0.46571375141957244148 -1.096788655963825132 1.5106744367439910448;1.5972212648247396949 -0.12315445274306796586 -1.1720291475412178972 1.3700091604182940141 0.06701195349135831425 0.22305901528214669427;-1.0305379973598256527 0.4241275777352406795 -1.5721967809004302463 0.38831083840053348677 -2.2668126864129303222 -2.2093558839484974676;0.5247510033957391018 -0.32096270867768117441 1.499209287543269653 0.61809099617042662089 1.3613490346930707808 0.047583608457815521064;-0.99658132670352872484 -1.0512099532716161487 -0.40461009698080657726 -1.5838582559189664511 0.098745893157617642411 -0.91929178193624361271;0.4914691107854452512 -1.5851775605703855021 0.43369445908114351296 -0.60392184313465235856 0.35270671372238993069 -2.2449155387054027244;-1.4906806758318567052 0.47615746326213914674 -2.1061507250308668659 -0.96939063863043284375 0.37549608427156638824 1.5589270176893630371;-1.8177606596654736215 0.17773769596338309662 -0.91917605306926797315 0.74221136811886001539 -0.16874030365832498601 0.20841333969500097645;-1.7985880357705679167 2.2690244134520396457 -0.64564714484519947213 0.32277247190426222589 1.4010524497444052372 -0.2308911107210191993;1.1931486538865945235 0.67671314575970109573 -0.41253907375364712307 -0.36782851768691626759 1.1175407619261634729 1.1301092327472959109;-1.603357714803185452 0.077935940585657836888 1.8193730338051810058 -1.2214606689810674212 -0.11509956114877212263 -0.83640833515189283442;0.5662632618336992385 0.83575914710810406127 1.7969644481523334711 -0.62691450626072742214 -2.0574950391334150268 0.54046614917028512615;-0.29525005876205145938 1.5885787941544189383 -0.80069408582394518969 -0.2468595658564326778 0.67345029261263200659 0.30079535880772539924;-1.1830323001221596524 -0.53222105947367703838 -1.7213632853312055282 -0.73336541916661857066 0.90938769529945040482 -0.9397696919013547312;1.6222378244625224042 -1.6861162252411465712 -0.76465235052879765298 0.38055519088125183691 0.17981317872266142088 -0.61765981710332640287];

% Layer 2
b2 = 0.46855453501831073604;
LW2_1 = [-1.1077678283913081625 -1.2542319678033331254 -2.5560159121167478347 -3.48528234967383721 0.053393357185119734443 -1.8807543898114511549 0.72145215498357939676 -2.9396755097996911665 -0.6195339013125641392 -0.40375920638913215255 -0.52332403348887424066 -2.7379175822848775823 -0.59312194627216452414 -1.1836392320946225176 -1.5976164623504607309 -0.47080815218681626444 -1.2724074097724675791 -2.1324014590850977058 0.99044498390872548477 -1.0171854589777222788 -0.86093946721804692768 -0.60334608274691281515 0.13226440016914123299 -0.39665252770419445749 0.13640737009321687867 -0.93603589844169510226 -0.079337421276019226557 0.67481339917436189424 0.94125221490879318331 -0.40021284138602092328];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 1;
y1_step1.xoffset = -1;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
