function [Y,Xf,Af] = nnet_2020_03_04_19_56(X,~,~)
%NNET_2020_03_04_19_56 neural network simulation function.
%
% Auto-generated by MATLAB, 04-Mar-2020 19:56:49.
% 
% [Y] = nnet_2020_03_04_19_56(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 22xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3.84216152895309;-2.31007610139871;-4.00689553769601;-3.12052243227883;-2.86237062444582;-2.73935713604164;-1.13807312003907;-1.46171704033256;-1.08149774633077;-1.77607762786495;-1.05742384737744;-1.22226300467741;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [0.212710992971601;0.204089241369051;0.283969270698011;0.329238007217615;0.448272445378447;0.508576708774013;0.552716222203257;0.611448601657241;0.718359598945301;0.711844496703869;0.760059668261598;0.929872413687662;1;1;1;1;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.1166747460220749488;-1.1038862234046182831;1.4955256796021785259;-1.5654992779913945444;-1.2873672902423349829;0.27453224778662471683;0.038266375277618946971;0.37062318874702276927;-0.46114901042378902973;-0.36681146169531236856;-0.80108773203800431872;-0.03008808279324078766;0.45633827100656404463;-0.38431908855595930952;-1.5547957801172307413;0.20843447575063497879;0.63852210246580487496;0.55541530615234346868;-1.1360435187073092411;-1.2767183014104857008;-0.043106644427042740964;0.70250575546187421505;0.89387763164271061278;-0.65848692123879448701;2.1798076430139916582;-1.2600804803463718784;2.0523679778945944641;-0.86709240040570423336;-1.2991031620417410331;2.3426225313491824132];
IW1_1 = [-0.20053651066691127736 1.6303281443747723589 0.29186307324736932012 -0.38852449277080269852 0.63622979177659377825 0.84961193289987690935 -0.57534262463636753893 -0.055658062890867519845 0.53918251791374971482 0.16781111213484650735 -0.098949804604597305091 -0.087026019185101013975 0.4228689855505837758 -0.088498306685155347928 -0.031780822937694241936 -0.89380229393004095861 0.38208369277607079351 -0.058039126857206642385 0.050159402113810029611 0.29418644906690338825 -0.14719225962224521953 -0.1733438076380695303;0.1791831953868027183 -0.1240740401273023874 0.27200268771985686156 -0.20252662909482788134 -0.13926277536474626628 -0.17116244384318488048 -0.63352989078044563698 -0.10587329878296918018 0.46463735758582286328 0.16252691032211127875 0.35162954840843552162 0.11424841828800452737 0.14290468223356311839 0.19213708821778938129 -0.52311210577418520984 0.12587549423805050042 0.45476807961481802156 -0.1993041362653761861 -0.046530526713858898213 0.080920160042975086689 0.90679727836220724857 0.10436182996272029555;0.14023642630477406446 0.63776255708478613027 0.01917548243716884343 -0.21228837806726963411 0.66699477087440905976 0.40867057012211560618 -0.38413156627818623168 -0.23946313496061721882 0.53224331787811673955 0.0041666975609343515075 0.098795426844971417912 -0.085741263384333146758 -0.55161487943959419677 -0.021858315630244345984 0.089086899248394246786 -0.57386061155547785084 0.29011308450265504977 -0.39139447601328869464 0.29554602265403828731 0.036294023679496148493 -0.047698200486430593348 -0.18529076045856135435;-0.40012218992253167915 -0.38286610175740992679 -0.98810163289071439863 0.28106123028585283663 0.066006504466385729213 -0.079410915866632861282 0.23581728382522385012 -0.067857234517599715473 -0.47655075719383910293 -0.097693246466148186968 -0.15716827137948732873 0.20427214631782120158 -0.16425003435242832572 -0.16294985390955515903 -0.017668922028740676605 -0.41352672854899724664 0.02302905504644887219 -0.057048749426120634598 -0.44807797304774732439 -0.056491335133829700954 -0.085506227872980414273 0.55836008031279404928;1.1674011103988726212 0.3517642537817615711 -0.24229449913498829483 -0.58695557073612691923 0.44007808601404035942 0.19589466233479699286 -0.37800696491134222477 -0.12412698110777865834 0.022974939027757393384 -0.080484633587785375797 -0.083268353092236319091 -0.22797730553336906234 -0.41769815235298846101 -0.28136578452801069838 0.60497608656897572388 0.68432177144334838115 0.4512577813158825113 0.11881607246226086327 0.57076859150348235872 -0.50856245605872085758 -0.13632700855376195248 -0.054244643508495657414;0.30546325428622866927 0.025131978628224582728 0.50773601467691520384 -0.24429705655943184661 0.33873839162382052281 0.43318355442777656261 -0.3389773057913242349 -0.22235369681405847686 0.39840758593852221292 0.0082334221361012108198 0.1232636558685108602 0.26708091662770505614 -0.10463238465097159102 0.3003952537134311207 -0.35987467110602411324 -0.25660989455060156939 0.15774957060635325101 0.38298378483206391154 0.74452488964797658433 0.45806239797762465793 -0.58658609344242462758 -0.15250897328683571397;0.035024835547947594239 0.044648564136973059591 -0.012229919560258414868 -0.025122785894834513687 0.82790666377152521971 -0.36626979865710995732 -0.0024995376018057575973 0.61029618018533304813 0.33136053264210157954 0.020405492104019297417 -0.26911142292427986389 0.34657495099717927634 0.26060919153933748138 0.15090420182508110236 0.34851883635722746835 -0.80836701735127935997 -1.0754521111453265725 0.28549397119906527731 -1.2084389888036686234 0.016456012363656704472 0.38211400366740388979 0.25687884164485313976;-0.74982359230768513836 0.87267892249041567609 -0.39489547814955133775 0.15949714203472376006 0.27492718574347607685 0.54790273442545212035 -0.14349399148150590588 0.35642622304666743416 -0.4528443589482673004 0.11059346409592736571 -0.20094432061148151392 -0.0078802206362412145074 -0.73027474426578764533 -0.46372364675999649952 0.77437358407468215304 0.65056104531279801417 -0.32796278130749406676 0.10681252437081902029 -0.12494078016593186675 -0.36146040420397856918 -0.21419409638360217829 0.37787114971530189056;0.32925492817468732243 -0.76912992394748758151 0.0037015875207104184663 -0.36846461168217475857 -0.81736074292414784281 -0.29945095960623574483 -0.032419365311090742043 -0.37682669176868199834 -0.03885793951453633821 0.078976223646558318947 0.4707489913367919887 -0.15424893694591151894 0.31329699950354411575 0.83526415702567502475 0.92744426272792590549 0.30508354165460432883 -1.0073847341449608805 -0.40304400832138742583 0.14370503822387989401 -0.47747909517607883823 0.11678397002432902574 0.038388923546999666192;1.260565751586605554 0.72865573780279890848 0.080452038404103559666 -0.1555120191839678423 -0.099180617236583612506 0.20644895120955569778 0.35208579974188486394 -0.54880738916263727134 -0.025629733191968581685 -0.11633552033188090946 -0.0030983980794428243183 -0.16600023083897344489 -0.20354148537678515285 -0.18335280850891746973 1.4152475011543717009 0.063279203144199547282 -0.27520709321162450944 -0.44340657083076240319 -0.21943175511766610519 -0.27923036830360592475 0.74248739734517299471 -0.0098065702470439986699;0.14652160538258823808 -0.61164605864203169805 0.23106998143913726196 -0.028165839402702709526 -0.078294180765909576758 -0.099569964983964004412 0.18882872246933257721 -0.28178054164738042253 0.11181419125563570038 -0.23661520189412826864 0.083556499806900497163 -0.063914336973429852762 -0.013569174188414421037 -0.013667871372726143192 0.10641666589659803943 -0.51393771523489528708 0.38173838687594680019 0.59409264990127186312 0.31954976673614082783 0.095647950611086815509 0.25744460917675754397 -0.26257408640284263246;-0.48727619454622012052 0.39021003002609883081 0.031681829944708500557 -0.095243639961981652053 0.10797844045549297165 -0.023067058505976272692 0.020291862217752629216 -0.077551773275655086493 -0.48200449588233773568 -0.29391015006703824497 -0.12850799359793702026 -0.38561326207442342406 0.44626465426758882282 0.0030782391847223198808 -1.1208990913823815294 -0.13405569882895929101 0.79996162102285328643 0.72631507532177874698 0.119891204708022725 0.34180880171422373115 -0.27424280303291004302 -0.14741432817265895383;-0.39171420106915993964 0.44219190969767829813 -0.22896503007196150614 -0.12024628164920468654 0.2451706554088858292 0.027564528223505368326 0.095780244528894803446 -0.10749593923585279431 -0.11516035256397033626 -0.0035535187427091115275 -0.027958130162178032596 -0.13374313272755386506 -0.44121417880099977893 -0.068915869617323988194 1.1199765468233866539 0.45798817484712084358 0.23946200122832428381 0.034871115722590238784 -0.11216491844769724273 0.070912436263204356446 0.020606315722431853971 -0.12307523754001199745;-0.24805427190096110412 0.30577934266326939339 -0.039176570475125266357 0.12902194262836100269 -0.39294714024589616486 -0.35878775377642713185 0.17070952558295834911 0.25948927337201155296 -0.20972930371149267614 -0.084852783088540439937 -0.04935017323211921686 -0.12420215045925547814 -0.57959163136940650141 0.16279031112841768625 0.39770486842757540868 0.10297233065972238863 0.092331217930739964417 0.084725130857481151248 -0.27313664005283355696 0.05675074244814574953 -0.0091657058986623161229 0.11390078842243828161;-1.0438110046009234644 -0.38070024602085478227 -0.58160050025405474194 0.10539070913451831224 -0.22604997435388454741 0.00087726582155687495013 0.2378943591453948625 0.12768824448745896838 -0.36390267138753296106 0.12989887043556080926 0.019739336615966177058 -0.011168637366176353484 0.49168179974504699903 0.024655438114678310257 -0.019043811408549049524 0.83173848503812164434 -0.26093954177223482871 -0.34548829850435430755 -0.32280470111663411847 0.46728689233385284352 0.083229909366032847617 -0.037682433947725517409;0.046673230051509001504 0.65477596286633954481 -0.22123884284272324341 0.21035419562402413174 0.022351767177320087249 -0.14767521834443264606 0.17667236752629467134 -0.0044497263345265186674 -0.21452983998120389586 -0.11498745293555862057 -0.1809198065264781552 -0.083463140157835388755 0.69561474638971976248 0.056162213542441705161 0.25347567646042368228 -0.10564111246146637435 -0.037218511212333792171 0.15355626881615699886 -0.46060327999748096328 -0.19166103429789596579 -0.08343102137455662981 -0.021321411746066415427;-0.45638000630638653199 1.3588870799889622987 0.3303975047649950203 0.019833601015289022834 0.21587401207051609697 -0.55128251456204713232 0.0082489992939769277852 0.64774213910592226551 0.01026296302470907848 -0.56049028919310994734 -0.10779128641372534569 -0.22844686411282680294 0.56324178283491832531 0.16375962069589883319 -0.19595705659638584795 0.6163788151496508716 -0.51254934720389411229 -0.095591053836345515893 0.11124445979889485692 0.082057597939973983547 -0.32886754986657584787 -0.13542782020773946883;-0.22776795297993204792 1.1452242387352482567 -0.10539006882915036289 0.12128835919485556061 0.14920919037688332165 0.48734012837548779107 -0.17535152584301549883 -0.025979380269556533178 -0.38656936462634261531 0.29770445552103480535 -0.07393047616626619023 -0.084049168921273759159 0.17850564449621103558 -0.18044586879690155401 0.3971406505067904269 0.25954966496659687136 -0.83680244942285708643 -0.39020791157856216103 -0.47317023543030617416 -0.30902608099095468797 0.091973980070368735462 0.35881723581284613589;0.15582105152709790907 0.18629708952045737069 1.3881641008957958938 1.2288299171862451242 0.85741281442977157479 0.13304772004225770554 -0.18871201069060766775 0.65271547751706460172 -0.0098334534406104047444 0.67612357546610368786 0.43338433492248423784 0.00096166555884825977163 -0.33348934631868576428 -0.057343342100611968681 0.3413103848360798942 -0.3291534677783681806 0.81021114109821235072 -0.56831434491745325133 0.041315897307061089094 0.54627432533127473491 1.1614234941249952371 0.59447915731991962662;-0.40356801009753606735 -0.24480041533793711617 -0.42047894113204975497 -0.21906643562268940384 -0.76775590464685505854 -0.20973481549570205384 0.23606240466079356222 -0.015969583721462985576 -0.21057589766822998323 -0.20295630044703882877 -0.14043547039642373386 0.074215536592420250361 0.31080441535166569711 0.29728113136643019576 0.38487472576697651094 -0.12819105233526170706 -0.42205794983508676532 -0.17469081667341238018 -0.033996780551952071603 -0.58696123084211104803 0.18996285621990305348 -0.31738020130003236075;0.25997689178044114389 -0.75671206299563498199 -0.30930011915739974437 0.30286122837080431403 0.55424848035812557256 0.16885752123072295117 0.62189153518587048097 -0.2943601495878122587 0.45419147549510818784 0.031166486815311329056 -0.38098978179600095917 0.20313507459356161533 -0.7367390376569160626 0.059274011010211909156 0.33349630920408201984 0.24346448731955289135 0.89470403058608383162 0.46333681311588015284 0.39388879008373511859 0.43190045824735329161 -0.26894941643398712072 -0.041738649272626861253;-0.39788583814406941475 0.35746521709975309644 0.17301891099275132357 0.27920432158113572818 -0.36321372856995937095 -0.1695108259986378707 -0.060824219605462498395 -0.39088404848286079085 0.16050830507387203738 0.16915009365197408719 0.27838308857248111883 -0.050281218937994275053 0.083513803361829175298 -0.13494457485452582279 -0.026636466101820119312 0.031969694668359270595 0.13122576655914552912 0.33235281962533275157 0.24472068710695876748 -0.24061435430608427155 0.36403983908823600579 0.63056920506420444106;-0.3870366324653622403 -0.39577852401614344036 0.27518730764307319792 0.25635384337702987745 -0.038546670310842419405 0.093724285182806399419 0.2055479215197492382 0.0036136559831012465827 -0.29882343385416615389 -0.58082244736237476079 -0.11420586633869472815 0.062159891180495016605 0.54024887676194932595 -0.030026665063509910131 -0.7218532030696240831 0.0081164506489989751009 0.80061720460123064758 -0.20810465873554540028 0.43178459101199234693 -0.69554640922036303774 -0.052144450595331209852 0.6297072605060166639;-0.098886008165439145956 0.25202654986981926077 -0.17889998367169182569 -0.40096937828779194435 0.14763964261019454915 0.26329774014827334039 -0.29054486475707858029 0.026437886534686146772 -0.013132765184731923572 0.26552322358121377421 0.15300642147241100277 0.099054628031530395083 -0.92654393993185391043 -0.0054220811803240478305 0.40874825660135405414 0.047768983907940099076 -0.63355293793636635602 -0.42119221607929846485 0.083349913385296098278 0.64238730999320547976 -0.075718180006407259652 -0.46877057690056689321;0.83926537518415289529 0.18391728975234278298 -0.77871491919579560737 0.2989172315274666869 0.15542339195921864303 -0.0045436613008644514619 -0.13216937302390044384 0.37070305479488768752 -0.2962374202501905085 -0.18098574550990381704 -0.15417143052505993817 -0.019090488899703612902 -0.17774766014990306395 0.18655617673565197401 0.14301376643328644889 -0.29786684002787816583 -0.13257807896992060415 0.054203116654409057296 0.16602740037594865274 -0.36984722408569192798 0.83908200575469849003 -0.86652320911719971086;-0.25665339390583458146 0.82703372580264444824 -0.32282294185883436688 -0.14384781655921979882 0.02131094798383689759 0.25730108606720125675 -0.13656381206132939266 -0.0049421025889298721839 -0.57530060599154841938 0.034891502790757839003 -0.044452990175494186409 -0.066851376706928603011 0.11299728994326581344 0.36434931020106270383 0.92094985965719367016 -0.23880175778496764982 -0.59968488024744504017 -0.19809974942874758463 -1.1419253112494871516 0.14485902169046027677 -0.13263073516372833605 -0.22432752642823700073;-0.82528961057631522458 0.76272461972083982484 0.026945531004588598595 0.20757111657529911386 0.073761777824468396925 0.088694259143581533067 0.23223135505358177832 0.55561374974746924327 -0.78048426098623491232 -0.90763821257503496387 0.013923581253880594477 0.022289392355229472459 0.46189853143687448211 0.094150947815639443594 -0.34369213083188310254 0.41662480818396380178 0.77552760244638652143 -1.0564738082576401457 -0.27861453870539026889 -0.96215000083671309294 -0.0038502846953957364784 0.83707418385261322946;-0.37183018024100933374 0.36971784116639272444 0.14349851300684451916 0.38887552431186361845 -0.17969633684494717984 0.10966259401539533991 0.099992722098442982093 -0.058393691060091026945 -0.17923592872627636119 -0.38830933599016576041 -0.066844589516228750115 0.010914614305107726844 -0.26418418215835437479 0.17277446039276556089 -0.11472720961141899543 0.059482979093146079452 -0.13824422889639409462 -0.12729185504964943276 0.027524141575548194405 -0.13916263985363508393 -0.14058636303006435964 0.86849982973929829022;1.1321612668110785371 0.038748365636697451597 0.15199693132908656534 0.0010493031804858152234 -0.21537184637716474955 -0.10712962920015389745 -0.33445190520616840946 -0.50073527728687483584 0.24964254674548833068 0.066869853816797428236 0.21160524598599506074 -0.010226229670626550694 0.32851046549547402442 -0.090648113091978094191 -0.90896071461619032394 0.65760443580573535449 0.22407320234240460377 -0.64355634662122740419 0.014117278387255041 -0.53258086238157642534 0.56669031410693548878 0.47421196132207088514;0.83352663474595178883 0.27695420310657042906 0.0061930955326513284498 -0.33063580949825138733 0.23972471505259654312 0.28124858870297547719 -0.13092708706128669549 -0.32321141119539786857 0.28993872586354485499 0.037825905876120183291 -0.39676403896578082975 -0.038854920037146079004 0.15616410066220368091 -0.20517627660998069561 0.63730103464534648694 -2.0152014387640302395 -0.92072036945139423825 1.7946216370740888379 -0.50407120473889222012 0.6887910621560533464 0.23525722775717511359 -0.37389886255093179868];

% Layer 2
b2 = [-0.31968882480299987137;0.29964493056979368824;-1.0387287713413497769;-1.0329176726868081193];
LW2_1 = [1.0558667067998113165 0.32198578194051957757 -1.7797888447748220209 0.85380852669487705686 -0.62988713663788364894 -0.54283479720412974867 0.023210774121109140067 0.2516428034525656221 0.13256588167731570005 -0.42201707174472319339 -0.084660065765633521484 -0.01956508056990096181 0.79023501057191969377 -1.9429759394631407332 -1.6111505032273545357 0.47517500909116877628 0.17255500482843791343 -0.74723693039176664055 0.013238558006423081781 0.44345816795493375739 0.077590310096116929528 0.33028062009640307695 -0.38089740315046954899 0.5031067523038732503 0.070453052759622492029 0.20882206072899875404 0.30933717376496977502 0.63354999008698897889 -0.16963118474076352427 -0.34899377496183375813;-0.053183856235724205619 -0.50876382097467287569 0.024582125648326826062 1.4704540079189289958 -0.80939211036660529963 0.57444743186100699628 0.30372941646744594513 0.82023096977877585356 0.084873689166058113864 0.10471989957431240836 0.24025827440848870897 0.07865549435797397626 1.4775024036238306735 0.81080141790231075039 -1.2389875904558320663 -1.3044304672813058499 -0.30782131209522423099 -0.26120381780488416412 0.014113513626659543107 0.7017547807762771761 -0.62852566125326669866 -0.097319861919722236432 -0.93834980061012562835 -1.5185261138964303296 -0.098528397635865683224 0.37346779360257786884 0.3257817196707379348 -0.64318009013966226384 0.84939633011449178213 -0.22834241003334707076;0.06201562663385717239 -0.63607545921729857774 0.12745964247773725053 -0.30910161229475752176 -0.24011075106449775163 -0.0059036304438665225189 -0.66493231448842715636 -0.90082990224258285838 -1.0669426891756954578 1.51970755907951105 -1.9587940005866728566 0.60039062028763345857 -1.1268615690867194168 -1.028259362512945474 0.48998347367210237646 -1.8980746950794733507 -0.021916004576068688625 -0.533595257396273559 -0.28398175839208988913 0.23984910454432520344 -0.039314706089674633649 1.3480039493154143404 -1.4378789682746611067 -1.7521158268287653215 0.87218819849928708177 1.5130252580136303031 0.85899550112788192191 -0.84943402543253843096 -1.3628752450703320864 -1.9769174314697439687;-0.39424361361951004712 -1.8235025076101827324 0.094148118459050050832 -0.098765228911878805151 1.9076604165422488268 0.93816904801799871905 0.44309131001612994671 -0.30301380625581481043 0.22085010790545495096 -1.6485470666158787978 2.9706851179703543941 -1.2916738175424826718 -0.74426323875751931869 0.98963507641859083108 1.1824034912657208629 -1.688396050451198116 1.2788022783423458328 2.2454932878489852754 -0.18382075445017337367 1.3299648768265779353 0.5309303039892496745 1.9754604239605955129 2.1502877887370059895 0.45228557295495114277 1.2885914912151401612 0.92072533382214893916 -1.0643939016063967973 -1.8019458915715147462 0.78787984931861076987 1.5166060580189406615];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1;1;1];
y1_step1.xoffset = [-1;-1;-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
