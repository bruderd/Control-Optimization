function [Y,Xf,Af] = nnet_2019_11_04_19_30(X,~,~)
%NNET_2019_11_04_19_30 neural network simulation function.
%
% Auto-generated by MATLAB, 04-Nov-2019 19:30:19.
% 
% [Y] = nnet_2019_11_04_19_30(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.979760528962744;-0.0967493271686649;-0.123235760701103;-0.232445808105878;-1;-1];
x1_step1.gain = [1.79921859849069;2.40876684978895;5.00906977894087;4.1712236562878;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.2028608329096237561;2.5184101178455562398;1.3676769755067683665;-2.2706148148087477168;3.4131671926329620881;1.5316825880761146816;-1.1804665323228209495;-2.6006142408311632153;0.79512369472894117717;0.6369123562348827372;0.30108239364266686788;2.7953325516085443248;0.64126185578814820509;-0.34124260645997273045;0.42166405233208753556;0.15357772919462028827;0.82156755435666017906;0.3473830533083435701;0.45389888085535079476;0.61402144255122936833;-1.3870457291851865378;1.6454532961539707347;0.48578527852734898484;-1.1979142795897477214;-1.924809195892907665;-1.957233669986218727;-2.2141263591314319648;-1.3712607036627741941;1.9654688685839236673;-3.4977133915512017559];
IW1_1 = [-1.8917982170316960389 -0.12047397231640216697 -0.77791688146860404895 1.6557452818100588665 -0.0015514535053150592739 0.50348799663993004661;-0.81233246749775500639 0.65351622682491983252 0.22191451592314517804 1.4051211181965519437 1.5869291773043399107 0.70129718861344081393;-1.2372807372050014241 0.094512174564822290512 -0.026168922612659458599 0.4515002041157806234 0.10014961141040117087 1.2531213264598324297;2.2465613249409890351 0.99042550794909189893 0.019059468832465294164 -0.80026275348086561845 -2.1620586299852297962 0.8829498614279740476;-0.8435161707183357338 1.7737338869802852237 -0.51429159198278628917 1.2357228389337568952 -0.78340869891725462004 -2.0226959831206423601;-2.7175519004671162548 -1.0600904502887307235 -0.11494251542890611406 -0.074929533367801490207 1.8253118118388036439 -0.46294531929881915788;0.34369642327613569854 -0.9481122487201619764 -0.99112814404075078034 -0.50671254968596091128 1.0387410778647843124 0.31594995712303697299;0.42905737251261649723 -0.14326649644269592865 1.1181359361938394414 -0.20831950903858598156 -1.6696192582998385934 1.5825600229772363026;-2.0698720714058889136 -1.5016312080873999157 0.41191032634521268507 -1.0629078523560933078 -1.1292778388457260785 -0.89113561972559041102;-0.7386393003306782612 0.46688125202899521948 0.79116456670144463814 -0.026624640538054782785 -1.3699949844702388191 -1.1998485309319073533;-0.07013864228074227769 -0.65214379973573000093 1.1762854646049420992 -0.14266136699507658836 -0.72026432022886499595 1.3579570842102166583;-0.38438889945211102139 1.2384184360619061582 -0.69640558351867354325 1.3459549756178588176 1.4559057234409753523 0.26141072305983270585;-1.280825254730400875 -1.5297812499589555912 0.9912452848526219773 0.23518553552062396172 -1.0655298595561639718 -0.766022391878558917;1.1848272097137910741 -1.7361431045131083817 -0.34787685084746444719 -0.41559106072921547792 -0.41311132113128368193 -0.16358187989485495351;-1.3520360577067631613 0.20265882337486809672 -0.37903445225830645349 -0.78919745101426230782 -1.6376060905252287636 -1.2156826832791449711;-1.3862115085960529104 -0.57953529556108962506 1.5147535308643709229 0.1726781454568073193 -0.22642442060475798105 -1.508256400572087319;0.47549379295029559067 0.12169012828453953934 0.82147532510241705328 2.3822031033942105971 0.096197358792979761888 0.34256107842833449784;1.0094543015192376512 1.7406745254692639335 0.25195941722037279442 0.68305271992016725058 0.26790583585058075355 -0.67229702330870377835;1.2569389481885346882 -0.70381606323544121384 1.1915556267532982915 0.049759354004505422508 -1.2260040114965393698 0.26520094606453614716;0.96051618675622052468 0.37325129151336439159 1.438923046137680295 0.38520908392276531629 -0.15484800872453066689 1.0259809223212856821;-0.74759405621027108513 -0.46015931512375862766 0.34815840491720217997 0.095691210310689805985 1.7569118067690201457 -0.83101703078936872693;1.6870608852076229844 1.0641721025174806226 -0.091672930765642479667 0.013678644186307964067 0.70056220055390838741 0.46438348525494066443;0.71006798077249067003 1.6398307923154142873 1.0206421674366747965 0.76881087917384760555 -1.1543890363595452619 -1.1949668558182282574;-1.0713886082261170341 -0.71120570594351162352 0.5738559179252500364 -1.2760133281604917332 0.61341320960917489202 2.5003771577460844888;0.16743819558359571142 0.69359703804561001483 0.98038948841006468005 -0.37413611418992653856 -0.85133233004324648796 -1.3828737117135441181;-1.1925741574669284084 -0.40861649526772525487 0.48437691732381954468 0.98768850999054269568 -1.1916479104622481611 -0.75521645933368941606;-1.0625421892607560537 1.4481750029897426657 0.53461063511752404676 -1.3614574890197363999 0.87152584963097268211 -0.21799255251146176793;-1.4432342216323921225 -0.28315239148362220112 -0.88236573542702789741 1.0333541698513974971 -1.1136507354414202364 -1.0915849626020064367;-0.35645149005526616248 0.6369523272954513704 1.105461355796504952 1.2124877050128257672 -0.94765043158407225032 -1.742752208066081554;-0.52168234824128767446 -2.628221052492008436 0.077970188064154691276 -0.16231624781668335666 0.75716169020767931652 1.9639708713146422081];

% Layer 2
b2 = -0.18203960422199988445;
LW2_1 = [-0.020865859926198188079 0.96416091669244063933 0.57257526771815914213 -1.8167056655379396624 -3.3484578432444034313 -1.0022286620300215887 1.2103079681593316153 0.85474332653850604302 -0.30267135129275374306 1.7171950780073683696 0.21646974899838911099 -1.2906462952138828548 0.42470631263879310424 -0.0395194290268032003 -0.96885393566659727682 -0.59777038312489638727 0.19929117255537040498 0.54285616809899250867 0.10944952288572240562 -0.4124958782954873393 0.49173528817342726516 0.77563522045294408525 0.51477573708625345983 -1.1777638688080791507 0.56991140164230269516 0.22270001122809784944 -0.2743162434512934067 -0.046928855836202057472 0.5476103730602828179 -1.8965535027180251415];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 1;
y1_step1.xoffset = -1;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
