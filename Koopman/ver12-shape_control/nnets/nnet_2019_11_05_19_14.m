function [Y,Xf,Af] = nnet_2019_11_05_19_14(X,~,~)
%NNET_2019_11_05_19_14 neural network simulation function.
%
% Auto-generated by MATLAB, 05-Nov-2019 19:14:43.
% 
% [Y] = nnet_2019_11_05_19_14(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.975989872115545;-0.138077310123545;-0.154415407580698;-0.268470884366452;-1;-1];
x1_step1.gain = [1.73078247442146;2.31869816605332;4.32592483501733;3.61945739426991;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.065673938037406440205;3.2731128547556496144;2.983597990259638788;0.86962337704819747675;1.9547271872966358597;0.3383552201704069784;2.3616221275383426637;-2.9963093269740586067;-5.2275977641037183474;-3.1150174814891875563;2.7427131962226960482;-3.0890177919180126231;-2.1345740876954999443;-0.2514148508502860313;3.8114344441241101435;-1.4730705911381276607;-3.657645525785567564;0.86060134652035114033;-1.1577534084269371917;-0.79548861110384083695;6.0861667301165729427;-2.0191384203136668596;4.6183415014351512085;0.48447603156523827428;-2.2742186161487745188;-2.0374915144978937853;3.6100762575692963985;0.20409421337044172939;0.94350893717286843376;-6.4539062741950701252];
IW1_1 = [0.26943437848967383141 -0.037955086929811823748 0.62084740761410783794 0.17527809953182496572 1.6025714205254379952 -3.5074417825085544287;-0.35922990284195088773 -0.64290497655686396072 0.40781044573167057887 -1.5380736973441533344 -0.25419132152088991239 -3.5071090062744758598;-1.7251288547311676158 -0.62285753535383137081 -0.6613517896791374362 1.0312592160220914739 1.0896335226181024236 0.6899964940017221382;-0.75980354578320996595 -1.0258520645552227091 -0.200752134100523838 0.3296939257607429119 1.833565161270088284 1.7253282969850116668;1.4168687115816989142 2.3311770685771797673 -0.49150291241059357317 -0.32523096154270253466 -7.8622031510107106556 2.0831603681624866198;-1.2425833131510017893 -2.6912499230796531613 -0.48163551363195378219 0.55473246715622726022 3.5321073077017550723 5.1337794968555812147;-0.6523894469163208365 0.07292889662198209777 0.69030024386416566351 0.16945320420207182766 1.8280897181754700576 -4.1178028264449251239;7.8863900958170285449 3.0954885024308733676 0.77467658582628862174 -0.25056350791069059714 -5.15778173896645864 0.16806727139177210506;1.3672246882634329079 -0.29379646829599931346 -2.0323755932352347564 -0.43269887083374697356 -2.1315249604143615691 5.1253174776430796555;0.78720702451997603966 -0.11225715303567611325 -0.61415356005108878712 -0.16852110288745178468 -0.61701389570293885267 4.4784026559850635962;-0.88862452635928423916 0.42372025103462512829 1.622342848653164582 0.45071190782405434749 5.3380591340674641287 -4.7669236767108253972;0.94557590019356685396 -0.44798967335517075883 -2.2165906297730439967 -0.64166119947024813364 -6.4154484428534033214 5.8191577764098054715;1.5169902018102490171 1.0800047803355301568 -0.60904464350454556865 -0.75352773797394334565 1.1414473650171781394 4.3256379720943005651;2.6107748378123663002 -0.77027488979424352245 -2.8916262077464685021 0.91499854812925174308 -2.0677473788339941763 -1.2792506005811523639;-1.5024401608004518405 0.31969019110961061081 2.5760852016180466606 0.37509726477993593496 4.1640236608770599958 -3.4691142072064429236;0.47912216444409716498 -0.055903745274493210626 -0.13427070289543613368 -0.18468338709546130993 2.5613692431456591692 0.46743871523210223096;1.175738346811372681 0.16687566885774851588 -3.5938432110418099263 -0.30353104011889958658 -4.0625128494488844666 3.4167868089039483692;-0.29492331251831666039 -0.11750873967214592319 0.076918536054332728447 0.05340039498098366616 -1.9724576271634999269 -0.71105358476705793347;-1.7562859403910779932 -1.3270515313247159828 -1.5447667949273518051 -1.3736023886788399917 0.64141878578562416813 -0.23577139270012925643;-1.970419935532110367 -1.5483682278476464944 -0.50470281865810617816 0.24341981493918199431 3.2870183079119845715 1.4344966686055669047;-0.019559516956986235797 -0.56714098493324893724 0.30241034190161919515 0.017534500615556135317 4.0345247320842823058 -5.2784315884510801808;0.6092866543103427901 -0.25133566302651333402 -0.90868361108959472272 -0.20299085615882422884 -3.4105563554924098746 3.3372355451900213019;-0.78373666445491252386 -0.3210327044989888523 -1.053882958070071707 4.8360787198436661072 -4.7808479866292117322 -3.6388043101960239056;-0.36243159002524383272 -0.46664942705618095431 -0.12049279066770324231 0.20766236472236290767 0.91785643102680736227 1.307964134077794327;-0.13743696143062006376 0.69463819398988613241 -0.71599365266369241478 3.0587233952571692974 -1.0808960352903711488 2.4316712692081106084;0.53271782803553369146 0.83061465817072466233 0.20250168194804160637 -0.75221140193336577529 -1.5088440999227830108 -1.3242850487509842949;-1.914329771481562581 -0.8405498763588750144 5.4620884813985863815 -0.16337977322303362526 6.8553605952773857268 -6.0705583664270994504;-6.4770319844954435951 -2.5618169119774751863 -0.65267528189666457195 -0.71043900871802678765 5.0943786298136117807 -0.50555553481032733387;1.7032410553533707809 0.84969337826402779879 0.99802056910571768089 1.2474067561731470022 -0.86578679023686078153 0.46820876502124075813;-2.8266980580894980335 -9.2963105066672078181 -0.46373293408710025698 0.098340436494778679655 9.4281396067573606246 -1.2246020749757593471];

% Layer 2
b2 = 1.781480950068268454;
LW2_1 = [0.58283015848148667093 2.0632250582063949018 -1.0775294549671612376 1.7047882901152746626 0.1803524111273130115 0.15522048060577278705 6.991062593717554563 0.17178299712381042696 -2.8091878808151422575 5.3405630359777847005 7.5618180880078353923 3.1485651521895503535 0.32829974468080236338 -0.072142124213647546016 -2.2571873422167141321 -3.7444820477242921619 -0.50901415925895998615 -4.822305343362326191 -0.8022982661688021766 0.69340187836142763711 -2.07680886451215585 7.4432549311745725973 0.21932441052379966773 -3.3996896502206479518 0.97022334509357266441 -1.018254349994346164 0.10744201384587805104 -0.31141135087969584738 -1.4263768177144950933 0.067717994802386674569];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 1;
y1_step1.xoffset = -1;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
